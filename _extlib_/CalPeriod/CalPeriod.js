if(!nexacro.CalPeriod){nexacro.CalPeriod=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){nexacro._CompositeComponent.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);};nexacro.CalPeriod.prototype=nexacro._createPrototype(nexacro._CompositeComponent,nexacro.CalPeriod);nexacro.CalPeriod.prototype._type_name="CalPeriod";nexacro.CalPeriod.prototype.value="";nexacro.CalPeriod.prototype.cssclass="";nexacro.CalPeriod.prototype.readonly=false;nexacro.CalPeriod.prototype.set_value=function(_a){this.value=_a;if(this.form.maeCalFrom){try{this.form.fnSetValue(_a);}catch(ex){var _b="";var _c="";if(!this._isNull(_a)){if(_a.indexOf(",")> -1){var _d=_a.split(",");_b=_d[0];_c=_d[1];}else{_b=_a;}}this.form.maeCalFrom.set_value(_b);this.form.maeCalTo.set_value(_c);}}};nexacro.CalPeriod.prototype.set_cssclass=function(_a){this.cssclass=_a;if(this.form.maeCalFrom){this.form.maeCalFrom.set_cssclass(_a);this.form.maeCalTo.set_cssclass(_a);}};nexacro.CalPeriod.prototype.set_readonly=function(_a){if(typeof (_a)!="boolean"){_a=(_a=="true")?true:false;}this.readonly=_a;if(this.form.maeCalFrom){this.form.maeCalFrom.set_readonly(_a);this.form.maeCalTo.set_readonly(_a);this.form.btnCal.set_visible(!_a);}};nexacro.CalPeriod.prototype.on_getBindableProperties=function(){return ["value"];};nexacro.CalPeriod.prototype.on_init_bindSource=function(_a,_b,_c){if(_b=="value"){this.value=undefined;}};nexacro.CalPeriod.prototype.on_change_bindSource=function(_a,_b,_c,_d){if(_a=="value"){this.set_value(_b.getColumn(_c,_d));}};nexacro.CalPeriod.prototype._isNull=function(_a){if(new String(_a).valueOf()=="undefined"){return true;}if(_a==null){return true;}var _b=new String(_a);if(_b==null){return true;}if(_b.toString().length==0){return true;}return false;};}nexacro.CalPeriod.prototype._get_form_module=function(){return function(){if(!this._is_form){return;}var _a=null;this.on_create=function(){this.set_name("CalPeriod");this.set_titletext("CalPeriod");if(nexacro.Form==this.constructor){this._setFormPosition(210,24);}_a=new nexacro.PopupDiv("pdvCal","0","24","430","276",null,null,null,null,null,null,this);_a.set_visible("false");_a.set_background("#ffffff");_a.set_border("1px solid #dddddd");this.addChild(_a.name,_a);_a=new nexacro.Button("btnClear",null,"240","62","24","118",null,null,null,null,null,this.pdvCal.form);_a.set_taborder("0");_a.set_text("초기화");_a.set_cssclass("cal_Pop_BottomBtn");this.pdvCal.addChild(_a.name,_a);_a=new nexacro.Button("btnSel",null,"240","50","24","64",null,null,null,null,null,this.pdvCal.form);_a.set_taborder("1");_a.set_text("선택");_a.set_cssclass("cal_Pop_BottomBtn");this.pdvCal.addChild(_a.name,_a);_a=new nexacro.Button("btnClose",null,"240","50","24","10",null,null,null,null,null,this.pdvCal.form);_a.set_taborder("2");_a.set_text("닫기");_a.set_cssclass("cal_Pop_BottomBtn");this.pdvCal.addChild(_a.name,_a);_a=new nexacro.Calendar("calFrom","10","10","200","220",null,null,null,null,null,null,this.pdvCal.form);_a.set_taborder("3");_a.set_type("monthonly");_a.set_border("0px none");this.pdvCal.addChild(_a.name,_a);_a=new nexacro.Calendar("calTo","calFrom:8","10","200","220",null,null,null,null,null,null,this.pdvCal.form);_a.set_taborder("4");_a.set_type("monthonly");_a.set_border("0px none");this.pdvCal.addChild(_a.name,_a);_a=new nexacro.Static("Static01_00_00_01_00_00_00_01_00_00_00","210","15","8","100",null,null,null,null,null,null,this.pdvCal.form);_a.set_taborder("5");_a.set_text("8");_a.set_cssclass("sta_Guide");_a.set_visible("false");this.pdvCal.addChild(_a.name,_a);_a=new nexacro.Static("Static01_00_00_01_00_00_00_01_00_00_00_00","184","230","100","10",null,null,null,null,null,null,this.pdvCal.form);_a.set_taborder("6");_a.set_text("10");_a.set_cssclass("sta_Guide");_a.set_visible("false");this.pdvCal.addChild(_a.name,_a);_a=new nexacro.Static("Static01_00_00_01_00_00_00_01_00_00_00_01","0","15","10","100",null,null,null,null,null,null,this.pdvCal.form);_a.set_taborder("7");_a.set_text("10");_a.set_cssclass("sta_Guide");_a.set_visible("false");this.pdvCal.addChild(_a.name,_a);_a=new nexacro.Static("staMsg","10","240","235","24",null,null,null,null,null,null,this.pdvCal.form);_a.set_initvalueid("iv_fc_red");_a.set_taborder("8");_a.set_text("※ 시작일이 종료일보다 이후 날짜입니다.");_a.set_cssclass("sta_txt_desc");_a.set_visible("false");this.pdvCal.addChild(_a.name,_a);_a=new nexacro.MaskEdit("maeCalFrom","0","0","85","24",null,null,null,null,null,null,this);_a.set_taborder("0");_a.set_format("####-##-##");_a.set_textAlign("left");_a.set_type("string");_a.set_maskchar(" ");this.addChild(_a.name,_a);_a=new nexacro.Static("Static02","85","0","20","24",null,null,null,null,null,null,this);_a.set_taborder("1");_a.set_text("~");_a.set_cssclass("sta_WF_unit");this.addChild(_a.name,_a);_a=new nexacro.MaskEdit("maeCalTo","105","0","105","24",null,null,null,null,null,null,this);_a.set_taborder("2");_a.set_format("####-##-##");_a.set_textAlign("left");_a.set_type("string");_a.set_maskchar(" ");this.addChild(_a.name,_a);_a=new nexacro.Button("btnCal","185","0","25","24",null,null,null,null,null,null,this);_a.set_taborder("3");_a.set_cssclass("btn_WF_cal");this.addChild(_a.name,_a);_a=new nexacro.Layout("default","",210,24,this,function(_b){});this.addLayout(_a.name,_a);};this.loadPreloadList=function(){};this.registerScript("CalPeriod.xcdl",function(){this._onload=function(_a,_b){if(!this._isNull(this.parent.value)){this.fnSetValue(this.parent.value);}if(!this._isNull(this.parent.cssclass)){this.parent.set_cssclass(this.parent.cssclass);}if(this.parent.readonly==true){this.parent.set_readonly(this.parent.readonly);}};this.fnSetValue=function(_b){var _c="";var _d="";if(!this._isNull(_b)){if(_b.indexOf(",")> -1){var _e=_b.split(",");_c=_e[0];_d=_e[1];}else{_c=_b;}}this.maeCalFrom.set_value(_c);this.maeCalTo.set_value(_d);this.fnRtnValue();};this.fnRtnValue=function(){var _b=(this._isNull(this.maeCalFrom.value.trim())&&this._isNull(this.maeCalTo.value.trim()))?"":this.maeCalFrom.value.trim()+","+this.maeCalTo.value.trim();this.parent.value=_b;this.parent.applyto_bindSource("value",_b);};this.btnCal_onclick=function(_a,_b){var _c=this._getDate();var _d=this.maeCalFrom.value;var _e=this.maeCalTo.value;if(this._isNull(_d)){_d=_c;}if(this._isNull(_e)){_e=_c;}var _f=_c.substr(0,4);var _g=_c.substr(4,2);var _h=_c.substr(6,2);var _i=_d.substr(0,4).trim().padLeft(4,"0");var _j=_d.substr(4,2).trim().padLeft(2,"0");var _k=_d.substr(6,2).trim().padLeft(2,"0");var _l=_e.substr(0,4).trim().padLeft(4,"0");var _m=_e.substr(4,2).trim().padLeft(2,"0");var _n=_e.substr(6,2).trim().padLeft(2,"0");if(_i=="0000"){_i=_f;}if(_j=="00"){_j=_g;}if(_k=="00"){_k=_h;}if(_l=="0000"){_l=_f;}if(_m=="00"){_m=_g;}if(_n=="00"){_n=_h;}if(parseInt(_i)<1900){_i="1900";}if(parseInt(_l)<1900){_l="1900";}this.fvFromDt=_i+_j+_k;this.fvToDt=_l+_m+_n;this.pdvCal.form.calFrom.set_value(this.fvFromDt);this.pdvCal.form.calTo.set_value(this.fvToDt);this.pdvCal.form.staMsg.set_visible(false);this.pdvCal.trackPopupByComponent(this.maeCalFrom,this.maeCalFrom.left,this.maeCalFrom.height);};this.pdvCal_btnClose_onclick=function(_a,_b){this.pdvCal.form.staMsg.set_visible(false);this.pdvCal.closePopup();};this.maeCal_oninput=function(_a,_b){var _c=_a.value;var _d=_c.substr(0,4);var _e=_c.substr(4,2).trim();var _f=_c.substr(6,2).trim();if(!this._isNull(_e)&&parseInt(_e)>12){_a.set_value(_c.substr(0,5));_a.setCaretPos(6);}var _g=Number(this.gfnGetLastDate(_d+_e).substr(6,2));if(!Number.isNaN(_g)){if(this._isNull(_f)){return;}if(_g==28||_g==29){sDayFirst=_c.substr(6,1).trim();if(parseInt(sDayFirst)>2){_a.set_value(_c.substr(0,6));_a.setCaretPos(8);}if(parseInt(_f)>_g){_a.set_value(_c.substr(0,7));_a.setCaretPos(9);}}else{if(parseInt(_f)>_g){_a.set_value(_c.substr(0,7));_a.setCaretPos(9);}}}};this.pdvCal_btnSel_onclick=function(_a,_b){if(parseInt(this.pdvCal.form.calFrom.value)>parseInt(this.pdvCal.form.calTo.value)){this.pdvCal.form.staMsg.set_visible(true);return;}this.pdvCal.form.staMsg.set_visible(false);this.maeCalFrom.set_value(this.pdvCal.form.calFrom.value);this.maeCalTo.set_value(this.pdvCal.form.calTo.value);this.fnRtnValue();this.pdvCal.closePopup();};this.pdvCal_btnClear_onclick=function(_a,_b){this.pdvCal.form.calFrom.set_value(this.fvFromDt);this.pdvCal.form.calTo.set_value(this.fvToDt);};this.MaskEdit_onchanged=function(_a,_b){this.fnRtnValue();};this._isNull=function(_b){if(new String(_b).valueOf()=="undefined"){return true;}if(_b==null){return true;}var _c=new String(_b);if(_c==null){return true;}if(_c.toString().length==0){return true;}return false;};this._getDate=function(_b){if(this._isNull(_b)){_b="date";}var _c=new Date();var _d;if(_b=="date"){_d=_c.getFullYear()+((_c.getMonth()+1)+"").padLeft(2,'0')+(_c.getDate()+"").padLeft(2,'0');}else if(_b=="time"){_d=_c.getFullYear()+((_c.getMonth()+1)+"").padLeft(2,'0')+(_c.getDate()+"").padLeft(2,'0')+(_c.getHours()+"").padLeft(2,'0')+(_c.getMinutes()+"").padLeft(2,'0')+(_c.getSeconds()+"").padLeft(2,'0');}else if(_b=="milli"){_d=_c.getFullYear()+((_c.getMonth()+1)+"").padLeft(2,'0')+(_c.getDate()+"").padLeft(2,'0')+(_c.getHours()+"").padLeft(2,'0')+(_c.getMinutes()+"").padLeft(2,'0')+(_c.getSeconds()+"").padLeft(2,'0')+(_c.getMilliseconds()+"").padLeft(3,'0');}return (_d);};});this.on_initEvent=function(){this.addEventHandler("onload",this._onload,this);this.pdvCal.form.btnClear.addEventHandler("onclick",this.pdvCal_btnClear_onclick,this);this.pdvCal.form.btnSel.addEventHandler("onclick",this.pdvCal_btnSel_onclick,this);this.pdvCal.form.btnClose.addEventHandler("onclick",this.pdvCal_btnClose_onclick,this);this.pdvCal.form.calFrom.addEventHandler("onchanged",this.PopupDiv00_Calendar00_onchanged,this);this.maeCalFrom.addEventHandler("oninput",this.maeCal_oninput,this);this.maeCalFrom.addEventHandler("onchanged",this.MaskEdit_onchanged,this);this.maeCalTo.addEventHandler("oninput",this.maeCal_oninput,this);this.maeCalTo.addEventHandler("onchanged",this.MaskEdit_onchanged,this);this.btnCal.addEventHandler("onclick",this.btnCal_onclick,this);};this.loadIncludeScript("CalPeriod.xcdl");this.loadPreloadList();_a=null;};};
