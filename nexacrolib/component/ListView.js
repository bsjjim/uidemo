//==============================================================================
//
//  Copyright 2021 TOBESOFT Co., Ltd.
//  All Rights Reserved.
//
//  NOTICE: TOBESOFT permits you to use, modify, and distribute this file 
//          in accordance with the terms of the license agreement accompanying it.
//
//  Readme URL: http://www.nexacro.com/legal/license/tobesoft/ko/NexacroN-public-license-readme-1.1.html
//
//==============================================================================
if(!nexacro._ExprInfo){nexacro._ExprInfo=function(){this.baseid="";this.basesq= -1;this.target=null;this.setter="";this.values=null;this.exprcx="";this.exprix= -1;};var _pExprInfo=nexacro._createPrototype(Object,nexacro._ExprInfo);nexacro._ExprInfo.prototype=_pExprInfo;_pExprInfo._type_name="_ExprInfo";_pExprInfo._isSetExprCtx=function(){return this.exprcx!="";};_pExprInfo._isSetExprIdx=function(){return this.exprix>=0;};_pExprInfo._setExprFuncCtx=function(_a){this.exprcx=_a;};_pExprInfo._setExprFuncIdx=function(_a){this.exprix=_a;};_pExprInfo._setExprInfo=function(_a){this.exprif=_a;};_pExprInfo._clear=function(){this.target=null;this.values=null;this.exprif=null;this.exprcx="";this.exprix= -1;};delete _pExprInfo;}if(!nexacro._ExprData){nexacro._ExprData=function(_a,_b,_c){this._setExprType(_a,_b,_c);this._exprparser=null;this._exprtarget=null;this._exprinfo=[];this._exprfunc=[];};var _pExprData=nexacro._createPrototype(Object,nexacro._ExprData);nexacro._ExprData.prototype=_pExprData;_pExprData._type_name="_ExprData";_pExprData._setExprType=function(_a,_b,_c,_d,_e){this._exprtype=(_a?0x01:0)+(_b?0x02:0)+(_d?0x04:0)+(_e?0x08:0)+(_c?0x10:0);};_pExprData._isValueExpr=function(){return (this._exprtype&0x01)!=0;};_pExprData._isInnerExpr=function(){return (this._exprtype&0x02)!=0;};_pExprData._isFullExpr=function(){return (this._exprtype&0x10)!=0;};_pExprData._isDataExpr=function(){return (this._exprtype&0x1E)!=0;};_pExprData._isXMLExpr=function(){return (this._exprtype&0x04)!=0;};_pExprData._isJSONExpr=function(){return (this._exprtype&0x08)!=0;};_pExprData._initExprParser=function(){this._exprparser=new nexacro.ExprParser();};_pExprData._initExprOwner=function(_a){this._exprowner=_a;};_pExprData._initExprTarget=function(_a){this._exprtarget=_a;};_pExprData._getExprInfos=function(){return this._exprinfo;};_pExprData._initExprInfo=function(_a){if(_a&&this._exprparser&&this._exprtarget){var _b=_a.exprcx;var _c=nexacro._createInlineFunc(this._exprparser.makeExpr(this._exprtarget,_b));if(_c){_a._setExprFuncIdx(this.setExprFunc(_b,_c));}}};_pExprData._initExprInfoArray=function(_a){if(_a){for(var _b=0,_c=_a.length;_b<_c;_b++ ){this._initExprInfo(_a[_b]);}}};_pExprData._pushExprInfoArray=function(_a){if(_a){for(var _b=0,_c=_a.length;_b<_c;_b++ ){this._exprinfo.push(_a[_b]);_a[_b]=null;}}};_pExprData._pushInfoArray=function(_a,_b){if(_a&&_b){for(var _c=0,_d=_a.length;_c<_d;_c++ ){_b.push(_a[_c]);_a[_c]=null;}}};_pExprData._setExprInfos=function(_a){this._clearExprInfos();this._clearExprFuncs();this._addExprInfo(_a);};_pExprData._addExprInfo=function(_a){if(_a.length){this._initExprInfoArray(_a);this._pushExprInfoArray(_a);}else{this._initExprInfo(_a);this._exprinfo.push(_a);}};_pExprData.setExprFunc=function(_a,_b){var _c=this._exprfunc.length;this._exprfunc.push(_b);return _c;};_pExprData.getExprFuncByIdx=function(_a){return _a>=0&&_a<this._exprfunc.length?this._exprfunc[_a]:null;};_pExprData.getExprFuncByCtx=function(_a){};_pExprData._getExprData=function(_a){var _b=this._exprinfo;if(_b){for(var _d=0,_e=_b.length;_d<_e;_d++ ){var _c=_b[_d];if(_c){_c.values=this._fetchExprData(_c.exprix,_a);}}}return this;};_pExprData._fetchExprData=function(_a,_b){if(_a>=0){{var _c=this._exprfunc[_a];if(_c){return _c.call(this._exprowner,this._exprtarget);}}}return undefined;};_pExprData._clearExprTarget=function(){this._exprtarget=null;};_pExprData._clearExprParser=function(){if(this._exprparser){delete this._exprparser;this._exprparser=null;}};_pExprData._clearExprInfos=function(){for(var _a=0,_b=this._exprinfo.length;_a<_b;_a++ ){if(this._exprinfo[_a]){this._exprinfo[_a]._clear();delete this._exprinfo[_a];this._exprinfo[_a]=null;}}this._exprinfo=[];};_pExprData._clearExprFuncs=function(){for(var _a=0,_b=this._exprfunc.length;_a<_b;_a++ ){if(this._exprfunc[_a]){delete this._exprfunc[_a];this._exprfunc[_a]=null;}}this._exprfunc=[];};_pExprData._clear=function(){this._clearExprInfos();this._clearExprFuncs();this._clearExprParser();this._clearExprTarget();};delete _pExprData;}if(!nexacro._SelectInfo){nexacro._SelectConst={SELECTTYPE_NONE:0x00,SELECTTYPE_VALUE:0x01,SELECTTYPE_TEXT:0x02,SELECTTYPE_COMP:0x04,SELECTTYPE_ITEM:0x08,SELECTTYPE_USER:0xFF};nexacro._SelectInfo=function(_a,_b,_c,_d,_e){this._initSelect(_a,_b,_c,_d,_e);};var _pSelectInfo=nexacro._createPrototype(nexacro.Object,nexacro._SelectInfo);nexacro._SelectInfo.prototype=_pSelectInfo;_pSelectInfo._type_name="_SelectInfo";_pSelectInfo._initSelect=function(_a,_b,_c,_d,_e){this._selectlist=[];this._unselvalue=_e;this._selecttype=_a?_a:nexacro._SelectConst.SELECTTYPE_NONE;this._positcount=_b?_b:1;this._rangecount=_c?_c:1;this._multicount=_d?_d:1;this._currselect=this._multicount>=0?this._multicount-1: -1;};_pSelectInfo._setSelectEvent=function(_a){this.eventtarget=_a;};_pSelectInfo._clearSelectEvent=function(){this.eventtarget=null;};_pSelectInfo._getCurrentSelect=function(){if(this._currselect<0||this._currselect>=this._selectlist.length){return this._unselvalue;}else{return this._selectlist[this._currselect];}};_pSelectInfo._setCurrentSelect=function(_a){this._currselect=this._currselect<0?0:this._currselect;this._selectlist.length=this._currselect+1;var _b=this._selectlist[this._currselect];if(this._checkSelectChange(_b,_a)){this._selectlist[this._currselect]=_a;if(this.eventtarget){this.eventtarget._onChangeSelect(this,this._selecttype,_b,_a);}}};_pSelectInfo._addMultiSelect=function(_a){if(this._multicount<0){this._currselect++ ;this._selectlist.length=this._currselect+1;this._selectlist[this._currselect]=_a;if(this.eventtarget){this.eventtarget._onChangeSelect(this,this._selecttype,null,_a);}}else if(this._multicount>0){if(this._currselect+1<this._multicount){this._currselect++ ;this._selectlist[this._currselect]=_a;if(this.eventtarget){this.eventtarget._onChangeSelect(this,this._selecttype,null,_a);}}}};_pSelectInfo._popMultiSelect=function(){if(this._multicount<0){this._currselect-- ;this._selectlist.length=this._currselect-1;if(this.eventtarget){this.eventtarget._onChangeSelect(this,this._selecttype,null,null);}}else if(this._multicount>0){if(this._currselect-1>=0){this._selectlist[this._currselect]=this._unselvalue;this._currselect-- ;}}};_pSelectInfo._clearCurrentSelect=function(){if(this._multicount){this._selectlist[this._currselect]=this._unselvalue;}else{this._clear();}if(this.eventtarget){this.eventtarget._onChangeSelect(this,this._selecttype,this._currselect,null);}};_pSelectInfo._clearCurrentSelectPos=function(){this._selectlist=[];this._currselect=this._multicount>=0?this._multicount-1: -1;};_pSelectInfo._clearMultiSelectList=function(){this._selectlist=[];this._selectlist.length=this._multicount>0?this._multicount:0;this._currselect=this._multicount>0?this._multicount-1: -1;for(var _a=0,_b=this._multicount;_a<_b;_a++ ){this._selectlist[_a]=this._unselvalue;}if(this.eventtarget){this.eventtarget._onChangeSelect(this,this._selecttype,this._currselect,null);}};_pSelectInfo._checkAboveCurrentSelect=function(_a,_b){};_pSelectInfo._checkAboveMultiSelectList=function(_a,_b){};_pSelectInfo._checkSelectChange=function(_a,_b){if(this.eventtarget){return this.eventtarget._onCheckSelectChange(_a,_b);}};_pSelectInfo._getMultiSelectCount=function(){return this._multicount?this._multicount:this._selectlist.length;};_pSelectInfo._getMultiSelectList=function(){return this._selectlist;};_pSelectInfo._clear=function(){this._selectlist=[];this._unselvalue=null;this._eventtarget=null;this._currselect= -1;};delete _pSelectInfo;}if(!nexacro.SimpleComponent){nexacro.SimpleComponent=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);this._initProperties();this._initEvents();};var _pSimpleComponent=nexacro._createPrototype(nexacro.Component,nexacro.SimpleComponent);nexacro.SimpleComponent.prototype=_pSimpleComponent;_pSimpleComponent._type_name="SimpleComponent";_pSimpleComponent._is_simple_control=true;_pSimpleComponent.create=function(){if(this._is_created){return;}this.createComponent();};_pSimpleComponent.createComponent=function(_a){this._initComponent();if(this.onCreateComponent()){var _b=this._getParentElement();if(!_a&&_b&&_b.handle){this.onCreated(this._getWindow());}return true;}else{return false;}};_pSimpleComponent.onCreateComponent=function(){var _a=this._getParentElement();if(_a){if(this._createControlElement(_a)){this._initControlElement();this._applyProperties();this._applyAccessibility();this._initBindInfo();this._initExprInfo();this._initContents();}return true;}else{return false;}};_pSimpleComponent.on_created=function(_a){this.onCreated(_a);};_pSimpleComponent.onCreated=function(_a){if(this._is_loading){return;}var _b=this._getParentElement();if(_b){_a=_a||this._getWindow();if(this._createdControlElement(_a)){this._initHotKey();this._resetStatus();if(!this._is_created){this._createdContents(_a);this._is_created=true;}this._recalcLayout();}}};_pSimpleComponent._initComponent=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k){var _l=this._control_element;if(!_l){this._initUniqueID();this._initOverflow();this._initBind();this._initExpr();this._initSelect();this._initStatus();this._initAccessibility();}};_pSimpleComponent._initComponentClone=function(_a){this._initUniqueID();this._initOverflow();this._initBind();this._initExpr();this._initSelect();this._initStatus();this._cloneProperties(_a);this._initAccessibility();};_pSimpleComponent._initUniqueID=function(){if(this._unique_id.length<=0){this._unique_id=this.parent&&this.parent._unique_id?(this.parent._unique_id+"."+this.id):(this.id?this.id:"");}};_pSimpleComponent._cloneProperties=function(_a){if(_a){this._onCloneProperities(_a);}};_pSimpleComponent._uninitComponent=function(){this._clearInitValue();this._clearEventListeners();this._clearCaptureLock();this._clearParentsList();this._clearInnerVars();this._clearStyleVars();};_pSimpleComponent._clearInitValue=function(){if(this._setpropinitfn){delete this._setpropinitfn;this._setpropinitfn=null;}};_pSimpleComponent._clearCaptureLock=function(){var _a=this._getWindow();if(_a&&this._track_capture){_a._releaseCaptureLock(this);_a._releaseCaptureLock(this._attached_comp);this._track_capture=false;}};_pSimpleComponent._clearParentsList=function(){if(this.parent&&this.parent.removeChild){this.parent.removeChild(this.id);}else{var _a=this._getWindow();if(_a){_a._removeFromCurrentFocusPath(this);}}};_pSimpleComponent._clearInnerVars=function(){if(this._refform){this._refform=null;}if(this.parent){this.parent=null;}if(this._refobj){this._refobj=null;}if(this.hotkey){this.hotkey=null;}if(this._event_list){this._event_list=null;}if(this._last_focused){this._last_focused=null;}if(this._cssselector){this._cssselector=null;}};_pSimpleComponent._clearStyleVars=function(){this._clearStyleObject();};_pSimpleComponent.onDestroyComponent=function(){{this._is_created=false;this.onDestroyContents();}this._clearHotKey();this._clearBind();this._clearExpr();this._clearSelect();this._clearStatus();this._clearAccessibility();this._clearProperties();this._destroyControlElement();};_pSimpleComponent.destroyComponent=function(){{this._is_alive=false;this._uninitComponent();this.onDestroyComponent();return true;}};_pSimpleComponent.destroy=function(){if(!this._is_alive){return false;}return this.destroyComponent();};_pSimpleComponent._createControlElement=function(_a){var _b=this._control_element;if(!_b){_b=this._onCreateControlElement(_a);_b._is_nc_element=this._is_nc_control;}return _b;};_pSimpleComponent._onCreateControlElement=function(_a){return this.on_create_control_element(_a);};_pSimpleComponent._initControlElement=function(){this._initControlElementInfo();this._initControlElementStatus();this._initControlElementRTL();this._initControlElementCssInfo();this._initControlElementPositionSize();this._initControlElementStyleProps();};_pSimpleComponent._initControlElementInfo=function(){this._control_element.initElementInfo();};_pSimpleComponent._initControlElementStatus=function(){if(!this.visible){this._control_element.setElementVisible(false);}else{this._control_element.setElementVisible(true);}};_pSimpleComponent._initControlElementRTL=function(){this.on_apply_prop_rtl();};_pSimpleComponent._initControlElementCssInfo=function(){if(!this._is_initcssselector){this._setControlElementCssSelector();this._makeCSSMapInfo();this._setControlElementCssMapInfo();this._is_initcssselector=true;}};_pSimpleComponent._setControlElementCssMapInfo=function(){var _a=this._cssselector.enabled;if(_a){this._control_element.setElementCSSMapInfo(_a.border,_a.padding,_a.edge);}};_pSimpleComponent._initControlElementPositionSize=function(){this._calcArrangePosition();this._adjustPosition();this._control_element.setElementPosition(this._adjust_left,this._adjust_top);this._control_element.setElementSize(this._adjust_width,this._adjust_height);};_pSimpleComponent._initControlElementStyleProps=function(){this._initNormalStyleProperty(this._control_element);};_pSimpleComponent._createdControlElement=function(_a){var _b=this._control_element;if(_b){_b.create(_a);return _b.handle;}return null;};_pSimpleComponent._destroyControlElement=function(){if(this._control_element){this._control_element.destroy();this._control_element=null;}};_pSimpleComponent._createClientElement=function(){var _a=this._control_element;if(_a){this._onCreateClientElement(_a);if(this._client_elem){this._initClientElement();}}};_pSimpleComponent._onCreateClientElement=function(_a){this._client_elem=new nexacro.IconTextElement(_a);};_pSimpleComponent._initClientElement=function(){this._initClientElementPositionSize();this._initClientElementStyleProps();this._initClientElementValueProps();};_pSimpleComponent._initClientElementPositionSize=function(){this._client_elem.setElementPosition(0,0);this._client_elem.setElementSize(this._getClientWidth(),this._getClientHeight());};_pSimpleComponent._initClientElementStyleProps=function(){if(this.textAlign){this._client_elem.setElementTextAlign(this.textAlign);}if(this.verticalAlign){this._client_elem.setElementVerticalAlign(this.verticalAlign);}};_pSimpleComponent._initClientElementValueProps=function(){};_pSimpleComponent._getClientElement=function(){return this._client_elem;};_pSimpleComponent._setClientElementText=function(_a){this._client_elem.setElementText(_a);};_pSimpleComponent._createdClientElement=function(_a){if(this._client_elem){this._client_elem.create(_a);}};_pSimpleComponent._destroyClientElement=function(){if(this._client_elem){this._client_elem.destroy();this._client_elem=null;}};_pSimpleComponent._initOverflow=function(){};_pSimpleComponent._initContents=function(){this.onCreateContents();this._is_created_contents=true;this._is_loading=false;};_pSimpleComponent._createdContents=function(_a){this.onCreatedContents(_a);};_pSimpleComponent._clearContents=function(){this.onClearContents();};_pSimpleComponent._setContents=function(_a){this._onSetContents(_a);};_pSimpleComponent.onCreateContents=function(_a){this._createClientElement();};_pSimpleComponent.on_created_contents=function(_a){this.onCreatedContents(_a);};_pSimpleComponent.onCreatedContents=function(_a){this._createdClientElement(_a);};_pSimpleComponent.onClearContents=function(){this._destroyClientElement();};_pSimpleComponent.onDestroyContents=function(){this._clearContents();};_pSimpleComponent._onSetContents=function(_a){};_pSimpleComponent._recreateContents=function(){this._clearContents();this._initContents();this._createdContents(this._getWindow());this._recalcLayout(true);};_pSimpleComponent._recreateComponent=function(){this.destroyComponent();this.createComponent();};_pSimpleComponent._recreate=function(){this.destroy();this.create();};_pSimpleComponent.createCommand=function(){return this._createCommand();};_pSimpleComponent.attachHandle=function(_a){return this._attachHandle(_a);};_pSimpleComponent._createCommand=function(){var _a="";var _b=this._control_element;if(_b&&!this._is_loading){var _c=this._isEnable();if((this._real_enable==null&&_c==false)||(this._real_enable&&this._real_enable!=_c)){this._real_enable=_c;this._changeStatus("disabled",!_c);this.on_apply_prop_enable(_c);}else{this._real_enable=_c;this._setAccessibilityStatFlag(this._status,this._userstatus);}if(this._status||this._userstatus){this._apply_status_toelement("",this._status,"",this._userstatus);}this.onPrepareCommand();_a=_b.createCommandStart();if(_a){_a+=this.onCreateContentsCommand();_a+=_b.createCommandEnd();}this._is_create_commandstr=true;}return _a;};_pSimpleComponent.onPrepareCommand=function(){this._applyProperties();this._update_position();this._recalcLayout(true);};_pSimpleComponent.onCreateContentsCommand=function(){return this._client_elem?this._client_elem.createCommand():"";};_pSimpleComponent._attachHandle=function(_a){if(!this._is_created&&this._is_create_commandstr){this.onAttachControlHandle(_a);this.onAttachContentsHandle(_a);this._resetStatus();this._is_created=true;}};_pSimpleComponent.onAttachControlHandle=function(_a){var _b=this._control_element;if(_b){_b.attachHandle(_a);}};_pSimpleComponent.onAttachContentsHandle=function(_a){var _b=this._client_elem;if(_b){_b.attachHandle(_a);}};_pSimpleComponent.on_change_containerPos=function(_a,_b){this._onChangeContainerPos(_a,_b);};_pSimpleComponent.on_change_containerRect=function(_a,_b){this._onChangeContainerRect(_a,_b);};_pSimpleComponent._onChangeContainerPos=function(_a,_b){};_pSimpleComponent._onChangeContainerRect=function(_a,_b){this._setContainerSize(_a,_b);this._recalcLayout(false);};_pSimpleComponent._setContainerPos=function(_a,_b){var _c=this._client_elem;if(_c){_c.setElementPosition(_a,_b);}};_pSimpleComponent._setContainerSize=function(_a,_b){var _c=this._client_elem;if(_c){_c.setElementSize(_a,_b);}};_pSimpleComponent._recalcLayout=function(_a){if(this._is_created||_a){this._onRecalcLayout(_a);}};_pSimpleComponent._onRecalcLayout=function(_a){};_pSimpleComponent._is_valuebind=false;_pSimpleComponent._is_valueexpr=false;_pSimpleComponent._initBind=function(){};_pSimpleComponent._initBindInfo=function(){};_pSimpleComponent._clearBind=function(){};_pSimpleComponent._initExpr=function(){if(this._is_valueexpr){this._exprdata=new nexacro._ExprData(true,false,false);this._exprdata._initExprParser();this._exprdata._initExprTarget(this);}};_pSimpleComponent._initExprInfo=function(){if(this._is_valueexpr){this._applyExprInfos();this._applyValue();}};_pSimpleComponent._applyExprInfos=function(){if(this._exprdata){this._exprdata._setExprInfos(this._onGetExprInfos());}};_pSimpleComponent._clearExpr=function(){if(this._exprdata){this._exprdata._clear();delete this._exprdata;this._exprdata=null;}};_pSimpleComponent._getExprFuncByCtx=function(_a){if(this._exprdata){return this._exprdata.getExprFuncByCtx(_a);}};_pSimpleComponent._setExprFuncByCtx=function(_a,_b){if(this._exprdata){return this._exprdata.setExprCacheIdx(_a,this._exprdata.setExprFunc(_a,_b));}};_pSimpleComponent.createExprInfo=function(_a,_b,_c,_d){var _e=new nexacro._ExprInfo();_e.baseid=_a;_e.target=nexacro._nvl(_b,false)?_b.split('.'):null;_e.setter=nexacro._nvl(_c,false)?"set_"+_c:"set_text";_e.exprid=nexacro._nvl(_d,false)?_d:this._onGetExprProp();return _e;};_pSimpleComponent._onGetExprProp=function(){return "expr";};_pSimpleComponent._onGetExprInfos=function(){if(this._is_valueexpr){return [this.createExprInfo()];}return null;};_pSimpleComponent._onGetBindableProperties=function(){return "value";};_pSimpleComponent.on_init_bindSource=function(_a,_b,_c){return this._onInitBindSource(_a,_b,_c);};_pSimpleComponent._onInitBindSource=function(_a,_b,_c){if(this._is_valuebind&&_b==this._onGetBindableProperties()){this._setValue(undefined);this._applyVaule();}if(this._is_valueexpr&&_b==this._onGetExprProperty()){this._setValue(undefined);this._applyVaule();}};_pSimpleComponent.on_change_bindSource=function(_a,_b,_c,_d){return this._onChangeBindSource(_a,_b,_c,_d);};_pSimpleComponent._onChangeBindSource=function(_a,_b,_c,_d){if(this._is_created){if(this._is_valuebind&&_a==this._onGetBindableProperties()){this._setValue(_b.getColumn(_c,_d));this._applyValue();}if(this._is_valueexpr&&_a==this._onGetExprProperty()){this._setValue(this._getExprData(_c));this._applyValue();}}};_pSimpleComponent._applyToBindSource=function(_a,_b){if(!this._bind_event){return true;}var _c={propid:_a,val:_b};var _d=this._bind_event._fireEvent(this,_c);return _d;};_pSimpleComponent._setValue=function(_a){this[this._onGetBindableProperties()]=_a;};_pSimpleComponent._getValue=function(_a){return this[this._onGetBindableProperties()];};_pSimpleComponent._applyValue=function(){this.on_apply_value();};_pSimpleComponent.on_apply_value=function(){if(this._client_elem){var _a=this._getValue();if(_a!=null){this._client_elem.setElementText(_a);}}};_pSimpleComponent._use_select=false;_pSimpleComponent.selectdragmode="default";_pSimpleComponent.getSelect=function(){return this._onGetCurrentSelect();};_pSimpleComponent.setSelect=function(_a,_b){return this._onSetCurrentSelect(this._onGetSelectArgument(_a,_b));};_pSimpleComponent.clearSelect=function(){return this._onClearCurrentSelect();};_pSimpleComponent.isAboveSelected=function(_a,_b){return this._onCheckAboveCurrentSelect(_a,_b);};_pSimpleComponent._initSelect=function(){if(this._use_select){this._selectinfo=new nexacro._SelectInfo();this._selectinfo._setSelectEvent(this);this._onInitSelect();}};_pSimpleComponent._onInitSelect=function(_a,_b,_c,_d,_e){if(this._selectinfo){this._selectinfo._initSelect(nexacro._SelectConst.SELECTTYPE_COMP,_b,_c,_d,_e);}};_pSimpleComponent._clearSelect=function(){this._onClearSelect();if(this._selectinfo){this._selectinfo._clear();delete this._selectinfo;this._selectinfo=null;}};_pSimpleComponent._onClearSelect=function(){};_pSimpleComponent._onGetSelectArgument=function(_a,_b){return _a;};_pSimpleComponent._onGetCurrentSelect=function(){if(this._selectinfo){return this._selectinfo._getCurrentSelect();}};_pSimpleComponent._onSetCurrentSelect=function(_a){if(this._selectinfo){return this._selectinfo._setCurrentSelect(_a);}};_pSimpleComponent._onClearCurrentSelect=function(){if(this._selectinfo){return this._selectinfo._clearCurrentSelectPos();}};_pSimpleComponent._onCheckAboveCurrentSelect=function(_a,_b){if(this._selectinfo){return this._selectinfo._checkAboveCurrentSelect(_a,_b);}};_pSimpleComponent._onCheckSelectChange=function(_a,_b){return _a!=_b;};_pSimpleComponent._onCheckSelectable=function(){if(this._use_selected_status){return true;}};_pSimpleComponent._onChangeSelect=function(_a,_b,_c,_d){this._on_basic_onselect(_c,_d);this._on_fire_onselect(_c,_d);this._on_default_onselect(_c,_d);};_pSimpleComponent._on_fire_onselect=function(_a,_b){if(this.onselect&&this.onselect._has_handlers){this.onselect._fireEvent(this,null);}return true;};_pSimpleComponent._on_basic_onselect=function(_a,_b){if(this._selectinfo){switch(this._selectinfo._selecttype){case 0x04:{if(this._use_selected_status){this._changeUserStatus("selected",_b?(this._onCheckSelectable()?true:false):false);}break;}case 0x02:case 0x01:case 0xFF:{break;}}}};_pSimpleComponent._on_default_onselect=function(_a,_b){};_pSimpleComponent._onGetDlgCode=function(_a,_b,_c,_d){return {want_tab:true,want_return:true,want_escape:true,want_chars:true,want_arrows:true};};_pSimpleComponent._onGetDragData=function(){return this.id;};_pSimpleComponent._onGetTabstop=function(){if(nexacro._enableaccessibility){var _a=this.accessibility;if(_a&&_a.enable&&_a.role=="link"){return true;}}return false;};_pSimpleComponent._onGetFocusAcceptable=function(){return nexacro._enableaccessibility;};_pSimpleComponent._initHotKey=function(_a,_b,_c,_d){if(!this._is_subcontrol){this._registerHotkey();}};_pSimpleComponent._clearHotKey=function(){if(!this._is_subcontrol){this._unregisterHotkey();}};_pSimpleComponent._onHotkey=function(_a,_b,_c,_d){this.click();};_pSimpleComponent._initStatus=function(){this._onInitStatus();};_pSimpleComponent._onInitStatus=function(){};_pSimpleComponent._resetStatus=function(){this._resetSysStatus();this._resetUserStatus();};_pSimpleComponent._resetSysStatus=function(){return this._onResetSysStatus();};_pSimpleComponent._resetUserStatus=function(){return this._onResetUserStatus();};_pSimpleComponent._onResetSysStatus=function(){this._onResetSysEnable();if(this._use_readonly_status){this._onResetSysReadOnly();}};_pSimpleComponent._onResetUserStatus=function(){};_pSimpleComponent._onResetSysEnable=function(){var _a=this.parent;if(_a){this._real_enable=_a._real_enable!=false&&this.enable;this._changeSysStatus("disabled",!this._real_enable);this._spreadSysStatus("disabled",!this._real_enable);}};_pSimpleComponent._onResetSysReadOnly=function(){var _a=this.parent;if(_a){this._real_readonly=_a._real_readonly==true||this.readonly;this._changeSysStatus("readonly",this._real_readonly);this._spreadSysStatus("readonly",this._real_readonly);}};_pSimpleComponent._changeSysStatus=function(_a,_b){return this._onChangeSysStatus(_a,_b);};_pSimpleComponent._changeUserStatus=function(_a,_b){return this._onChangeUserStatus(_a,_b);};_pSimpleComponent._onChangeSysStatus=function(_a,_b){this._oldstatus=this._status;this._statusmap[_a]=_b;var _c=this._statusmap;var _d="enabled";if(_c.disabled){_d="disabled";}else if(_c.readonly&&this._use_readonly_status){_d="readonly";}else if(_c.mouseover){_d="mouseover";}else if(_c.focused){_d="focused";}else if(_c.deactivate){_d="deactivate";}this._status=this.on_changeStatus(_a,_b,_d,this._status,this._userstatus);if(this._status=="mouseover"&&nexacro._cur_track_info){return;}if(this._oldstatus!=this._status){this._apply_status_toelement(this._oldstatus,this._status,this._olduserstatus,this._userstatus);}if(nexacro._enableaccessibility){this._setAccessibilityStatFlag(this._status,this._userstatus);}};_pSimpleComponent._onChangeUserStatus=function(_a,_b){this._olduserstatus=this._userstatus;this._userstatusmap[_a]=_b;var _c=this._userstatusmap;var _d="";if(this._use_pushed_status&&_c.pushed){_d="pushed";}else if(this._use_selected_status&&_c.selected){_d="selected";}this._userstatus=this.on_changeUserStatus(_a,_b,_d,this._status,this._userstatus);if(this._olduserstatus!=this._userstatus){this._apply_status_toelement(this._oldstatus,this._status,this._olduserstatus,this._userstatus);}if(nexacro._enableaccessibility){this._setAccessibilityStatFlag(this._status,this._userstatus);}};_pSimpleComponent._clearStatus=function(){};_pSimpleComponent._spreadStatus=function(_a,_b){};_pSimpleComponent._spreadSysStatus=function(_a,_b){return this._spreadStatus(_a,_b);};_pSimpleComponent._spreadUserStatus=function(_a,_b){return this._spreadStatus(_a,_b);};_pSimpleComponent.on_apply_prop_enable=function(_a){this._changeStatus("disabled",!_a);this._spreadStatus("disabled",!_a);};_pSimpleComponent._isEnable=function(){return this.parent?this.parent._real_enable&&this.enable:this.enable;};_pSimpleComponent._isDisable=function(){return !this._isEnable();};_pSimpleComponent._is_editable_control=false;_pSimpleComponent._use_readonly_status=false;_pSimpleComponent.readonly=undefined;_pSimpleComponent.set_readonly=function(_a){_a=nexacro._toBoolean(_a);if(_a!==this.readonly||_a!==this._real_readonly){this.readonly=_a;this._real_readonly=this.readonly||(this.parent?(this.parent._real_readonly?true:false):false);this.on_apply_readonly(this._real_readonly);}};_pSimpleComponent.on_apply_readonly=function(_a){this._changeStatus("readonly",_a);this._spreadStatus("readonly",_a);};_pSimpleComponent._isReadOnly=function(){return this._is_editable_control&&this.readonly==true||this._real_readonly==true;};_pSimpleComponent._isEditable=function(){return this._is_editable_control&&this.readonly!=true&&this._real_readonly!=true;};_pSimpleComponent._isEditableComponent=function(){return this._is_editable_control||this.readonly!==undefined;};_pSimpleComponent._checkProcessedKey=function(_a,_b,_c,_d,_e,_f){return _e&&_f&&_f._isEditableComponent()&&_f._isEnable()&&_e._isEnable();};_pSimpleComponent._initProperties=function(){this.onInitProperties();this._onInitValueProp();};_pSimpleComponent._applyProperties=function(){this.on_apply_prop_taborder();if(!nexacro._isNull(this.tooltiptext)){this.on_apply_prop_tooltip();}this.on_apply_positionstep();this.on_apply_hittesttype();this.on_apply_readonly();this.onApplyProperties();};_pSimpleComponent._clearProperties=function(){this.onClearProperties();};_pSimpleComponent._onInitValueProp=function(){};_pSimpleComponent.onInitProperties=function(){};_pSimpleComponent.onApplyProperties=function(){};_pSimpleComponent.onClearProperties=function(){};_pSimpleComponent._initEvents=function(){this._event_list={"onkillfocus":1,"onsetfocus":1,"oninput":1,"onkeydown":1,"onkeyup":1,"onclick":1,"ondblclick":1,"onlbuttondown":1,"onlbuttonup":1,"onrbuttondown":1,"onrbuttonup":1,"onmousedown":1,"onmouseup":1,"onmouseenter":1,"onmouseleave":1,"onmousemove":1,"onmousewheel":1,"ondrag":1,"ondragenter":1,"ondragleave":1,"ondragmove":1,"ondrop":1,"onmove":1,"onsize":1,"ontouchstart":1,"ontouchmove":1,"ontouchend":1,"oncontextmenu":1};};_pSimpleComponent._on_basic_onclick=function(_a,_b){return this.on_click_basic_action(null,_b.button,_b.alt_key,_b.ctrl_key,_b.shift_key,_b.screenX,_b.screenY,_b.canvasX,_b.canvasY,_b.meta_key);};_pSimpleComponent._on_default_onclick=function(_a,_b){};_pSimpleComponent._on_fire_onclick=function(_a,_b){if(this.onclick&&this.onclick._has_handlers){return this.onclick._fireEvent(this,new nexacro.ClickEventInfo(this,"onclick",_b.button,_b.alt_key,_b.ctrl_key,_b.shift_key,_b.screenX,_b.screenY,_b.canvasX,_b.canvasY,_b.clientX,_b.clientY,this,_b.from_refer_comp,_b.meta_key));}return true;};_pSimpleComponent._initAccessibility=function(){this._accessibility_role="RoleName";};_pSimpleComponent._getAccessibilityRole=function(){var _a=this.accessibilityrole?this.accessibilityrole:this._accessibility_role;if(!_a){_a="none";}return _a;};_pSimpleComponent._getAccessibilityLabel=function(){var _a=this._getLinkedLabel(this.accessibilitylabel);return _a?_a:this._onGetAccessibilityLabel();};_pSimpleComponent._applyAccessibility=function(){if(nexacro._enableaccessibility){this.on_apply_accessibility();}};_pSimpleComponent._clearAccessibility=function(){if(nexacro._enableaccessibility){var _a=nexacro.getApplication();if(_a&&_a._accessibilityHistoryList){_a._remove_accessibility_history(this);}}};_pSimpleComponent._onGetAccessibilityLabel=function(){var _a=this.text?this.text:this.value;return _a;};_pSimpleComponent._onGetAccessibilityAdditionalRole=function(){return " addrole";};_pSimpleComponent._getParentElement=function(){return (!this._is_window&&this.parent)?this.parent._control_element:null;};_pSimpleComponent._clone=function(){return nexacro._clone(this);};_pSimpleComponent._onCloneProperities=function(_a){};_pSimpleComponent._setPositionOrigin=function(){var _a=this.getElement();if(_a&&_a.handle){var _b=this.getOffsetLeft();var _c=this.getOffsetTop();_a.setElementPosition(_b,_c);}};_pSimpleComponent._setPositionAdjust=function(_a,_b){var _c=this.getElement();if(_c&&_c.handle){_a+=this.getOffsetLeft();_b+=this.getOffsetTop();_c.setElementPosition(_a,_b);}};_pSimpleComponent._setPositionAbsolute=function(_a,_b){if(!_a){return;}var _c=this.getElement();var _d=_a.getElement();if(_c&&_d&&_c.handle&&_d.handle){var _e=_d.getContainerElement(_c.position_step);if(_e){this._moveElementNode(_c,_c.owner_elem,_e,false,true);}else{_c.setElementZIndex(_b);}this._setPositionOrigin();}};_pSimpleComponent._setPositionFixed=function(_a,_b,_c,_d){if(!_a){return;}var _e=this.getElement();var _f=_a.getElement();if(_e&&_f&&_e.handle&&_f.handle){if(_d||_d===undefined){this._moveElementNode(_e,_e.owner_elem,_f,true,false);}else{_f.bringToFrontElement(_e);}this._setPositionAdjust(_b,_c);}};if(nexacro._Browser=="Runtime"){_pSimpleComponent._moveElementNode=function(_a,_b,_c,_d,_e){if(_a.owner_elem!=_c){_a.owner_elem=_c;var _f=_a.handle;var _g=_d?_b.dest_handle:_b.handle;var _h=_e?_c.dest_handle:_c.handle;if(_g&&_h){nexacro.__unlinkElementHandle(_g,_f);nexacro.__appendElementHandle(_h,_f);}}};}else{_pSimpleComponent._moveElementNode=function(_a,_b,_c,_d,_e){if(_a.owner_elem!=_c){_a.owner_elem=_c;var _f=_a.handle;var _g=_d?_b.dest_handle:_b.handle;var _h=_e?_c.dest_handle:_c.handle;if(_g&&_h){nexacro.__unlinkDOMNode(_g,_f);nexacro.__appendDOMNode(_h,_f);}}};}_pSimpleComponent._getSubArray=function(_a,_b,_c){var _d=[];for(var _e=Math.max(_b,0),_f=Math.min(_b+_c,_a.length);_e<_f;_e++ ){_d.push(_a[_e]);}return _d;};delete _pSimpleComponent;}if(!nexacro._CompUtil){nexacro._CompUtil=true;nexacro._getGlobalScope=function(){return nexacro.__getOSType?null:window;};nexacro._getCustomScope=function(_a){return nexacro;};nexacro._getTypeConstructor=function(_a,_b){if(!_a){_a=_b;}{var _c=_a.split('.');var _d=0;var _e=_c.length-1;var _f=_c[_e];var _g=nexacro._getGlobalScope();if(!_g){_g=nexacro._getCustomScope(_c[0]);_d=1;}if(_g){for(;_d<_e;_d++ ){_g=_g[_c[_d]];}return _g[_f];}}return null;};nexacro._clone=function(_a){function extend(_b,_c){if(_b==null||typeof _b!="object"){return _b;}if(_b.constructor!=Object&&_b.constructor!=Array){return _b;}if(_b.constructor==Date||_b.constructor==RegExp||_b.constructor==Function||_b.constructor==String||_b.constructor==Number||_b.constructor==Boolean){return new _b.constructor(_b);}_c=_c||new _b.constructor();for(var _d in _b){_c[_d]=typeof _c[_d]=="undefined"?extend(_b[_d],null):_c[_d];}return _c;}return extend(_a);};var _use_savetoimage_runtime=false;var _use_savetoimage_html=false;if(nexacro._Browser=="Runtime"&&_use_savetoimage_runtime||_use_savetoimage_html){nexacro._drawElement2Canvas=function(_a,_b,_c,_d){if(_a&&_b){var _e=_c||0;var _f=_d||0;var _g=nexacro.__saveToImageObject(_b);if(_g){_a.drawImage(_g,_e,_f,_g.width,_g.height);}}};nexacro._drawComponent2Canvas=function(_a,_b,_c,_d){if(_a&&_b){var _e=_c||0;var _f=_d||0;var _g=nexacro.System.saveToImageObject(_b);if(_g){_a.drawImage(_g,_e,_f,_g.width,_g.height);}}};}else{nexacro._getCurrentStyleObject=function(_a){if(!_a){return null;}if(nexacro._Browser=="Runtime"){return {curr:null,elem:_a,type:"runtime"};}else{var _b=_a._getRootWindowHandle();var _c=_b.defaultView||_b.parentWindow;var _d=_c.getComputedStyle||0;var _e=_d?_c.getComputedStyle(_a.handle):_a.handle.currentStyle;return _d?{curr:_e,elem:_a,type:"compute"}:{curr:_e,elem:_a,type:"current"};}};nexacro._getCurrentStyleValue=function(_a,_b){if(_b=="font"){if(_a.type=="runtime"){return _a.elem._getComputedStyle("font");}else{var _c=[];_c.push(nexacro._getCurrentStyleValue(_a,"font-style"));_c.push(nexacro._getCurrentStyleValue(_a,"font-variant"));_c.push(nexacro._getCurrentStyleValue(_a,"font-weight"));_c.push(nexacro._getCurrentStyleValue(_a,"font-size"));_c.push(nexacro._getCurrentStyleValue(_a,"font-family"));return _c.join(' ');}}else{var _d;if(_a.type=="runtime"){_d=_b.split('-');if(_d.length>1&&_d[0]=="background"){return _a.elem._getComputedStyleSubValue(_d[0],_b);}else{return _a.elem._getComputedStyleValue(_b);}}else if(_a.type=="current"){_d=_b.split('-');for(var _g=1,_h=_d.length;_g<_h;_g++ ){var _e=_d[_g];if(_e.length){_e[0]=_e[0].toUpperCase();}}var _f=_d.join('');return _a.curr[_f];}else if(_a.type=="compute"){return _a.curr.getPropertyValue(_b);}}};nexacro._clipAdd2Canvas=function(_a,_b,_c,_d,_e){if(!_a){return;}var _f=_b,_g=_c,_h=_d,_i=_e;var _j=_a._cliprectarray;if(!_j||!_j.length){_a._cliprectarray=[[_f,_g,_h,_i]];}else{var _k=_j[_j.length-1];_f=Math.max(_k[0],_b);_g=Math.max(_k[1],_c);_h=Math.min(_k[0]+_k[2],_b+_d)-_f;_i=Math.min(_k[1]+_k[3],_c+_e)-_g;_j.push([_f,_g,_h,_i]);}_a.save();_a.beginPath();_a.rect(_f,_g,_h,_i);_a.clip();};nexacro._clipPop2Canvas=function(_a){if(!_a){return;}var _b=_a._cliprectarray;if(_b){_b.pop();if(_b.length<=0){delete _a._cliprectarray;}}_a.restore();};nexacro._drawElement2Canvas=function(_a,_b,_c,_d,_e,_f){if(_a&&_b){var _g=_c||0;var _h=_d||0;var _i=_b.width;var _j=_b.height;var _k=nexacro._getCurrentStyleObject(_b);var _l=nexacro._getCurrentStyleValue(_k,"background-color");var _m=nexacro._getCurrentStyleValue(_k,"background-image");var _n=nexacro._getCurrentStyleValue(_k,"background-position");var _o=nexacro._getCurrentStyleValue(_k,"background-repeat");var _p=nexacro._getCurrentStyleValue(_k,"text-align");var _q=nexacro._getCurrentStyleValue(_k,"font");var _r=nexacro._getCurrentStyleValue(_k,("color"));var _s,_t,_u,_v;var _w;nexacro._clipAdd2Canvas(_a,_g,_h,_i,_j);switch(_b._type_name){case "ControlElement":case "ScrollableControlElement":case "FrameControlElement":case "GridScrollableControlElement":case "GridBandControlElement":case "GridRowControlElement":{var _x=_b.border?_b.border:_b._border_info;var _y=_b.borderRadius?_b.borderRadius:null;if(_x){var _z;var _aa=_y?_y.x:0;var _ab=_y?_y.y:0;var _ac=_x.top._width;var _ad=_x.right._width;var _ae=_x.bottom._width;var _af=_x.left._width;if(_aa&&_ab){if(_ac){_a._setLineStyle(_x.top);_a.drawStrokeInsetRoundRect(_g,_h,_i,_j,_aa,_ab);_g+=_ac;_h+=_ac;_i-=_ac;_j-=_ac;}}else if(_x._single){if(_ac){_a._setLineStyle(_x.top);_a.drawStrokeInsetRect(_g,_h,_i,_j);_g+=_ac;_h+=_ac;_i-=_ac;_j-=_ac;}}else{if(_x.top._isValid()){_z=_h+_ac/2;_a._setLineStyle(_x.top);_a.drawStrokeLine(_g,_z,_g+_i,_z);_h+=_ac;}if(_x.right._isValid()){_z=_g+_i-_ad/2;_a._setLineStyle(_x.right);_a.drawStrokeLine(_z,_h,_z,_h+_j);_i-=_ad;}if(_x.bottom._isValid()){_z=_h+_j-_ae/2;_a._setLineStyle(_x.bottom);_a.drawStrokeLine(_g,_z,_g+_i,_z);_j-=_ae;}if(_x.left._isValid()){_z=_g+_af/2;_a._setLineStyle(_x.left);_a.drawStrokeLine(_z,_h,_z,_h+_j);_g+=_af;}}}if(_o){if(_m&&_m!="none"){_a.drawImage(_b,0,0,_m.width,_m.height);}else{_a.setElementFillStyle(nexacro.ColorObject(_l));_a.drawFillRect(_g,_h,_i,_j);}}else{if(_m&&_m!="none"){_a.drawImage(_m,0,0,_m.width,_m.height);}else{_a.setElementFillStyle(nexacro.ColorObject(_l));_a.drawFillRect(_g,_h,_i,_j);}}break;}case "IconElement":case "ImageElement":{_s=!_f||_f=="drawImg";_t=_f&&_f=="drawBox";if(_s){if(_k.type=="runtime"){_w=new nexacro.Image();if(_b.icon){_w.set_src(_b.icon.value);}if(_b.image){_w.set_src(_b.image.url);}_a.drawImage(_w,_g,_h,_i,_j);}else{_a.drawImage(_b,_g,_h,_i,_j);}}if(_t){_a.setElementStrokeStyle(_a.color);_a.drawStrokeInsetRect(_g,_h,_i,_j);}break;}case "IconTextElement":{_t=_b._box_node||0;_u=_b._icon_node||_b.icon;if(_t){if(_l){_a.setElementFillStyle(nexacro.ColorObject(_l));_a.drawFillRect(_g,_h,_i,_j);}if(_m&&_m!="none"){_w=new nexacro.Image();_w.set_src(_m);var _ag=_g,_ah=_h;var _ai=_w.width,_aj=_w.height;if(_n&&_b.parent_elem){var _ak=_b.parent_elem.width;var _al=_b.parent_elem.height;_ag+=Math.max((_ak-_ai)/2,0);_ah+=Math.max((_al-_aj)/2,0);}_a.drawImage(_w,_ag,_ah,_ai,_aj);}}if(_u){if(_k.type=="runtime"&&_b.icon){_w=new nexacro.Image();_w.set_src(_b.icon.value);_a.drawImage(_w,_g,_h,_w.width,_w.height);}else if(_b._icon_node){_a.drawImage(_b._icon_node,_g,_h,_b._icon_node.width,_b._icon_node.height);}}{break;}}case "TextBoxElement":case "InputElement":case "TextAreaElement":{_t=(_e&&_e=="drawBox")&&_b.text;_v=(!_e||_e=="drawTxt")&&_b.text;var _am=_b.textPadding;if(_am){_g+=_am.left;_h+=_am.top;}if(_p){_a.setElementTextAlign(_p);}if(_q){_a.setElementFont(nexacro.FontObject(_q));}if(_r){_a.setElementFillStyle(nexacro.ColorObject(_r));}var _an;if(_v){var _ao=_b.text;switch(_p){case "right":_an=_g+_i;break;case "center":_an=_g+_i/2;break;case "left":_an=_g;break;}_a.fillText(_ao,_an,_h);}if(_t){var _ap=_b.text.length;var _aq=6,_ar=8,_as=1;_an=Math.max(_i-(_aq+_as)* _ap-_as,0);switch(_p){case "right":break;case "center":_an/=2;break;case "left":_an=0;break;}_g=_g+_an;_h=(_j-_ar)/2;for(var _at=0;_at<_ap&&_g+_aq<_g+_i;_at++ ,_g+=_aq+_as){_a.drawFillRect(_g,_h,_aq,_ar);}}break;}case "CanvasElement":case "PluginElement":case "WebBrowserPluginElement":case "VideoPlayerPluginElement":case "GoogleMapElement":case "ContainerElement":case "ModalOverlayElement":{break;}}nexacro._clipPop2Canvas(_a);}};nexacro._drawComponent2Canvas=function(_a,_b,_c,_d,_e,_f){if(_a&&_b){var _g=_c||0;var _h=_d||0;var _i=_b.getOffsetWidth();var _j=_b.getOffsetHeight();nexacro._clipAdd2Canvas(_a,_g,_h,_i,_j);var _k=_b.getElement();if(_k&&_k.handle){var _l,_m;var _n,_o,_p,_q;var _r,_s;var _t,_u;var _v=_b._getCurrentStyleBorder();var _w=_v?_v.left._width:0;var _x=_v?_v.top._width:0;nexacro._drawElement2Canvas(_a,_k,_g,_h,_e,_f);_g+=_w;_h+=_x;var _y=_k.getContainerElement();_y=_b._getClientElement?_b._getClientElement():_y;_y=_b._cell_elem?_b._cell_elem:_y;_y=_b._text_elem?_b._text_elem:_y;_y=_b._img_elem?_b._img_elem:_y;_y=_b._input_element?_b._input_element:_y;if(_y&&_y!=_k&&_y.handle){_t=_y.left;_u=_y.top;_a.setElementFont(_b._getCurrentStyleInheritValue("font"));_a.setElementColor(_b._getCurrentStyleInheritValue("color"));nexacro._drawElement2Canvas(_a,_y,_g+_t,_h+_u,_e,_f);}_p=_b._getChildren?_b._getChildren():null;if(_p){for(_l=0,_m=_p.length;_l<_m;_l++ ){_q=_p[_l];if(_q){_r=_q.getOffsetLeft();_s=_q.getOffsetTop();nexacro._drawComponent2Canvas(_a,_q,_g+_r,_h+_s,_e,_f);}}}_n=_b._getItems?_b._getItems():null;if(_n){for(_l=0,_m=_n.length;_l<_m;_l++ ){_o=_n[_l];if(_o){_r=_o.getOffsetLeft();_s=_o.getOffsetTop();nexacro._drawComponent2Canvas(_a,_o,_g+_r,_h+_s,_e,_f);}}}var _z=_b._getNCChildren?_b._getNCChildren():null;if(_z){for(_l=0,_m=_z.length;_l<_m;_l++ ){_q=_z[_l];if(_q){_r=_q.getOffsetLeft();_s=_q.getOffsetTop();nexacro._drawComponent2Canvas(_a,_q,_g+_r,_h+_s,_e,_f);}}}}nexacro._flushCommand(_a.linked_control?_a.linked_control._getWindow():_a.parent?_a.parent._getWindow():null);nexacro._clipPop2Canvas(_a);}};}nexacro._setNotifyType=function(_a,_b){this._notifytype=_a;this._notifycomp=_b;};nexacro._errorV8CallStack=function(){Error.stackTraceLimit=30;var _a=nexacro.__onNexacroStudioError?nexacro.__onNexacroStudioError:Error?trace:null;if(_a){var _b=new Error();var _c=_b.stack;var _d="";var _e,_f;var _g,_h,_i,_j;var _k,_l,_m;try{for(_e=1;_e<_c.length;_e++ ){_g=_c[_e];_h=_g.getFunction();_i="";for(_f=0;_f<_h.arguments.length;_f++ ){_j=_h.arguments[_f]+", ";if(_j.length>30){_i+="[LONG STR], ";}else{_i+=_j;}}_k=_g.getThis();_l=_k.id?_k.id:_k.name;_m=_g.getFunctionName();_d+="\n   "+_k+_l+"."+_m+"(arg: "+_i+")";}var _n=0;switch(_n){case 0:_a("\n===[callstack("+(_c.length-1)+")]==============================\n"+_d+"\n============================================");break;case 1:{_a("\n===[callstack("+(_c.length-1)+")]==============================");var _o=_d.split("\n");for(_e=0;_e<_o.length;_e++ ){_a(_o[_e]);}_a("============================================");}break;}}catch(_b){nexacro._settracemsg(_b);}}};}if(!nexacro._BindInfo){nexacro._BindConst={BINDINDEX_ROWINDEX: -99,BINDINDEX_ROWLEVEL: -98,BINDINDEX_ROWGROUP: -97,BINDINDEX_NODENAME: -60,BINDINDEX_NODETYPE: -61,BINDINDEX_NODEVALUE: -62,BINDINDEX_ATTRIBUTE: -70,BINDINDEX_COLBEGIN:0,BINDINDEX_COLUNSET: -1};nexacro._BindInfo=function(){nexacro._ExprInfo.call(this);this.bindid="";this.colidx= -1;};var _pBindInfo=nexacro._createPrototype(nexacro._ExprInfo,nexacro._BindInfo);nexacro._BindInfo.prototype=_pBindInfo;_pBindInfo._type_name="_BindInfo";_pBindInfo._isSetBindCtx=function(){return this.bindid!="";};_pBindInfo._isSetBindIdx=function(){return this.colidx!= -1;};_pBindInfo._setBindColCtx=function(_a){this.bindid=_a;};_pBindInfo._setBindColIdx=function(_a){this.colidx=_a;};_pBindInfo._clear=function(){nexacro._ExprInfo.prototype._clear.call(this);this.bindid="";this.colidx= -1;};delete _pBindInfo;}if(!nexacro._BindData){nexacro._BindData=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j){nexacro._ExprData.call(this,false,_g,_h,_i,_j);this._setBindType(_a,_b,_c,_d,_e,_f);this._strdataset="";this._strdatactx="";this._binddataset=null;this._binddatactx=null;this._binddatalist=null;this._binddatacurr= -1;this._colsinfo=["","",""];this._propinfo=["","",""];this._bindinfo=[null,null,null];this._bindinfostart= -1;};var _pBindData=nexacro._createPrototype(nexacro._ExprData,nexacro._BindData);nexacro._BindData.prototype=_pBindData;_pBindData._type_name="_BindData";_pBindData._setBindType=function(_a,_b,_c,_d,_e,_f){this._bindtype=(_a?0x01:0)+(_b?0x02:0)+(_c?0x04:0)+(_d?0x08:0)+(_e?0x10:0)+(_f?0x20:0);};_pBindData._setBindTypeXml=function(){this._bindtype|=0x04;};_pBindData._setBindTypeJson=function(){this._bindtype|=0x08;};_pBindData._isValueBind=function(){return (this._bindtype&0x01)!=0;};_pBindData._isInnerBind=function(){return (this._bindtype&0x02)!=0;};_pBindData._isFullBind=function(){return (this._bindtype&0x10)!=0;};_pBindData._isDataBind=function(){return (this._bindtype&0x1E)!=0;};_pBindData._isXmlBind=function(){return (this._bindtype&0x04)!=0;};_pBindData._isJsonBind=function(){return (this._bindtype&0x08)!=0;};_pBindData._isLevelBind=function(){return (this._bindtype&0x20)!=0;};_pBindData._isDataSetEnableEvent=function(){return this._binddataset&&this._binddataset.enableevent;};_pBindData._isDataCtxEnableEvent=function(){return true;};_pBindData._setBindDataSet=function(_a,_b){if(!_b){return;}if(!_a){return this._clearBindDataSet(_b);}this._detachBindDataSet(_b);if(_a instanceof nexacro.Dataset||(typeof _a=="object"&&_a._type_name=="Dataset")){this._strdataset=_a.id;this._binddataset=_a;}else{this._strdataset=_a.replace("@","");this._binddataset=_b._findDataset(this._strdataset);}this._attachBindDataSet(_b);};_pBindData._getBindDataSetStr=function(){return this._strdataset;};_pBindData._getBindDataSetObj=function(){return this._binddataset;};_pBindData._getBindDataSetColInfos=function(){return this._binddataset?this._binddataset.colinfos:null;};_pBindData._attachBindDataSet=function(_a){if(this._binddataset&&_a){this._binddataset._setEventHandler("onload",_a._callback_onload,_a);this._binddataset._setEventHandler("onvaluechanged",_a._callback_onvaluechanged,_a);this._binddataset._setEventHandler("oncolumnchanged",_a._callback_oncolumnchanged,_a);this._binddataset._setEventHandler("onrowsetchanged",_a._callback_onrowsetchanged,_a);this._binddataset._setEventHandler("onrowposchanged",_a._callback_onrowposchanged,_a);}};_pBindData._detachBindDataSet=function(_a){if(this._binddataset&&_a){this._binddataset._removeEventHandler("onload",_a._callback_onload,_a);this._binddataset._removeEventHandler("onvaluechanged",_a._callback_onvaluechanged,_a);this._binddataset._removeEventHandler("oncolumnchanged",_a._callback_oncolumnchanged,_a);this._binddataset._removeEventHandler("onrowsetchanged",_a._callback_onrowsetchanged,_a);this._binddataset._removeEventHandler("onrowposchanged",_a._callback_onrowposchanged,_a);}};_pBindData._clearBindDataSet=function(_a){if(!_a){return;}this._detachBindDataSet(_a);this._strdataset="";this._binddataset=null;};_pBindData._appendDataSetRow=function(_a,_b,_c){var _d=_a?this._binddataset.insertRow(_a):this._binddataset.addRow();return _b?this._copyBindRow(_d,_b,_c):_d;};_pBindData._insertDataSetRow=function(_a,_b,_c){var _d=_a?this._binddataset.insertRow(_a):this._binddataset.addRow();return _b?this._copyBindRow(_d,_b,_c):_d;};_pBindData._subaddDataSetRow=function(_a,_b,_c){var _d=_a?this._binddataset.insertRow(_a+1):this._binddataset.addRow();return _b?this._copyBindRow(_d,_b,_c):_d;};_pBindData._subinsDataSetRow=function(_a,_b,_c){var _d=_a?this._binddataset.insertRow(_a+1):this._binddataset.addRow();return _b?this._copyBindRow(_d,_b,_c):_d;};_pBindData._deleteDataSetRow=function(_a){return this._binddataset.deleteRow(_a);};_pBindData._setBindDataCtx=function(_a,_b,_c){if(!_c){return;}if(!_a){return this._clearBindDataCtx(_c);}if(this._isXmlBind()&&_a.getElementsByTagName){this._strdatactx=_a.id;this._binddatactx=_a;this._binddatakey=_b;this._binddatalist=this._convertXdom2DataList(_a,_b);}else if(this._isJsonBind()&&nexacro._isObject(_a)){this._strdatactx=_a.id;this._binddatactx=_a;this._binddatakey=_b;this._binddatalist=this._convertJson2DataList(_a,_b);}else{var _d=_a.charAt(0);if(_d=='<'){this._strdatactx=_a;this._binddatactx=this._convertXml2Xdom(_a);this._binddatakey=_b;this._binddatalist=this._convertXdom2DataList(this._binddatactx,_b);this._setBindTypeXml();}else if(_d=='{'||_d=='['){this._strdatactx=_a;this._binddatactx=this._convertStr2Json(_a);this._binddatakey=_b;this._binddatalist=this._convertJson2DataList(this._binddatactx,_b);this._setBindTypeJson();}else{this._strdatactx=_a.replace("@","");this._binddatactx=_c._findObject(this._strdatactx);this._binddatakey=_b;if(nexacro._isObject(this._binddatactx)){this._resetBindDataList();}}}this._attachBindDataCtx(_c);};_pBindData._resetBindDataList=function(_a){if(_a){if(this._isXmlBind()&&this._binddatactx.getElementsByTagName){return this._binddatalist=this._convertXdom2DataList(this._binddatactx,this._binddatakey);}if(this._isJsonBind()){return this._binddatalist=this._convertJson2DataList(this._binddatactx,this._binddatakey);}}};_pBindData._getBindDataCtxStr=function(_a){if(_a){if(this._isXmlBind()){return this._convertXdom2Xml(this._getBindDataCtxObj(_a));}if(this._isJsonBind()){return this._convertJson2Str(this._getBindDataCtxObj(_a));}}return this._strdatactx;};_pBindData._getBindDataCtxObj=function(_a){if(_a){if(this._isXmlBind()){return this._convertDataList2Xdom(this._binddatalist);}if(this._isJsonBind()){return this._convertDataList2Json(this._binddatalist);}}return this._binddatactx;};_pBindData._fetchBindDataCtxStr=function(){return this._strdatactx=this._getBindDataCtxStr(true);};_pBindData._fetchBindDataCtxObj=function(){return this._binddatactx=this._getBindDataCtxObj(true);};_pBindData._getBindDataCtxKeyInfos=function(){return this._binddatakey;};_pBindData._attachBindDataCtx=function(_a){if(this._binddatactx&&_a){this._initDataCtxEventHandler();this._addDataCtxEventHandler("onload",_a._callback_onload,_a);this._addDataCtxEventHandler("onvaluechanged",_a._callback_onvaluechanged,_a);this._addDataCtxEventHandler("oncolumnchanged",_a._callback_oncolumnchanged,_a);this._addDataCtxEventHandler("onrowsetchanged",_a._callback_onrowsetchanged,_a);this._addDataCtxEventHandler("onrowposchanged",_a._callback_onrowposchanged,_a);}};_pBindData._detachBindDataCtx=function(_a){if(this._binddatactx&&_a){this._removeDataCtxEventHandler("onload",_a._callback_onload,_a);this._removeDataCtxEventHandler("onvaluechanged",_a._callback_onvaluechanged,_a);this._removeDataCtxEventHandler("oncolumnchanged",_a._callback_oncolumnchanged,_a);this._removeDataCtxEventHandler("onrowsetchanged",_a._callback_onrowsetchanged,_a);this._removeDataCtxEventHandler("onrowposchanged",_a._callback_onrowposchanged,_a);this._uninitDataCtxEventHandler();}};_pBindData._clearBindDataCtx=function(_a){if(!_a){return;}this._detachBindDataCtx(_a);if(this._binddatalist){delete this._binddatalist;}if(this._binddatactx){delete this._binddatactx;}this._strdatactx="";this._binddatactx=null;this._binddatalist=null;if(this._document){delete this._document;}};_pBindData._newXdomItem=function(_a){if(!this._document){this._document=nexacro._parseXMLDocument("<Root/>");}return this._document.createElement(_a);};_pBindData._newJsonItem=function(_a,_b,_c,_d,_e){return {_type:_b,__key:_c,__parent:_d?_d:null,__child:_e?_e:[],__value:_a};};_pBindData._convertXdom2DataList=function(_a,_b){return _a?_a.getElementsByTagName(_b):null;};_pBindData._convertJson2DataList=function(_a,_b){var _c=[];function arraychild(_d,_e){if(_e&&_e.__c){_e.__c.push(_d);}}function arrayconvert(_d,_e,_f){var _g=_e.__v?_e.__v:_e;var _h=_e.__v?_e:null;var _i;for(var _k in _g){var _j=_g[_k];if(nexacro._isArray(_j)){for(var _l=0,_m=_j.length,_n=_j[_l];_l<_m;_n=_j[ ++_l]){_i=this._newJsonItem(_n,"array",_k,_h);_f.push(_i);arraychild(_i,_h);arrayconvert(_i,_f);}continue;}if(nexacro._isObject(_j)){{_i=this._newJsonItem(_j,"array",_k,_h);_f.push(_i);arraychild(_i,_h);arrayconvert(_i,_f);}continue;}}return _f;}return arrayconvert(_a,_c);};_pBindData._convertDataList2Xdom=function(_a){return this._binddatactx;};_pBindData._convertDataList2Json=function(_a){return this._binddatactx;};_pBindData._convertXml2Xdom=function(_a){return nexacro._parseXMLDocument(_a);};_pBindData._convertStr2Json=function(_a){return nexacro._executeEvalStr('('+_a+')');};_pBindData._convertXdom2Xml=function(_a){return nexacro._documentToXml(_a);};_pBindData._convertJson2Str=function(_a){return JSON.stringify(_a);};_pBindData._cloneXdom=function(_a){return _a.cloneNode();};_pBindData._cloneJson=function(_a){return JSON.parse(JSON.stringify(_a));};_pBindData._getXdomCtxIndex=function(_a,_b){return _b;};_pBindData._getXdomCtxLevel=function(_a,_b){var _c= -1;for(var _d=_a.parentNode;_d;_d=_d.parentNode){_c++ ;}return _c;};_pBindData._getXdomCtxGroup=function(_a,_b){return _a?_a.childNodes?1:0: -1;};_pBindData._getXdomCtxAttrb=function(_a,_b,_c){return _a?_a.getAttribute(_b):_c;};_pBindData._setXdomCtxAttrb=function(_a,_b,_c){if(_a){_a.setAttribute(_b,_c);}};_pBindData._getXdomCtxParent=function(_a,_b){return _a?_a.parentNode:_b;};_pBindData._getXdomCtxChild=function(_a,_b){return _a?_a.childNodes[_b]:null;};_pBindData._getXdomCtxFirstChild=function(_a){return _a?_a.firstChild:null;};_pBindData._getXdomCtxLastChild=function(_a){return _a?_a.lastChild:null;};_pBindData._appendXdomCtxChild=function(_a,_b){if(_a){_a.appendChild(_b);}};_pBindData._insertXdomCtxChild=function(_a,_b,_c){if(_a){_a.insertBefore(_c,_b);}};_pBindData._deleteXdomCtxChild=function(_a,_b){if(_a){_a.removeChild(_b);}};_pBindData._getJsonCtxIndex=function(_a,_b){return _b;};_pBindData._getJsonCtxLevel=function(_a,_b){var _c= -1;for(var _d=_a;_d;_d=this._getJsonCtxParent(_d)){_c++ ;}return _c;};_pBindData._getJsonCtxGroup=function(_a,_b){return _a?this._getJsonCtxChild(_a)?1:0: -1;};_pBindData._getJsonCtxAttrb=function(_a,_b,_c){return _a&&_a.__value?_a.__value[_b]:_c;};_pBindData._setJsonCtxAttrb=function(_a,_b,_c){if(_a&&_a.__value){_a.__value[_b]=_c;}};_pBindData._getJsonCtxParent=function(_a,_b){return _a?_a.__parent:_b;};_pBindData._getJsonCtxChild=function(_a,_b){return _a&&_a.__child?_a.__child[_b]:null;};_pBindData._getJsonCtxFirstChild=function(_a){return _a&&_a.__child?_a.__child[0]:null;};_pBindData._getJsonCtxLastChild=function(_a){return _a&&_a.__child?_a.__child[_a.__child.length-1]:null;};_pBindData._appendJsonCtxChild=function(_a,_b,_c,_d){if(_a&&_a.__child&&_a.__value&&_c){_a.__child.push(this._newJsonItem(_a,_b,_c,_d));if(_b=="object"){if(_a.__value[_c]){_a.__value[_c]=null;}_a.__value[_c]=_d;}if(_b=="array"){if(!_a.__value[_c]){_a.__value[_c]=[];}_a.__value[_c].push(_d);}}};_pBindData._insertJsonCtxChild=function(_a,_b,_c,_d,_e){if(_a&&_a.__child&&_a.__value&&_c){var _f=_d?_a.__child.indexOf(_d):0;_a.__child.splice(_f,0,this._newJsonCtxChild(_a,_c,_e));if(_b=="object"){if(_a.__value[_c]){_a.__value[_c]=null;}_a.__value[_c]=_e;}if(_b=="array"){if(!_a.__value[_c]){_a.__value[_c]=[];}_a.__value[_c].splice(_f,0,_e);}}};_pBindData._deleteJsonCtxChild=function(_a,_b,_c){if(_a&&_a.__child){var _d=_c?_a.__child.indexOf(_c): -1;if(_d>=0){_a.__child.splice(_d,1);}}};_pBindData._appendDataListChild=function(_a,_b){var _c=this._getBindRow(_a);if(_c){if(this._isXmlBind()){this._insertXdomCtxChild(this._getXdomCtxParent(_c,this._binddatactx),null,_b);this._resetBindDataList(nexacro._Browser=="Runtime");this._binddatacurr=Math.min(_a,this._binddatalist.length-1);this._fireDataCtxOnRowsetChangedEvent();}if(this._isJsonBind()){this._insertJsonCtxChild(this._getJsonCtxParent(_c,this._binddatactx),"array",null,null,_b);this._binddatacurr=Math.min(_a,this._binddatalist.length-1);this._fireDataCtxOnRowsetChangedEvent();}}return this._binddatacurr;};_pBindData._insertDataListChild=function(_a,_b,_c){var _d=this._getBindRow(_a);if(_d){if(this._isXmlBind()){this._insertXdomCtxChild(this._getXdomCtxParent(_d,this._binddatactx),_d,_b);this._resetBindDataList(nexacro._Browser=="Runtime");this._binddatacurr=Math.min(_a,this._binddatalist.length-1);this._fireDataCtxOnRowsetChangedEvent();}else{this._insertJsonCtxChild(this._getXdomJsonParent(_d,this._binddatactx),"array",_c,_d,_b);this._resetBindDataList(nexacro._Browser=="Runtime");this._binddatacurr=Math.min(_a,this._binddatalist.length-1);this._fireDataCtxOnRowsetChangedEvent();}}return this._binddatacurr;};_pBindData._subaddDataListChild=function(_a,_b,_c){var _d=this._getBindRow(_a);if(_d){if(this._isXmlBind()){this._appendXdomCtxChild(_d,_b);this._resetBindDataList(nexacro._Browser=="Runtime");this._binddatacurr=Math.min(_a,this._binddatalist.length-1);this._fireDataCtxOnRowsetChangedEvent();}else{this._appendJsonCtxChild(_d,"array",_c,_b);this._binddatacurr=Math.min(_a,this._binddatalist.length-1);this._fireDataCtxOnRowsetChangedEvent();}}return this._binddatacurr;};_pBindData._subinsDataListChild=function(_a,_b,_c){var _d=this._getBindRow(_a);if(_d){if(this._isXmlBind()){this._insertXdomCtxChild(_d,this._getXdomCtxFirstChild(_d),_b);this._resetBindDataList(nexacro._Browser=="Runtime");this._binddatacurr=Math.min(_a,this._binddatalist.length-1);this._fireDataCtxOnRowsetChangedEvent();}else{this._insertJsonCtxChild(_d,"array",0,_b,_c);this._binddatacurr=Math.min(_a,this._binddatalist.length-1);this._fireDataCtxOnRowsetChangedEvent();}}return this._binddatacurr;};_pBindData._deleteDataListChild=function(_a){var _b=this._getBindRow(_a);if(_b){if(this._isXmlBind()){this._deleteXdomCtxChild(this._getXdomCtxParent(_b,this._binddatactx),_b);this._resetBindDataList(nexacro._Browser=="Runtime");this._binddatacurr=Math.min(_a,this._binddatalist.length-1);this._fireDataCtxOnRowsetChangedEvent();}else{this._deleteJsonCtxChild(this._getJsonCtxParent(_b,this._binddatactx),_b);this._resetBindDataList(nexacro._Browser=="Runtime");this._binddatacurr=Math.min(_a,this._binddatalist.length-1);this._fireDataCtxOnRowsetChangedEvent();}}return this._binddatacurr;};_pBindData._initDataCtxEventHandler=function(){this._binddatactxevent=new nexacro._EventSinkObject("ctxevent");this._binddatactxevent._event_list={"onload":1,"onrowsetchanged":1,"onvaluechanged":1};};_pBindData._uninitDataCtxEventHandler=function(){if(this._binddatactxevent){delete this._binddatactxevent;}};_pBindData._setDataCtxEventHandler=function(_a,_b,_c){this._binddatactxevent.setEventHandler(_a,_b,_c);};_pBindData._addDataCtxEventHandler=function(_a,_b,_c){this._binddatactxevent.addEventHandler(_a,_b,_c);};_pBindData._removeDataCtxEventHandler=function(_a,_b,_c){this._binddatactxevent.removeEventHandler(_a,_b,_c);};_pBindData._getDataCtxEvent=function(_a){return this._binddatactxevent[_a];};_pBindData._fireDataCtxOnLoadEvent=function(){var _a=this._getDataCtxEvent("onload");if(_a&&_a._has_handlers){var _b=new nexacro.DSLoadEventInfo(this,"onload",0,"",0);_a._fireEvent(this,_b);}};_pBindData._fireDataCtxOnRowsetChangedEvent=function(){var _a=this._getDataCtxEvent("onrowsetchanged");if(_a&&_a._has_handlers){var _b=new nexacro.DSRowsetChangeEventInfo(this,"onrowsetchanged",this._binddatacurr,1,0);_a._fireEvent(this,_b);}};_pBindData._fireDataCtxOnValueChanged=function(){var _a=this._getDataCtxEvent("onvaluechanged");if(_a&&_a._has_handlers){var _b=new nexacro.DSColChangeEventInfo(this,"onvaluechanged",this._binddatacurr, -1, -1,"",undefined,undefined);_a._fireEvent(this,_b);}};_pBindData._setCodeColumn=function(_a,_b){if(this._isInnerBind()){this._colsinfo[0]=_a;this._propinfo[0]=_b;}};_pBindData._getCodeColumn=function(){if(this._isInnerBind()){return this._colsinfo[0];}};_pBindData._clearCodeColumn=function(){this._colsinfo[0]="";this._propinfo[0]="";};_pBindData._setLevelColumn=function(_a,_b){if(this._isDataBind()){this._colsinfo[1]=_a;this._propinfo[1]=_b;}};_pBindData._getLevelColumn=function(){if(this._isDataBind()){return this._colsinfo[1];}};_pBindData._clearLevelColumn=function(){this._colsinfo[1]="";this._propinfo[1]="";};_pBindData._setGroupColumn=function(_a,_b){if(this._isDataBind()){this._colsinfo[2]=_a;this._propinfo[2]=_b;}};_pBindData._getGroupColumn=function(){if(this._isDataBind()){return this._colsinfo[2];}};_pBindData._clearGroupColumn=function(){this._colsinfo[2]="";this._propinfo[2]="";};_pBindData._setDataColumn=function(_a,_b){if(this._isDataBind()){this._clearDataColumn();if(_a){if(_a.length){this._pushInfoArray(_a,this._colsinfo);}else{this._colsinfo.push(_a);}}if(_b){if(_b.length){this._pushInfoArray(_b,this._propinfo);}else{this._propinfo.push(_b);}}}};_pBindData._clearDataColumn=function(){this._propinfo.splice(3,this._propinfo.length);this._colsinfo.splice(3,this._colsinfo.length);};_pBindData._getBindRow=function(_a,_b){if(this._binddataset){}if(this._binddatalist){if(_a&&_a>=0&&_a<this._binddatalist.length){return this._binddatalist[_a];}}return _b;};_pBindData._getBindRowCount=function(){if(this._binddataset){return this._binddataset.getRowCount();}if(this._binddatalist){return this._binddatalist.length;}return 0;};_pBindData._getBindRowCurrent=function(){if(this._binddataset){return this._binddataset.rowposition;}if(this._binddatalist){return this._binddatacurr;}};_pBindData._setBindRowCurrent=function(_a){if(this._binddataset){this._binddataset.set_rowposition(_a);}if(this._binddatalist){this._binddatacurr=_a;}};_pBindData._appendBindRow=function(_a,_b,_c){if(this._binddataset){return this._appendDataSetRow(_a,_b,_c);}if(this._binddatalist){return this._appendDataListChild(_a,_b,_c);}};_pBindData._insertBindRow=function(_a,_b,_c){if(this._binddataset){return this._insertDataSetRow(_a,_b,_c);}if(this._binddatalist){return this._insertDataListChild(_a,_b,_c);}};_pBindData._subaddBindRow=function(_a,_b,_c){if(this._binddataset){return this._subaddDataSetRow(_a,_b,_c);}if(this._binddatalist){return this._subaddDataListChild(_a,_b,_c);}};_pBindData._subinsBindRow=function(_a,_b,_c){if(this._binddataset){return this._subinsDataSetRow(_a,_b,_c);}if(this._binddatalist){return this._subinsDataListChild(_a,_b,_c);}};_pBindData._deleteBindRow=function(_a){if(this._binddataset){return this._deleteDataSetRow(_a);}if(this._binddatalist){return this._deleteDataListChild(_a);}};_pBindData._copyBindRow=function(_a,_b,_c){if(this._binddataset){this._binddataset.copyRow(_a,_c,_b);}if(this._binddatalist){this._binddatalist[_a]=nexacro._clone(_b);}return _a;};_pBindData._moveBindRow=function(_a,_b){if(this._binddataset){return this._binddataset.deleteRow(_a);}if(this._binddatalist){this._binddatalist.splice(_a,1);return this._binddatacurr=Math.min(_a,this._binddatalist.length-1);}};_pBindData._exchangeBindRow=function(_a,_b){if(this._binddataset){return this._binddataset.deleteRow(_a);}if(this._binddatalist){this._binddatalist.splice(_a,1);return this._binddatacurr=Math.min(_a,this._binddatalist.length-1);}};_pBindData._searchBindRow=function(_a,_b){};_pBindData._getBindColIndex=function(_a){if(_a&&_a.charAt(0)=='#'){switch(_a){case "#rowindex":return nexacro._BindConst.BINDINDEX_ROWINDEX;case "#rowlevel":return nexacro._BindConst.BINDINDEX_ROWLEVEL;case "#rowgroup":return nexacro._BindConst.BINDINDEX_ROWGROUP;case "#nodename":return nexacro._BindConst.BINDINDEX_NODENAME;case "#nodetype":return nexacro._BindConst.BINDINDEX_NODETYPE;case "#nodevalue":return nexacro._BindConst.BINDINDEX_NODEVALUE;case "#nodechild":return nexacro._BindConst.BINDINDEX_NODECHILD;}return nexacro._BindConst.BINDINDEX_COLUNSET;}else{if(this._binddataset){return this._binddataset.getColIndex(_a);}else{return nexacro._BindConst.BINDINDEX_ATTRIBUTE;}}};_pBindData._getBindColName=function(_a){{var _b=this._propinfo.indexOf(_a);if(_b>=0&&_b<this._colsinfo.length){return this._colsinfo[_b];}}};_pBindData._applyBindDataSet=function(_a,_b,_c){{return this._binddataset.setColumn(_b,_a,_c);}};_pBindData._fetchBindDataSet=function(_a,_b){{{switch(_a){case  -60:case  -61:case  -62:case  -63:return;case  -97:case  -98:return this._binddataset.getRowLevel(_b);case  -99:return _b;case  -70:case  -1:return;default:return this._binddataset.getColumn(_b,_a);}}}};_pBindData._applyBindDataCtx=function(_a,_b,_c){{var _d=this._binddatalist[_b];var _e=_a?(_a.colidx?_a.colidx:(_a.bindid?_a.bindid:_a)):null;if(_e){if(this._isXmlBind()){switch(_e){case  -60:case  -61:return;case  -62:return _d.nodeValue=_c;case  -63:return;case  -97:case  -98:case  -99:return;case  -70:default:return this._setXdomCtxAttrb(_d,_e,_c);}}else{switch(_e){case  -60:case  -61:return;case  -62:case  -63:return;case  -97:case  -98:case  -99:return;case  -70:default:return this._setJsonCtxAttrb(_d,_e,_c);}}}}};_pBindData._fetchBindDataCtx=function(_a,_b){{var _c=this._binddatalist[_b];var _d=_a.colidx?_a.colidx:0;var _e=_a.bindid?_a.bindid:_a;if(_c){if(this._isXmlBind()){switch(_d){case  -60:return _c.nodeName;case  -61:return _c.nodeType;case  -62:return _c.nodeValue;case  -63:return _c.childNodes;case  -97:return this._getXdomCtxGroup(_c,_b);case  -98:return this._getXdomCtxLevel(_c,_b);case  -99:return this._getXdomCtxIndex(_c,_b);case  -70:default:return this._getXdomCtxAttrb(_c,_e,"");}}else{switch(_d){case  -60:case  -61:case  -62:return;case  -63:return _c.__childs;case  -97:return this._getJsonCtxGroup(_c,_b);case  -98:return this._getJsonCtxLevel(_c,_b);case  -99:return this._getJsonCtxIndex(_c,_b);case  -70:default:return this._getJsonCtxAttrb(_c,_e,"");}}}}};_pBindData._fetchExprDataSet=function(_a,_b){if(_a>=0){{var _c=this._exprfunc[_a];if(_c){if(this._isFullExpr()){return _c.call(this._exprowner,_b,_b,this._exprtarget,this._binddataset,this._binddataset._viewRecords,this._binddataset._viewRecords[_b],[]);}else{return _c.call(this._exprowner,this._exprtarget);}}}}return undefined;};_pBindData._fetchExprDataCtx=function(_a,_b){if(_a>=0){}return undefined;};_pBindData._getBindInfos=function(){return this._bindinfo;};_pBindData._initBindInfo=function(_a){if(_a){_a.exprix= -1;_a.colidx= -1;var _b=_a.bindid;var _c=_a.exprcx;if(this._isDataExpr()){if(_c!=""){var _d=null;if(this._isFullExpr()&&this._binddataset){_d=this._binddataset._createExprFunc(_c);}else if(this._exprparser&&this._exprtarget){_d=nexacro._createInlineFunc(this._exprparser.makeExpr(this._exprtarget,_c));}if(_d){_a.exprix=this.setExprFunc(_c,_d);}}else if(_b!=""){if(this._isFullBind()){_a.colidx=this._getBindColIndex(_b);}else{_a.colidx=this._getBindColIndex(this._getBindColName(_b));}}}else{if(_b!=""){if(this._isFullBind()){_a.colidx=this._getBindColIndex(_b);}else{_a.colidx=this._getBindColIndex(this._getBindColName(_b));}}}}};_pBindData._initBindInfoArray=function(_a){{if(_a){for(var _b=0,_c=_a.length;_b<_c;_b++ ){this._initBindInfo(_a[_b]);}}}};_pBindData._pushBindInfoArray=function(_a){{if(_a){for(var _b=0,_c=_a.length;_b<_c;_b++ ){this._bindinfo.push(_a[_b]);_a[_b]=null;}}}};_pBindData._setBindInfos=function(_a,_b,_c,_d){{this._clearBindInfos(true);if(_d){this._bindinfostart=3;this._addDataBindInfo(_d);}if(_c){this._bindinfostart=2;this._initBindInfo(_c);this._bindinfo[2]=_c;}if(_b){this._bindinfostart=1;this._initBindInfo(_b);this._bindinfo[1]=_b;}if(_a){this._bindinfostart=0;this._initBindInfo(_a);this._bindinfo[0]=_a;}}};_pBindData._addDataBindInfo=function(_a){{if(_a.length){this._initBindInfoArray(_a);this._pushBindInfoArray(_a);}else{this._initBindInfo(_a);this._bindinfo.push(_a);}}};_pBindData._chkBindInfos=function(){return this._bindinfostart;};_pBindData._clearBindInfos=function(_a){if(this._isDataExpr()){this._clearExprFuncs();}if(_a){this._bindinfo=[null,null,null];}else{this._bindinfo=[];}this._bindinfostart= -1;};_pBindData._setBindData=function(_a,_b,_c){if(this._isDataBind()){if(this._binddataset&&_b&&_b.colidx>=0){return this._applyBindDataSet(_b.colidx,_a,_c);}if(this._binddatactx&&_b&&_b.colidx!= -1){return this._applyBindDataCtx(_b,_a,_c);}}};_pBindData._setBindColumn=function(_a,_b,_c){if(this._isDataBind()){if(this._binddataset&&_b>=0){return this._applyBindDataSet(_b,_a,_c);}if(this._binddatactx&&_b!= -1){return this._applyBindDataCtx(_b,_a,_c);}}};_pBindData._setBindColumnByID=function(_a,_b,_c){if(this._isDataBind()){if(this._binddataset&&_b){return this._applyBindDataSet(this._getBindColIndex(_b),_a,_c);}if(this._binddatactx&&_b){return this._applyBindDataCtx(_b,_a,_c);}}};_pBindData._getBindData=function(_a){if(this._isDataBind()){var _b=this._bindinfo;if(_b){var _c;var _d;var _e=_b.length;if(this._binddataset){for(_c=0;_c<_e;_c++ ){_d=_b[_c];if(_d){if(_d.bindid){_d.values=this._fetchBindDataSet(_d.colidx,_a);continue;}if(_d.exprcx){_d.values=this._fetchExprDataSet(_d.exprix,_a);continue;}}}return this;}if(this._binddatactx){for(_c=0;_c<_e;_c++ ){_d=_b[_c];if(_d){{_d.values=this._fetchBindDataCtx(_d,_a);continue;}}}return this;}}}return null;};_pBindData._getBindInfo=function(_a,_b){if(this._isDataBind()){var _c=this._bindinfo;if(_c){if(_b>=0&&_b<_c.length){var _d=_c[_a];if(_d){if(this._binddataset){if(_d.colidx!= -1){_d.values=this._fetchBindDataSet(_d.colidx,_a);}else if(_d.exprix!= -1){_d.values=this._fetchExprDataSet(_d.exprix,_a);}}if(this._binddatactx){if(_d.colidx!= -1){_d.values=this._fetchBindDataCtx(_d.colidx,_a);}else if(_d.exprix!= -1){_d.values=this._fetchExprDataCtx(_d.exprix,_a);}}}return _d;}}}return null;};_pBindData._getBindColumn=function(_a,_b){if(this._isDataBind()){if(this._binddataset){return this._fetchBindDataSet(nexacro._isNumber(_b)?_b:this._getBindColIndex(_b),_a);}if(this._binddatactx){return this._fetchBindDataCtx(_b,_a);}}};_pBindData._fetchBindValue=function(_a,_b){if(_b){if(_b.colidx>=0){return _b.values=this._fetchBindDataSet(_b.colidx,_a);}if(_b.exprix>=0){return _b.values=this._fetchExprDataSet(_b.exprix,_a);}if(_b.colidx<0){return _b.values=this._fetchBindDataCtx(_b,_a);}if(_b.exprix< -1){return _b.values=this._fetchExprDataCtx(_b,_a);}}return undefined;};_pBindData._fetchCodeBindValue=function(_a){return this._fetchBindValue(_a,this._bindinfo[0]);};_pBindData._fetchLevelBindValue=function(_a){return this._fetchBindValue(_a,this._bindinfo[1]);};_pBindData._fetchGroupBindValue=function(_a){return this._fetchBindValue(_a,this._bindinfo[2]);};_pBindData._fetchDataBindValue=function(_a,_b){return this._fetchBindValue(_a,this._bindinfo[_b&&_b>0?_b+3:3]);};_pBindData._getCodeValue=function(){var _a=this._bindinfo[0];return _a?_a.values:undefined;};_pBindData._getLevelValue=function(){var _a=this._bindinfo[1];return _a?_a.values:undefined;};_pBindData._getGroupValue=function(){var _a=this._bindinfo[2];return _a?_a.values:undefined;};_pBindData._getDataValue=function(_a){_a=_a?_a+3:3;if(_a>=0&&_a<this._bindinfo.length){var _b=this._bindinfo[_a];return _b?_b.values:null;}return null;};_pBindData._getDataValueByPropID=function(_a){var _b=this._propinfo.indexOf(_a)+3;return this._getDataValue(_b);};_pBindData._clear=function(){this._setBindType(false,false,false,false,false,false);this._clearCodeColumn();this._clearLevelColumn();this._clearDataColumn();this._clearBindInfos();this._clearBindDataCtx();this._clearBindDataSet();};delete _pBindData;}if(!nexacro._Formats){nexacro._FormatsConst={FORMATMODE_UNDEFINE: -1,FORMATMODE_XML:0,FORMATMODE_JSON:1,FORMATTYPE_ROWCOL:0,FORMATTYPE_POSITION:1,FORMATBIND_NONE:0,FORMATBIND_BIND:1,FORMATBIND_EXPR:2,FORMATBANDIDX_HEAD: -1,FORMATBANDIDX_TAIL: -2,FORMATBANDIDX_SUMM: -2,FORMATBANDIDX_BODY:0,FORMATBANDIDX_DETAIL:0,FORMATBANDIDX_MARK: -3,FORMATBANDIDX_TRACK: -3,FORMATBANDIDX_NULL: -4,FORMATBANDTYPE_DEFAULT:0,FORMATBANDTYPE_BODY:0,FORMATBANDTYPE_CONTENT:0,FORMATBANDTYPE_HEAD:1,FORMATBANDTYPE_TITLE:1,FORMATBANDTYPE_TAIL:2,FORMATBANDTYPE_SUMMRY:2,FORMATBANDTYPE_DETAIL:3,FORMATBANDTYPE_MARK:4,FORMATBANDTYPE_TRACK:4,FORMATBANDTYPE_NULL:5,FORMATBANDPOSTYPE_RELATIVE:0,FORMATBANDPOSTYPE_ABSOLUTE:1,FORMATBANDPOSTYPE_OPPOSITE:2,FORMATBANDBASETYPE_CLIENT:0,FORMATBANDBASETYPE_BODYBAND:1,FORMATBANDBASETYPE_POPUP:2,FORMATBANDREPEATTYPE_SINGLE:0,FORMATBANDREPEATTYPE_REPEAT:1,FORMATBANDFIXTYPE_FIXED:0,FORMATBANDFIXTYPE_TRACK:1,FORMATBANDFIXTYPE_SCROLL:2,FORMATBANDEDITTYPE_READONLY:0,FORMATBANDEDITTYPE_EDITABLE:1,FORMATBANDEDITTYPE_RESIZABLE:2,FORMATBANDSHOWTYPE_ALWAYS:0,FORMATBANDSHOWTYPE_SCROLLSTART:1,FORMATBANDSHOWTYPE_SCROLLING:2,FORMATBANDSHOWTYPE_SCROLLEND:3,FORMATBAND_DEFWIDTH:82,FORMATBAND_DEFHEIGHT:26,FORMATBANDCHILD_DEFWIDTH:"100%",FORMATBANDCHILD_DEFHEIGHT:"100%"};nexacro._FormatItem=function(){this._bands={};this._binds=[];this._bprop={};};var _pFormatItem=nexacro._createPrototype(Object,nexacro._FormatItem);nexacro._FormatItem.prototype=_pFormatItem;_pFormatItem._type_name="_FormatItem";_pFormatItem._setType=function(_a,_b,_c,_d){_a._typename=_b?_b._findType(_c):_c;_a._construc=nexacro._getTypeConstructor(_a._typename,_d);_a._setts={};};_pFormatItem._addBind=function(_a,_b,_c,_d,_e){var _f=new nexacro._BindInfo();_f.baseid=_b;_f.basesq=_a;_f.target=nexacro._nvl(_c,false)?_c.split('.'):null;_f.setter=nexacro._nvl(_d,false)?"set_"+_d:"set_text";_f.bindid=nexacro._nvl(_e,false)?_e:"";this._binds.push(_f);this._bprop[_d]=_f;};_pFormatItem._addExpr=function(_a,_b,_c,_d,_e){var _f=new nexacro._BindInfo();_f.baseid=_b;_f.basesq=_a;_f.target=nexacro._nvl(_c,false)?_c.split('.'):null;_f.setter=nexacro._nvl(_d,false)?"set_"+_d:"set_text";_f.exprcx=nexacro._nvl(_e,false)?_e:"";if(_d!="expr"){this._binds.push(_f);}};_pFormatItem._addSett=function(_a,_b,_c){_a[_b]=_c;_a._setts[_b]=_a._construc.prototype["set_"+_b];};_pFormatItem._addAttr=function(_a,_b,_c,_d,_e,_f){var _g;var _h,_i,_j;var _k=_b.length;if(_f){for(_g=0;_g<_k;_g++ ){_h=_b[_g];_i=_h.name;_j=_h.value;if(!nexacro._isNull(_j)){if(nexacro._isString(_j)){switch(_j.substr(0,5).toLowerCase()){case "bind:":this._addBind(_c,_d,_e,_i,_j.substr(5));this._arrBind(_a);break;case "expr:":this._addExpr(_c,_d,_e,_i,_j.substr(5));this._arrExpr(_a);break;}}this._addSett(_a,_i,_j);}}}else{for(_g=0;_g<_k;_g++ ){_h=_b[_g];_i=_h.name;if(!nexacro._isNull(_h.value)){this._addSett(_a,_i,_h.value);}}}this._arrAttr(_a);this._arrSett(_a);return _b.length>0;};_pFormatItem._changeBind=function(_a,_b,_c){_c.bindid=_b;this._bprop[_a]=_c;};_pFormatItem._changeExpr=function(_a,_b){_b.exprcx=_a;};_pFormatItem._changeSett=function(_a,_b,_c){_a[_b]=_c;};_pFormatItem._changeAttr=function(_a,_b,_c,_d,_e,_f){var _g;var _h,_i,_j;var _k=_b.length;if(_f){for(_g=0;_g<_k;_g++ ){_h=_b[_g];_i=_h.name;_j=_h.value;if(!nexacro._isNull(_j)){if(nexacro._isString(_j)){var _l=this._getBind(_c,_d,_e,_i);switch(_j.substr(0,5)){case "bind:":{if(!_l){this._addBind(_c,_d,_e,_i,_j.substr(5));}else{this._changeBind(_i,_j.substr(5),_l);}this._arrBind(_a);break;}case "expr:":{if(!_l){this._addExpr(_c,_d,_e,_i,_j.substr(5));}else{this._changeExpr(_j.substr(5),_l);}this._arrExpr(_a);break;}}}this._changeSett(_a,_i,_j);}}}else{for(_g=0;_g<_k;_g++ ){_h=_b[_g];_i=_h.name;if(!nexacro._isNull(_h.value)){this._changeSett(_a,_i,_h.value);}}}this._arrAttr(_a);return _b.length>0;};_pFormatItem._arrBind=function(_a){if(_a._construc.prototype._onGetBindableProperties){_a._valuebind=this._bprop[_a._construc.prototype._onGetBindableProperties.call(_a)];}};_pFormatItem._arrExpr=function(_a){};_pFormatItem._arrSett=function(_a){};_pFormatItem._arrAttr=function(_a){};_pFormatItem._addBand=function(_a,_b,_c,_d){if(_c&&_c.attributes){var _e=this._getBand(_b);var _f=_c.nodeName;var _g=_c.attributes;if(_d){this._setType(_e,_d,_f,"nexacro.ComplexComponent");}if(_g){this._addAttr(_e,_g,_a,_b,"",_d._format_bind);}this._arrBand(_e,_a);return _e;}return null;};_pFormatItem._addBandChild=function(_a,_b,_c,_d,_e){if(_d){var _f;var _g=this._getBand(_b);var _h=_d.attributes;var _i=_d.nodeName;var _j=_d.getAttribute("id");var _k=_j?_j:""+_c;var _l=_g._items[_c]={};if(_e){this._setType(_l,_e,_i,"nexacro.ComplexComponent");}if(_h){this._addAttr(_l,_h,_a,_b,_k,_e._format_bind);}var _m=_d.childNodes;var _n=_m?_m.length:0;if(_n){_l._items=[];for(_f=0;_f<_n;_f++ ){var _o=_m[_f];this._addBandSubChild(_a,_b,_k,_l,_f,_o,_e);}}this._arrBandChild(_l,_c);return _l;}return null;};_pFormatItem._addBandSubChild=function(_a,_b,_c,_d,_e,_f,_g){if(_f){var _h=_f.attributes;var _i=_f.nodeName;var _j=_f.getAttribute("id");var _k=_c+"."+_j?_j:_e;var _l=_d._items[_e]={};if(_g){this._setType(_l,_g,_i,"nexacro.ComplexComponent");}if(_h){this._addAttr(_l,_h,_a,_b,_k,_g._format_bind);}this._arrBandSubChild(_l,_e);return _l;}else{return null;}};_pFormatItem._addAutoBand=function(_a,_b,_c){if(!_c){return;}if(_b=="head"){}if(_b=="tail"){}if(_b=="mark"){}if(_b=="null"){var _d=this._getBand(_b);var _e="Band";var _f="nexacro.ComplexComponent";var _g=[{"name":"id","value":"nullband"},{"name":"left","value":"0"},{"name":"top","value":"0"},{"name":"width","value":"100%"},{"name":"height","value":"100%"},{"name":"scrolltype","value":"none"},{"name":"expanddirtype","value":"none"},{"name":"background","value":"transparent"}];this._setType(_d,_c,_e,_f);this._addAttr(_d,_g,_a,_b,"",_c._format_bind);}};_pFormatItem._addAutoBandChild=function(_a,_b,_c,_d){if(!_d){return;}if(_b=="head"){}if(_b=="tail"){}if(_b=="mark"){}if(_b=="null"){var _e=this._getBand(_b);var _f="nexacro._IconText";var _g="nexacro._IconText";var _h=[{"name":"id","value":"nullctrl"},{"name":"cssclass","value":_b},{"name":"left","value":"0"},{"name":"top","value":"0"},{"name":"width","value":"100%"},{"name":"height","value":"100%"},{"name":"text","value":"nodatatext"},{"name":"textAlign","value":"center"},{"name":"background","value":"transparent"}];var _i=_e._items[_c]={};this._setType(_i,_d,_f,_g);this._addAttr(_i,_h,_a,_b,_g,_d._format_bind);_i._id=_i.id;}};_pFormatItem._makeAutoHeadBand=function(_a,_b,_c){var _d=this._bands[_a];var _e=this._bands[_b];if(!_d&&_e){}};_pFormatItem._makeAutoTailBand=function(_a,_b,_c){var _d=this._bands[_a];var _e=this._bands[_b];if(!_d&&_e){}};_pFormatItem._makeAutoMarkBand=function(_a,_b,_c,_d){var _e=this._bands[_a];var _f=this._bands[_b];if(!_e&&_f){if(this._format_type==nexacro._FormatsConst.FORMATTYPE_ROWCOL){}else{if(_c){}else{var _g=this._copyBand(_a,_b,_d);var _h=this._copyBandChild(_a,_b,0,_d);if(_g){if(_h){_h._pos[2]=nexacro._FormatsConst.FORMATBANDCHILD_DEFWIDTH;_h._pos[3]=nexacro._FormatsConst.FORMATBANDCHILD_DEFHEIGHT;this._addSett(_h,"cssclass",_a);}{_g._pos[2]=nexacro._FormatsConst.FORMATBAND_DEFWIDTH;_g._pos[3]=nexacro._FormatsConst.FORMATBAND_DEFHEIGHT;this._addSett(_g,"background","#ffffff");this._addSett(_g,"scrolltype","none");this._addSett(_g,"expandtype","none");}}}}}};_pFormatItem._makeAutoNullBand=function(_a,_b,_c){var _d=this._bands[_a];if(!_d){if(this._format_type==nexacro._FormatsConst.FORMATTYPE_ROWCOL){}else{if(_b){}else{this._addAutoBand(0,"null",_c);this._addAutoBandChild(0,"null",0,_c);}}}};_pFormatItem._copyBand=function(_a,_b,_c){var _d=this._getBand(_a,true);var _e=this._getBand(_b,false);if(_d&&_e){var _f="";var _g=_c._getBaseName(_d,_a);var _h=_c._getAttrList(_e,[]);var _i=_c._getBandSeq(_g);var _j=_c._format_bind;_d._typename=_e._typename;_d._construc=_e._construc;_d._setts={};this._addAttr(_d,_h,_i,_g,_f,_j);this._addSett(_d,"name",_a);this._arrBand(_d,_i);}return _d;};_pFormatItem._copyBandChild=function(_a,_b,_c,_d){var _e;var _f=this._getBand(_a);var _g=this._getBandChildFromIndex(_b,_c);if(_f&&_g){var _h=_d._getBaseName(_g,_c);var _i=_d._getAttrList(_g,[]);var _j=_d._getBandSeq(_a);var _k=_d._format_bind;_e=_f._items[_c]={};_e._typename=_g._typename;_e._construc=_g._construc;_e._setts={};this._addAttr(_e,_i,_j,_a,_h,_k);this._arrBandChild(_e,_c);}return _e;};_pFormatItem._getBands=function(){return this._bands;};_pFormatItem._getBand=function(_a,_b){var _c=this._bands[_a];if(!_c&&_b!=false){this._bands[_a]={};_c=this._bands[_a];_c._items=[];_c._setts={};_c._id=_a;}return _c;};_pFormatItem._getBandChilds=function(_a){var _b=this._bands[_a];if(_b){return _b._items;}};_pFormatItem._getBandChildFromIndex=function(_a,_b){var _c=this._bands[_a];var _d=null;if(_c){var _e=_c._items;if(_b>=0&&_b<_e.length){_d=_e[_b];}}return _d;};_pFormatItem._getBandChildFromId=function(_a,_b){var _c=this._bands[_a];var _d=null;if(_c){var _e=_c._items;for(var _f=0;_f<_e.length;_f++ ){if(_e[_f].id==_b){_d=_e[_f];break;}}}return _d;};_pFormatItem._getBandProperty=function(_a,_b){var _c=this._getBand(_a);if(_c){return _c[_b];}};_pFormatItem._setBandProperty=function(_a,_b,_c,_d){var _e=this._getBand(_a);if(_e){var _f=this._makeAttr(_b,_c);var _g=_d._getBandSeq(_a);var _h=_d._format_bind;if(_e.hasOwnProperty(_b)){if(_e[_b]!=_c){return this._changeAttr(_e,_f,_g,_a,"",_h);}}else{return this._addAttr(_e,_f,_g,_a,"",_h);}}else{return false;}};_pFormatItem._getBandChildProperty=function(_a,_b,_c){var _d=this._getBandChildFromId(_a,_b);if(_d){return _d[_c];}};_pFormatItem._getBandChildCount=function(_a){var _b=this._getBandChilds(_a);if(_b){return _b.length;}else{return 0;}};_pFormatItem._setBandChildProperty=function(_a,_b,_c,_d,_e){var _f=this._getBandChildFromId(_a,_b);if(_f){var _g=this._makeAttr(_c,_d);var _h=_e._getBandSeq(_a);var _i=_e._getBaseName(_f,_b);var _j=_e._format_bind;if(_f.hasOwnProperty(_c)){if(_f[_c]!=_d){return this._changeAttr(_f,_g,_h,_a,_i,_j);}}else{return this._addAttr(_f,_g,_h,_a,_i,_j);}}return false;};_pFormatItem._makeAttr=function(_a,_b){return [{name:_a,value:_b}];};_pFormatItem._getBinds=function(){return this._binds;};_pFormatItem._getBind=function(_a,_b,_c,_d){var _e=this._getBinds();var _f=null;if(_e){if(!_e.find){for(var _i=0;_i<_e.length;_i++ ){var _g=_e[_i];var _h=nexacro._isArray(_g.target)?_g.target[0]:_g.target;if(_b==_g.baseid&&_a==_g.basesq&&_c==_h&&("set_"+_d)==_g.setter){_f=_g;break;}}}else{_f=this._binds.find(function(_f,_j,_k){var _h=nexacro._isArray(_f.target)?_f.target[0]:_f.target;if(this[0]==_f.baseid&&this[1]==_f.basesq&&this[2]==_h&&("set_"+this[3])==_f.setter){return _f;}},[_b,_a,_c,_d]);}}return _f;};_pFormatItem._getArrPos=function(_a){};_pFormatItem._clearBand=function(){this._bands={};};_pFormatItem._clearBind=function(){var _a,_b;var _c=this._binds.length;for(_a=0;_a<_c;_a++ ){if(this._binds[_a]){delete this._binds[_a];this._binds[_a]=null;}}for(_b in this._bprop){if(_b){delete this._bprop[_b];this._bprop[_b]=null;}}this._binds=[];this._bprop={};};_pFormatItem._clearType=function(){};_pFormatItem._clear=function(){this._clearBand();this._clearBind();this._clearType();};delete _pFormatItem;nexacro._FormatItemRowCol=function(){nexacro._FormatItem.call(this);this._col_sizes=[];this._col_bands={};this._row_sizes=[];this._row_bands={};};var _pFormatItemRowCol=nexacro._createPrototype(nexacro._FormatItem,nexacro._FormatItemRowCol);nexacro._FormatItemRowCol.prototype=_pFormatItemRowCol;_pFormatItemRowCol._type_name="_FormatItemRowCol";_pFormatItemRowCol._getColSizes=function(){return this._cols_sizes;};_pFormatItemRowCol._getRowSizes=function(){return this._rows_sizes;};_pFormatItemRowCol._getColSizes=function(_a,_b){if(_a&&_b){var _c=this._col_bands[_b];if(_c){_a+=_c._bound;}}if(_a&&_a>=0&&_a<this._cols_sizes.length){return this._col_sizes[_a];}};_pFormatItemRowCol._getRowSizes=function(_a,_b){if(_a&&_b){var _c=this._row_bands[_b];if(_c){_a+=_c._bound;}}if(_a&&_a>=0&&_a<this._row_bands.length){return this._row_bands[_a];}};_pFormatItemRowCol._addColSize=function(_a,_b,_c){var _d=parseInt(_c);var _e=this._col_bands[_b];if(_e){_e._size+=_d;_e._bound=Math.min(_e._bound,_a);_e._count++ ;}else{this._col_bands[_b]={};_e=this._col_bands[_b];_e._size=_d;_e._bound=_a;_e._count++ ;}this._col_sizes.push(_d);};_pFormatItemRowCol._addRowSize=function(_a,_b,_c){var _d=parseInt(_c);var _e=this._row_bands[_b];if(_e){_e._size+=_d;_e._bound=Math.min(_e._bound,_a);_e._count++ ;}else{this._row_bands[_b]={};_e=this._row_bands[_b];_e._size=_d;_e._bound=_a;_e._count++ ;}this._row_sizes.push(_d);};_pFormatItemRowCol._arrAttr=function(_a){if(_a){var _b=parseInt(_a["col"]);var _c=parseInt(_a["row"]);var _d=parseInt(_a["colspan"]);var _e=parseInt(_a["rowspan"]);_a._col=isNaN(_b)?0:_b;_a._row=isNaN(_c)?0:_c;_a._colspan=isNaN(_d)?0:_d;_a._rowspan=isNaN(_e)?0:_e;_a.__ap=[_a._row,_a._col,_a._rowspan,_a._colspan];}};_pFormatItemRowCol._arrSett=function(_a){delete _a._setts["col"];delete _a._setts["row"];delete _a._setts["colspan"];delete _a._setts["rowspan"];_a._setts["__ap"]=null;};_pFormatItemRowCol._arrBandChild=function(_a,_b){if(_a){_a._id=_a.id?_a.id:""+_b;_a._index=_b;}};_pFormatItemRowCol._arrBandSubChild=function(_a,_b){if(_a){_a._id=_a.id?_a.id:""+_b;_a._index=_b;}};_pFormatItemRowCol._getArrPos=function(_a){return _a?_a.__ap:null;};_pFormatItemRowCol._clear=function(){nexacro._FormatItem.prototype._clear.call(this);this._col_sizes=[];this._col_bands={};this._row_sizes=[];this._row_bands={};};delete _pFormatItemRowCol;nexacro._FormatItemPos=function(){nexacro._FormatItem.call(this);};var _pFormatItemPos=nexacro._createPrototype(nexacro._FormatItem,nexacro._FormatItemPos);nexacro._FormatItemPos.prototype=_pFormatItemPos;_pFormatItemPos._type_name="_FormatItemPos";_pFormatItemPos._addSett=function(_a,_b,_c){_a[_b]=_c;_a._setts[_b]=_a._construc.prototype["set_"+_b];};_pFormatItemPos._arrAttr=function(_a){if(_a){var _b=_a["left"];var _c=_a["top"];var _d=_a["right"];var _e=_a["bottom"];var _f=_a["width"];var _g=_a["height"];if(_b===""&&(_d!==""&&_f!=="")){_b=_a["left"]=undefined;}if(_d===""&&(_b!==""&&_f!=="")){_d=_a["right"]=undefined;}if(_f===""&&(_b!==""&&_d!=="")){_f=_a["width"]=undefined;}if(_c===""&&(_e!==""&&_g!=="")){_c=_a["top"]=undefined;}if(_e===""&&(_c!==""&&_g!=="")){_e=_a["bottom"]==undefined;}if(_g===""&&(_c!==""&&_e!=="")){_g=_a["height"]=undefined;}if(_b===undefined&&!(_d!==undefined&&_f!==undefined)){_b=_a["left"]=0;}if(_c===undefined&&!(_e!==undefined&&_g!==undefined)){_c=_a["top"]=0;}if(_b!==undefined&&(_d!==undefined&&_f!==undefined)){_d=_a["right"]=undefined;}if(_c!==undefined&&(_e!==undefined&&_g!==undefined)){_e=_a["bottom"]=undefined;}_a._pos=[_b,_c,_f,_g,_d,_e];_a.__ap=[_b,_c,_f,_g,_d,_e,false];var _h;var _i=_a.__ap.length;for(_h=0;_h<_i;_h++ ){var _j=_a.__ap[_h];if(_j&&(typeof _j==="string")){if(_j.indexOf("%")>=0){_a.__ap[_h]=parseFloat(_j)/10000;_a.__ap[6]=true;}else{_a.__ap[_h]=parseInt(_j);}}}}};_pFormatItemPos._arrSett=function(_a){delete _a._setts["left"];delete _a._setts["top"];delete _a._setts["right"];delete _a._setts["bottom"];delete _a._setts["width"];delete _a._setts["height"];_a._setts["_pos"]=_a._construc.prototype["move"];};_pFormatItemPos._arrBand=function(_a,_b){if(_a){_a._bound=_b;}};_pFormatItemPos._arrBandChild=function(_a,_b){if(_a){_a._id=_a.id?_a.id:""+_b;}};_pFormatItemPos._addBandSubChild=function(_a,_b){if(_a){_a._id=_a.id?_a.id:""+_b;}};_pFormatItemPos._getArrPos=function(_a){return _a?_a.__ap:null;};_pFormatItemPos._clear=function(){nexacro._FormatItem.prototype._clear.call(this);};delete _pFormatItemPos;nexacro._Formats=function(){this._format_parsed=false;this._format_mode=0;this._format_type=0;this._format_bind=0;this._format_items=[];this._current_id="";this._default_id="default";this._default_size="0";this._default_band="body";this._head_bands=["head"];this._body_bands=["body"];this._tail_bands=["tail"];this._mark_bands=["mark"];this._null_bands=["null"];this._auto_bands=["mark","null"];this._type_names={};};var _pFormats=nexacro._createPrototype(Object,nexacro._Formats);nexacro._Formats.prototype=_pFormats;_pFormats._type_name="_Formats";_pFormats._initFormats=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j){this._format_mode=_a;this._format_type=_b;this._format_bind=_c;if(_d){this._head_bands=_d;}if(_e){this._body_bands=_e;}if(_f){this._tail_bands=_f;}if(_g){this._mark_bands=_g;}if(_h){this._null_bands=_h;}if(_i){this._auto_bands=_i;}if(_j){this._type_names=_j;}};_pFormats._parseFormats=function(_a,_b){if(this._format_mode==nexacro._FormatsConst.FORMATMODE_UNDEFINE){var _c=_a.charAt(0);if(_c=='<'){this._format_mode=nexacro._FormatsConst.FORMATMODE_XML;}else if(_c=='{'||_c=='['){this._format_mode=nexacro._FormatsConst.FORMATMODE_JSON;}}if(this._format_mode==nexacro._FormatsConst.FORMATMODE_XML){this._parseFormatsFromXml(_a,_b);}else{this._parseFormatsFromJson(_a,_b);}};_pFormats._parseFormatsFromJson=function(_a,_b){var _c=nexacro._executeEvalStr('('+_a+')');if(_c){if(nexacro._isArray(_c)){this._format_items=_c;}else if(_c.id){this._format_items[_c.id]=_c;}else{this._format_items[this._default_id]=_c;}this._makeAutoBands(_b);this._format_parsed=true;}else{this._format_parsed=false;}};_pFormats._parseFormatsFromXml=function(_a,_b){var _c=nexacro._parseXMLDocument(_a);if(!_c){return;}var _d=_c.getElementsByTagName("Format");if(_d){var _e;var _f=_d.length;if(_f){for(_e=0;_e<_f;_e++ ){var _g=_d[_e];var _h=_g.getAttribute("id");if(_h==null||_h==""){_h=this._default_id;}this._loadFormatFromDOM(_h,_g);}}else{this._loadFormatFromDOM(this._default_id,"");}this._makeAutoBands(_b);this._format_parsed=true;}else{this._format_parsed=false;}};_pFormats._getFormatsStringFromXml=function(_a,_b){if(!_a){return;}var _c=nexacro._parseXMLDocument(_a);if(!_c){return;}if(!_b){_b=this._getCurrentID();}var _d=_c.getElementsByTagName("Format");if(_d){var _e;var _f=_d.length;for(_e=0;_e<_f;_e++ ){var _g=_d[_e];if(_b==_g.getAttribute("id")){_a=nexacro._documentToXml(_g);break;}}}return _a;};_pFormats._getFormatsStringFromContext=function(_a){if(!_a){_a=this._getCurrentID();}var _b="<Format id=\""+_a+"\">";var _c=this._getItem(_a);if(_c){var _d=_c._getBands();if(_d){var _e,_f,_g;if(this._body_bands.length){for(_e in this._body_bands){var _h=_d[this._body_bands[_e]];if(_h){if(_h._items&&_h._items.length){_b+="<Band";for(_g in _h){if(_h.hasOwnProperty(_g)){if(_g.charAt(0)!="_"){_b+=" "+_g+"=\""+_h[_g]+"\"";}}}_b+=">";for(_f in _h._items){_b+="<Cell";for(_g in _h._items[_f]){if(_h._items[_f].hasOwnProperty(_g)){if(_g.charAt(0)!="_"){_b+=" "+_g+"=\""+_h._items[_f][_g]+"\"";}}}_b+="/>";}_b+="</Band>";}else{_b+="<Band";for(_g in _h){if(_h.hasOwnProperty(_g)){if(_g.charAt(0)!="_"){_b+=" "+_g+"=\""+_h[_g]+"\"";}}}_b+="/>";}}}}}}_b+="</Format>";return _b;};_pFormats._loadFormatFromDOM=function(_a,_b){if(_a){var _c,_d;var _e,_f;var _g;if(_b){var _h,_i;var _j,_k;var _l,_m,_n,_o;if(this._format_type==nexacro._FormatsConst.FORMATTYPE_ROWCOL){var _p,_q;_g=new nexacro._FormatItemRowCol();var _r=_b.getElementsByTagName("Column");if(!_r||!_r.length){_r=_b.getElementsByTagName("Col");}if(_r){for(_c=0,_e=_r.length;_c<_e;_c++ ){_l=_r[_c];_p=nexacro._nvl(_l.getAttribute("band"),this._default_band);_q=nexacro._nvl(_l.getAttribute("size"),this._default_size);_g._addColSize(_c,_p,_q);}}var _s=_b.getElementsByTagName("Row");for(_c=0,_e=_s.length;_c<_e;_c++ ){_m=_s[_c];_p=nexacro._nvl(_m.getAttribute("band"),this._default_band);_q=nexacro._nvl(_m.getAttribute("size"),this._default_size);_g._addRowSize(_c,_p,_q);}this._format_items[_a]=_g;_h=_b.getElementsByTagName("Band");if(_h){for(_c=0,_e=_h.length;_c<_e;_c++ ){_n=_h[_c];_j=nexacro._nvl(_n.getAttribute("id"),this._default_band);_k=this._getBandSeq(_j);_g._addBand(_k,_j,_n,this);_i=_n.getElementsByTagName("Cell");if(_i){for(_d=0,_f=_i.length;_d<_f;_d++ ){_o=_i[_d];_g._addBandChild(_k,_j,_d,_o,this);}}}}}else{_g=new nexacro._FormatItemPos();this._format_items[_a]=_g;_h=_b.getElementsByTagName("Band");if(_h){for(_c=0,_e=_h.length;_c<_e;_c++ ){_n=_h[_c];_j=nexacro._nvl(_n.getAttribute("id"),this._default_band);_k=this._getBandSeq(_j);_g._addBand(_k,_j,_n,this);_i=_n.getElementsByTagName("Cell");if(_i){for(_d=0,_f=_i.length;_d<_f;_d++ ){_o=_i[_d];_g._addBandChild(_k,_j,_d,_o,this);}}}}}}else{_g=new nexacro._FormatItemPos();this._format_items[_a]=_g;}}};_pFormats._makeFormatsString=function(_a,_b){var _c="<Formats>";_c+=this._makeFormatString(_a,_b);_c+="</Formats>";return _c;};_pFormats._makeFormatString=function(_a,_b){if(_a){if(_a._isDataBind()){return this._makeFormatStringByColInfos(_a._getBindDataSetColInfos(),_a._getBindDataCtxKeyInfos(),_b);}if(_a._isXmlBind()){return this._makeFormatStringByKeyInfos(_a._getBindDataCtxKeyInfos(),_b);}if(_a._isJsonBind()){return this._makeFormatStringByKeyInfos(_a._getBindDataCtxKeyInfos(),_b);}}};_pFormats._makeFormatStringByColInfos=function(_a,_b,_c){var _d=function(_f,_q,_r,_o,_s,_t,_u,_p,_v){var _e="<"+_q+" id=\""+_r+"\"";if(_o!=null){_e+=" left=\""+_o+"\"";}if(_s!=null){_e+=" right=\""+_s+"\"";}if(_t!=null){_e+=" top=\""+_t+"\"";}if(_u!=null){_e+=" bottom=\""+_u+"\"";}if(_p!=null){_e+=" width=\""+_p+"\"";}if(_v!=null){_e+=" height=\""+_v+"\"";}_e+=" text=\"bind:"+_f.id+"\"";_e+="/>";return _e;};var _e="<Format id=\""+this._default_id+"\">";if(_a&&_a.length){var _f;var _g=this._type_names.length>0?this._type_names[0]:"Band";var _h=this._type_names.length>1?this._type_names[1]:"Cell";var _i=_h;var _j;var _k="24px";var _l,_m,_n,_o,_p;if(_c&&this._body_bands.length>=2){_e+="<"+_g+" id=\""+this._body_bands[0]+"\" width=\"100%\" height=\""+_k+"\">";_o=0;_m=Math.min(_a.length/2,5);_n=Math.min(_a.length/2,5);_p=Math.round(100/_n);for(_l=0;_l<_m;_l++ ,_o+=_p){_f=_a[_l];_j=_i+(_l<10?"0"+_l:_l);if(_l==0){_e+=_d(_f,_h,_j,"0px",null,"0px","0px",_p+"%",null);}else if(_l+1<_m){_e+=_d(_f,_h,_j,_o+"%",null,"0px","0px",_p+"%",null);}else{_e+=_d(_f,_h,_j,_o+"%","0px","0px","0px",null,null);}}_e+="</"+_g+">";_e+="<"+_g+" id=\""+this._body_bands[1]+"\" width=\"100%\" height=\""+_k+"\">";_o=0;_m=Math.min(_a.length,10);_n=_m-_n;_p=Math.round(100/_n);for(_l=0;_l<_n;_l++ ,_o+=_p){_f=_a[_l];_j=_i+(_l<10?"0"+_l:_l);if(_l==0){_e+=_d(_f,_h,_j,"0px",null,"0px","0px",_p+"%",null);}else if(_l+1<_m){_e+=_d(_f,_h,_j,_o+"%",null,"0px","0px",_p+"%",null);}else{_e+=_d(_f,_h,_j,_o+"%","0px","0px","0px",null,null);}}_e+="</"+_g+">";}else{_e+="<"+_g+" id=\""+this._body_bands[0]+"\" width=\"100%\" height=\""+_k+"\">";_o=0;_m=Math.min(_a.length,10);_n=Math.min(_a.length,10);_p=Math.round(100/_n);for(_l=0;_l<_m;_l++ ,_o+=_p){_f=_a[_l];_j=_i+(_l<10?"0"+_l:_l);if(_l==0){_e+=_d(_f,_h,_j,"0px",null,"0px","0px",_p+"%",null);}else if(_l+1<_m){_e+=_d(_f,_h,_j,_o+"%",null,"0px","0px",_p+"%",null);}else{_e+=_d(_f,_h,_j,_o+"%","0px","0px","0px",null,null);}}_e+="</"+_g+">";}}_e+="</Format>";return _e;};_pFormats._makeFormatStringByKeyInfos=function(_a){};_pFormats._makeAutoBands=function(_a){if(this._auto_bands){var _b=_a?_a._getBindDataCtxKeyInfos():null;for(var _j=0,_k=this._auto_bands.length;_j<_k;_j++ ){var _c=this._auto_bands[_j];var _d=this._head_bands.indexOf(_c)>=0;var _e=this._tail_bands.indexOf(_c)>=0;var _f=this._mark_bands.indexOf(_c)>=0;var _g=this._null_bands.indexOf(_c)>=0;var _h=this._body_bands[0];for(var _l in this._format_items){if(this._format_items.hasOwnProperty(_l)){var _i=this._format_items[_l];if(_d){_i._makeAutoHeadBand(_c,_h,_b,this);}if(_e){_i._makeAutoTailBand(_c,_h,_b,this);}if(_f){_i._makeAutoMarkBand(_c,_h,_b,this);}if(_g){_i._makeAutoNullBand(_c,_b,this);}}}}}};_pFormats._setCurrentID=function(_a){this._current_id=nexacro._nvl(_a,this._default_id);};_pFormats._getCurrentID=function(){return this._current_id;};_pFormats._getItem=function(_a){if(nexacro._isNull(_a)||_a==""){return this._format_items[this._getCurrentID()];}else{return this._format_items[_a];}};_pFormats._getCurrentItem=function(){return this._getItem();};_pFormats._isInvalid=function(){var _a=this._getCurrentItem();return _a===undefined||_a==null;};_pFormats._getBindInfos=function(_a){var _b=this._getItem(_a);if(_b){return _b._getBinds();}};_pFormats._findType=function(_a){return nexacro._nvl(this._type_names[_a],_a);};_pFormats._getBandSeq=function(_a){var _b=this._body_bands;if(_b){for(var _c=0,_d=_b.length;_c<_d;_c++ ){if(_b[_c]==_a){return _c;}}}return  -1;};_pFormats._getBaseName=function(_a,_b){return _a&&_a["id"]?_a["id"]:""+_b;};_pFormats._getAttrList=function(_a,_b){var _c=[];if(_a&&_a._setts){for(var _d in _a._setts){_c.push({name:_d,value:_a[_d]});}return _c;}return _b;};_pFormats._getBandProperty=function(_a,_b){var _c=this._getCurrentItem();if(_c){return _c._getBandProperty(_a,_b);}};_pFormats._setBandProperty=function(_a,_b,_c){var _d=this._getCurrentItem();if(_d){return _d._setBandProperty(_a,_b,_c,this);}else{return false;}};_pFormats._getBandChildProperty=function(_a,_b,_c){var _d=this._getCurrentItem();if(_d){return _d._getBandChildProperty(_a,_b,_c);}};_pFormats._setBandChildProperty=function(_a,_b,_c,_d){var _e=this._getCurrentItem();if(_e){return _e._setBandChildProperty(_a,_b,_c,_d,this);}else{return false;}};_pFormats._getBandChildCount=function(_a){var _b=this._getCurrentItem();if(_b){return _b._getBandChildCount(_a);}};_pFormats._clear=function(){for(var _a=this._format_items.length-1;_a>=0;_a-- ){if(this._format_items[_a]){this._format_items[_a]._clear();delete this._format_items[_a];}}this._format_items=[];this._format_parsed=false;this._current_id="";};delete _pFormats;}if(!nexacro._PanelPopupControl){nexacro._PanelPopupConst={};nexacro._PanelPopupControl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){nexacro.PopupControl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);this._popup_origin=null;this._popup_owner=null;this._popup_root=null;this._popup_index= -1;this._start_index=0;this._start_level=0;};var _pPanelPopupControl=nexacro._createPrototype(nexacro.PopupControl,nexacro._PanelPopupControl);nexacro._PanelPopupControl.prototype=_pPanelPopupControl;_pPanelPopupControl._type_name="_PanelPopupControl";_pPanelPopupControl._is_subcontrol=true;_pPanelPopupControl._attach=function(_a){return nexacro.PopupControl.prototype._attach.call(this,_a);};_pPanelPopupControl._detach=function(_a){return nexacro.PopupControl.prototype._detach.call(this,_a);};_pPanelPopupControl._getAttachedComponent=function(){return this._attached_comp;};_pPanelPopupControl._getRootComponent=function(_a){return _a._popup_root?_a._popup_root:nexacro.PopupControl.prototype._getRootComponent.call(this,_a);};_pPanelPopupControl._getMainFrame=function(){var _a=this;while(_a&&!_a._is_main){_a=_a.parent;}return _a;};_pPanelPopupControl._getOrigin=function(_a){var _b=this._popup_origin;if(_b){if(nexacro._isArray(_b)){if(_b.length>1){if(_a){return _b[0];}else{return _b[1];}}else{return _b[0];}}else{return _b;}}return;};_pPanelPopupControl._isPopup=function(){return this._is_popup();};_pPanelPopupControl._showPopup=function(_a,_b){var _c=this._getAttachedComponent();var _d=this._getOrigin(true);var _e=this._popup_owner;if(!_c||!_d||!_e){return;}var _f=_e._getPopupChildSize?_e._getPopupChildSize(this):[0,0];var _g=_e._getPopupChildPosition?_e._getPopupChildPosition(this):[0,0];var _h=_g[0];var _i=_g[1];var _j=_f[0];var _k=_f[1];_c.move(0,0,_j,_k);_c.set_visible(true);_e.on_notify_popup_onpopup(this._popup_index,this._start_index,this._start_level);this._popupBy(_d,_h,_i,_j,_k);var _l=_e._getWindow();if(_l&&_e._track_capture){_l._setCaptureLock(_e,true,false);}};_pPanelPopupControl._closePopup=function(){var _a=this._getAttachedComponent();if(_a){_a.set_visible(false);}var _b=this._popup_owner;if(_b){_b.on_notify_popup_onclose(this._popup_index,this._start_index,this._start_level);nexacro.PopupControl.prototype._closePopup.call(this);var _c=_b._getWindow();if(_c&&_b._track_capture){_c._releaseCaptureLock(_b);}}};_pPanelPopupControl._initInfo=function(_a,_b,_c,_d,_e,_f){this._popup_origin=_b;this._popup_owner=_a;this._popup_root=_c;this._popup_index=_d;this._start_index=_e;this._start_level=_f;};_pPanelPopupControl._clear=function(){this._popup_origin=null;this._popup_owner=null;this._popup_root=null;this._popup_index= -1;this._start_index=0;this._start_level=0;};delete _pPanelPopupControl;}if(!nexacro._PanelSelectControl){nexacro._PanelSelectConst={TYPE_NONE:0x0000,TYPE_LINE:0x0001,TYPE_AREA:0x0002,TYPE_MASK:0x000F,DIR_HORZ:0x0000,DIR_VERT:0x0010,DIR_LEAD:0x0000,DIR_TAIL:0x0020,DIR_MASK:0x0030,DIR_MASK_HV:0x0010,DIR_MASK_LT:0x0020,ALIGN_OUTER:0x0000,ALIGN_INNER:0x0040,ALIGN_MIDDL:0x0080,ALIGN_MASK:0x00C0,POINT_8P:0xFF00,POINT_4P:0x3300,POINT_LT:0x0100,POINT_RT:0x0200,POINT_CT:0x0400,POINT_CL:0x0800,POINT_LB:0x1000,POINT_RB:0x2000,POINT_CB:0x4000,POINT_CR:0x8000,POINT_NO:0x0000,POINT_MASK:0xFF00,ACT_DISPLAY:0x00000,ACT_RESIZER:0x10000,ACT_POINTER:0x20000,ACT_CARRIER:0x40000,ACT_MASK:0xF0000};nexacro._PanelSelectControl=function(_a,_b,_c){nexacro._EventSinkObject.call(this,_a,_c);this._select_name=_a;this._select_type=_b;this._select_show=false;this._assist_show=false;this._select_ctrls=null;this._assist_ctrls=null;this._select_owner=_c;this._select_begin=null;this._select_final=null;this._source_index= -1;this._target_index= -1;this._source_level= -1;this._target_level= -1;this._border_width=10;this._pointer_size=10;this._initSelector();this._initEvents();};var _pPanelSelectControl=nexacro._createPrototype(nexacro._EventSinkObject,nexacro._PanelSelectControl);nexacro._PanelSelectControl.prototype=_pPanelSelectControl;_pPanelSelectControl._type_name="_PanelSelectControl";_pPanelSelectControl._initSelector=function(){switch(this._select_type&nexacro._PanelSelectConst.TYPE_MASK){case nexacro._PanelSelectConst.TYPE_LINE:this._initSelectorLine();break;case nexacro._PanelSelectConst.TYPE_AREA:this._initSelectorArea();break;}};_pPanelSelectControl._initSelectorLine=function(){this._createSelector(1);};_pPanelSelectControl._initSelectorArea=function(){this._createSelector(8);};_pPanelSelectControl._initEvents=function(){if(!this._event_list){this._event_list={};}this._event_list["onresize"]=1;};_pPanelSelectControl._createSelector=function(_a){this._clearAssistor();this._clearSelector();this._select_ctrls=new Array(_a);var _b=this._select_owner;var _c=this._select_ctrls;var _d;if(_c&&_a){for(var _e=0,_f=_a;_e<_f;_e++ ){if(_d=new nexacro.Button(this._select_name+_e,0,0,0,0,null,null,null,null,null,null,_b)){if(_a==1){switch(this._select_type&nexacro._PanelSelectConst.DIR_MASK_HV){case nexacro._PanelSelectConst.DIR_HORZ:_d.set_cursor("row-resize");break;case nexacro._PanelSelectConst.DIR_VERT:_d.set_cursor("col-resize");break;}_d.set_opacity("0");}else{_d.set_cursor("resize");}_d._setEventHandler("onclick",this.on_notify_select_onclick,this);_d._setEventHandler("onlbuttondown",this.on_notify_select_ondrag,this);_d._setEventHandler("onmousemove",this.on_notify_select_ondragmove,this);_d._setEventHandler("onlbuttonup",this.on_notify_select_ondrop,this);_d._index=_e;_c[_e]=_d;}}}};_pPanelSelectControl._recreateSelector=function(){this._initSelector();this._recalcSelector();};_pPanelSelectControl._setControl=function(_a){var _b=this._select_ctrls;if(_b){if(_b.length){for(var _d=0,_e=_b.length;_d<_e;_d++ ){var _c=_b[_d];if(_c){_c._setControl(_c.typename);}}}else{_b._setControl(_b.typename);}}};_pPanelSelectControl.createComponent=function(_a){var _b=this._select_ctrls;if(_b){if(_b.length){for(var _d=0,_e=_b.length;_d<_e;_d++ ){var _c=_b[_d];if(_c){_c.createComponent(_a);}}}else{_b.createComponent(_a);}return true;}return false;};_pPanelSelectControl.destroy=function(){this._clearSelector();this._clearAssistor();};_pPanelSelectControl._createdSelector=function(){return this._createdControls(this._select_ctrls);};_pPanelSelectControl._createdAssistor=function(){return this._createdControls(this._assist_ctrls);};_pPanelSelectControl._createdControls=function(_a){if(_a){if(_a.length){for(var _c=0,_d=_a.length;_c<_d;_c++ ){var _b=_a[_c];if(_b){_b.on_created();}}}else{_a.on_created();}}};_pPanelSelectControl._clearSelector=function(){return this._clearControls(this._select_ctrls);};_pPanelSelectControl._clearAssistor=function(){return this._clearControls(this._assist_ctrls);};_pPanelSelectControl._clearControls=function(_a){if(_a){if(_a.length){for(var _b=_a.length-1;_b>=0;_b-- ){if(_a[_b]){_a[_b].destroy();delete _a[_b];_a[_b]=null;}}_a.length=0;}else{delete _a;_a=null;}}};_pPanelSelectControl._attachSelect=function(_a,_b){if(this._select_begin!=_a||this._select_final!=_b){this._select_begin=_a;this._select_final=_b;this._recalcSelector();}};_pPanelSelectControl._detachSelect=function(){if(this._select_begin||this._select_final){this._select_begin=null;this._select_final=null;this._recalcSelector();}};_pPanelSelectControl._getAttachedSelect=function(){return [this._select_begin,this._select_final];};_pPanelSelectControl._isAttachSelect=function(){return this._select_begin!=null&&this._select_final!=null;};_pPanelSelectControl._attachAssist=function(_a){if(this._assist_ctrls!=_a){this._assist_ctrls=_a;this._recalcSelector();}};_pPanelSelectControl._detachSelect=function(){if(this._assist_ctrls){this._assist_ctrls=null;this._recalcSelector();}};_pPanelSelectControl._getAttachedAssist=function(){return this._assist_ctrls;};_pPanelSelectControl._isAttachAssist=function(){return this._assist_ctrls!=null;};_pPanelSelectControl._isShowSelect=function(){return this._select_show==true;};_pPanelSelectControl._isShowAssist=function(){return this._assist_show==true;};_pPanelSelectControl._recalcSelector=function(){var _a=this._getBoundArea();switch(this._select_type&nexacro._PanelSelectConst.TYPE_MASK){case nexacro._PanelSelectConst.TYPE_LINE:this._recalcSelectorLine(_a);break;case nexacro._PanelSelectConst.TYPE_AREA:this._recalcSelectorArea(_a);break;}};_pPanelSelectControl._recalcSelectorLine=function(_a){var _b=this._select_ctrls;if(!_a||!_a.length==6){return;}if(!_b||!_b.length==1){return;}var _c=this._border_width,_d=this._border_width/2;switch(this._select_type&nexacro._PanelSelectConst.DIR_MASK_LT){case nexacro._PanelSelectConst.DIR_LEAD:break;case nexacro._PanelSelectConst.DIR_TAIL:break;}var _e=_a[0];var _f=_a[1];var _g=_a[4];var _h=_a[5];var _i=_a[2];var _j=_a[3];var _k=_e;var _l=_f;var _m=_g-_c;var _n=_h-_c;switch(this._select_type&nexacro._PanelSelectConst.ALIGN_MASK){case nexacro._PanelSelectConst.ALIGN_INNER:break;case nexacro._PanelSelectConst.ALIGN_OUTER:_m=_g;_n=_h;break;case nexacro._PanelSelectConst.ALIGN_MIDDL:_m+=_d;_n+=_d;break;}switch(this._select_type&nexacro._PanelSelectConst.DIR_MASK_HV){case nexacro._PanelSelectConst.DIR_HORZ:_b[0].move(_k,_n,_i,_c);break;case nexacro._PanelSelectConst.DIR_VERT:_b[0].move(_m,_l,_c,_j);break;}if(this._assist_ctrls){this._recalcAssist();}};_pPanelSelectControl._recalcSelectorArea=function(_a){var _b=this._select_ctrls;if(!_a||!_a.length==6){return;}if(!_b||!_b.length==8){return;}var _c=this._border_width,_d=this._border_width/2;var _e=this._pointer_size,_f=this._pointer_size/2;var _g=_e-_c;switch(this._select_type&nexacro._PanelSelectConst.DIR_MASK_LT){case nexacro._PanelSelectConst.DIR_LEAD:break;case nexacro._PanelSelectConst.DIR_TAIL:break;}switch(this._select_type&nexacro._PanelSelectConst.DIR_MASK_HV){case nexacro._PanelSelectConst.DIR_HORZ:break;case nexacro._PanelSelectConst.DIR_VERT:break;}var _h=_a[0];var _i=_a[1];var _j=_a[4];var _k=_a[5];var _l=_a[2];var _m=_a[3];var _n=_h-_c;var _o=_i-_c;var _p=_j-_c;var _q=_k-_c;switch(this._select_type&nexacro._PanelSelectConst.ALIGN_MASK){case nexacro._PanelSelectConst.ALIGN_INNER:_n=_h;_o=_i;break;case nexacro._PanelSelectConst.ALIGN_OUTER:_p=_j;_q=_k;break;case nexacro._PanelSelectConst.ALIGN_MIDDL:_n+=_d;_o+=_d;_p+=_d;_q+=_d;break;}var _r=_n-_g;var _s=_o-_g;var _t=_p-_g;var _u=_q-_g;var _v=_h+_l/2-_f;var _w=_i+_m/2-_f;if(this._select_type&nexacro._PanelSelectConst.POINT_LT){_b[0].move(_r,_s,_e,_e);}else{_b[0].move(_n,_o,_c,_c);}if(this._select_type&nexacro._PanelSelectConst.POINT_RT){_b[2].move(_t,_s,_e,_e);}else{_b[2].move(_p,_o,_c,_c);}if(this._select_type&nexacro._PanelSelectConst.POINT_LB){_b[4].move(_t,_u,_e,_e);}else{_b[4].move(_p,_q,_c,_c);}if(this._select_type&nexacro._PanelSelectConst.POINT_RB){_b[6].move(_r,_u,_e,_e);}else{_b[6].move(_n,_q,_c,_c);}if(this._select_type&nexacro._PanelSelectConst.POINT_CT){_b[1].move(_v,_s,_e,_e);}else{_b[1].move(_h,_o,_l,_c);}if(this._select_type&nexacro._PanelSelectConst.POINT_CR){_b[3].move(_t,_w,_e,_e);}else{_b[3].move(_p,_i,_c,_m);}if(this._select_type&nexacro._PanelSelectConst.POINT_CB){_b[5].move(_v,_u,_e,_e);}else{_b[5].move(_h,_q,_l,_c);}if(this._select_type&nexacro._PanelSelectConst.POINT_CL){_b[7].move(_r,_w,_e,_e);}else{_b[7].move(_n,_i,_c,_m);}if(this._assist_ctrls){this._recalcAssist(_a);}};_pPanelSelectControl._recalcAssist=function(_a){if(this._select_owner&&this._select_owner.onRecalcSelectAssist){this._select_owner.onRecalcSelectAssist(_a);}};_pPanelSelectControl._resizeSelect=function(_a,_b,_c){var _d=this._select_ctrls.indexOf(this._dragbase);switch(this._select_type&nexacro._PanelSelectConst.TYPE_MASK){case nexacro._PanelSelectConst.TYPE_LINE:this._resizeSelectLine(_d,_a,_b,_c);break;case nexacro._PanelSelectConst.TYPE_AREA:this._resizeSelectArea(_d,_a,_b,_c);break;}};_pPanelSelectControl._resizeSelectLine=function(_a,_b,_c,_d){var _e=this._getBoundArea();var _f=this._select_ctrls;if(!_e||!_e.length==6){return;}if(!_f||!_f.length==1){return;}var _g=_f[_a];if(_g){var _h=_g.getOffsetLeft();var _i=_g.getOffsetTop();switch(this._select_type&nexacro._PanelSelectConst.DIR_MASK_HV){case nexacro._PanelSelectConst.DIR_HORZ:_i+=_c;break;case nexacro._PanelSelectConst.DIR_VERT:_h+=_b;break;}_g.move(_h,_i);}if(_d){this._notifyChange(_b,_c);}};_pPanelSelectControl._resizeSelectArea=function(_a,_b,_c,_d){var _e=this._getBoundArea();var _f=this._select_ctrls;if(!_e||!_e.length==6){return;}if(!_f||!_f.length==8){return;}var _g,_h;var _i,_j;var _k,_l,_m,_n;var _o,_p;switch(_a){case 0:{_g=_f[2];_l=_f[1];_i=_f[0];_k=_f[7];_j=_f[4];_i.move(_i.getOffsetLeft()+_b,_i.getOffsetTop()+_c);_g.move(_g.getOffsetLeft(),_g.getOffsetTop()+_c);_j.move(_j.getOffsetLeft()+_b,_j.getOffsetTop());_l.move(_l.getOffsetLeft()+_b,_l.getOffsetTop()+_c,_l.getOffsetWidth()-_b,_l.getOffsetHeight());_k.move(_k.getOffsetLeft()+_b,_k.getOffsetTop(),_k.getOffsetWidth(),_k.getOffsetHeight()-_c);break;}case 1:{_i=_f[0];_l=_f[1];_g=_f[2];_p=_i.getOffsetTop()+_c;_i.move(_i.getOffsetLeft(),_p);_l.move(_l.getOffsetLeft(),_p);_g.move(_g.getOffsetLeft(),_p);break;}case 2:{_i=_f[0];_l=_f[1];_g=_f[2];_m=_f[3];_h=_f[6];_g.move(_g.getOffsetLeft()+_b,_g.getOffsetTop()+_c);_i.move(_i.getOffsetLeft(),_i.getOffsetTop()+_c);_h.move(_h.getOffsetLeft()+_b,_h.getOffsetTop());_l.move(_l.getOffsetLeft(),_l.getOffsetTop()+_c,_l.getOffsetWidth()+_b,_l.getOffsetHeight());_m.move(_m.getOffsetLeft()+_b,_m.getOffsetTop()+_c,_m.getOffsetWidth(),_m.getOffsetHeight()-_c);break;}case 3:{_g=_f[2];_m=_f[3];_h=_f[6];_o=_m.getOffsetLeft()+_b;_g.move(_o,_g.getOffsetTop());_m.move(_o,_m.getOffsetTop());_h.move(_o,_h.getOffsetTop());break;}case 4:{_i=_f[0];_j=_f[4];_n=_f[5];_h=_f[6];_j.move(_j.getOffsetLeft()+_b,_j.getOffsetTop()+_c);_h.move(_h.getOffsetLeft(),_h.getOffsetTop()+_c);_i.move(_i.getOffsetLeft()+_b,_i.getOffsetTop());_n.move(_n.getOffsetLeft()+_b,_n.getOffsetTop()+_c,_n.getOffsetWidth()-_b,_n.getOffsetHeight());break;}case 5:{_j=_f[4];_n=_f[5];_h=_f[6];_p=_n.getOffsetTop()+_c;_j.move(_j.getOffsetLeft(),_p);_n.move(_n.getOffsetLeft(),_p);_h.move(_h.getOffsetLeft(),_p);break;}case 6:{_g=_f[2];_n=_f[5];_h=_f[6];_m=_f[3];_j=_f[4];_h.move(_h.getOffsetLeft()+_b,_h.getOffsetTop()+_c);_j.move(_j.getOffsetLeft(),_j.getOffsetTop()+_c);_g.move(_g.getOffsetLeft()+_b,_g.getOffsetTop());_n.move(_n.getOffsetLeft(),_n.getOffsetTop()+_c,_n.getOffsetWidth()-_b,_n.getOffsetHeight());_m.move(_m.getOffsetLeft()+_b,_m.getOffsetTop(),_m.getOffsetWidth(),_m.getOffsetHeight()-_c);break;}case 7:{_i=_f[0];_k=_f[7];_j=_f[4];_o=_k.getOffsetLeft()+_b;_i.move(_o,_i.getOffsetTop());_k.move(_o,_k.getOffsetTop());_j.move(_o,_j.getOffsetTop());break;}}if(_d){this._notifyChange(_b,_c);}};_pPanelSelectControl._showSelector=function(_a){return this._showControls(this._select_ctrls,_a);};_pPanelSelectControl._showAssistor=function(_a){return this._showControls(this._assist_ctrls,_a);};_pPanelSelectControl._showControls=function(_a,_b){var _c=_b?_b:true;if(_a){if(_a.length){for(var _e=0,_f=_a.length;_e<_f;_e++ ){var _d=_a[_e];if(_d){_d.set_visible(_c);}}}else{_a.set_visible(_c);}}};_pPanelSelectControl._hideSelector=function(){return this._showSelector(false);};_pPanelSelectControl._hideAssistor=function(){return this._showAssistor(false);};_pPanelSelectControl._convPosOffset=function(_a,_b,_c){for(;_b&&_b.parent&&_b.parent!=this._select_owner;_b=_b.parent){_a+=_b[_c]();}return _a;};_pPanelSelectControl._getBoundArea=function(){var _a=[0,0,0,0,0,0];var _b=this._select_begin?this._select_begin:null;var _c=this._select_final?this._select_final:_b;if(!_b||!_c){return;}if(_b.getOffsetLeft&&_c.getOffsetLeft){_a[0]=this._convPosOffset(_b.getOffsetLeft(),_b,"getOffsetLeft");_a[1]=this._convPosOffset(_b.getOffsetTop(),_b,"getOffsetTop");_a[4]=this._convPosOffset(_c.getOffsetRight(),_c,"getOffsetRight");_a[5]=this._convPosOffset(_c.getOffsetBottom(),_c,"getOffsetBottom");_a[2]=_a[4]-_a[0];_a[3]=_a[5]-_a[1];return _a;}if(_b._getSlotSize&&_c._getSlotSize){var _d=_b._getSlotSize(_b._isSlotStatusBandMax());var _e=_c._getSlotSize(_c._isSlotStatusBandMax());_a[0]=_d[0];_a[1]=_d[1];_a[4]=_e[4];_a[5]=_e[5];_a[2]=_a[4]-_a[0];_a[3]=_a[5]-_a[1];return _a;}return _a;};_pPanelSelectControl._initInfo=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){this._select_owner=_a;this._select_begin=_b;this._select_final=_c;this._begin_index=_b&&_b._getSlotIndex?_b._getSlotIndex(): -1;this._final_index=_c&&_c._getSlotIndex?_c._getSlotIndex(): -1;if(!nexacro._isNull(_d)){this._source_index=_d;}if(!nexacro._isNull(_e)){this._target_index=_e;}if(!nexacro._isNull(_f)){this._source_level=_f;}if(!nexacro._isNull(_g)){this._target_level=_g;}if(_h){this._border_width=_h;}if(_i){this._pointer_size=_i;}};_pPanelSelectControl._clear=function(){this._clearAssistor();this._clearSelector();this._select_type=nexacro._PanelSelectConst.TYPE_NONE;this._select_show=false;this._select_ctrls=null;this._select_owner=null;this._select_begin=null;this._select_final=null;this._begin_index= -1;this._final_index= -1;this._source_index= -1;this._target_index= -1;this._source_level= -1;this._target_level= -1;};_pPanelSelectControl._notifyChange=function(_a,_b){if(this.onresize&&this.onresize._has_handlers){var _c=new nexacro.SizeEventInfo(this,"onresize",_a,_b);this.onresize._fireEvent(this,_c);}};_pPanelSelectControl.on_notify_select_onclick=function(_a,_b){this._actionSelector(_b,"selectclick");};_pPanelSelectControl.on_notify_select_ondrag=function(_a,_b){this._actionSelector(_b,"selectdrag");return true;};_pPanelSelectControl.on_notify_select_ondragmove=function(_a,_b){this._actionSelector(_b,"selectmove");};_pPanelSelectControl.on_notify_select_ondrop=function(_a,_b){this._actionSelector(_b,"selectdrop");};_pPanelSelectControl._actionSelector=function(_a,_b){switch(_b){case "selectclick":{this._clickSelect(_a);break;}case "selectdrag":{this._dragSelect(_a);break;}case "selectmove":{if(this._dragmode){this._moveSelect(_a);}break;}case "selectdrop":{if(this._dragmode){this._dropSelect(_a);}break;}}};_pPanelSelectControl._clickSelect=function(_a){};_pPanelSelectControl._dragSelect=function(_a){this._dragmode=true;this._dragbase=_a.fromobject;this._dragorgx=_a.screenx;this._dragorgy=_a.screeny;this._dragchgx=_a.screenx;this._dragchgy=_a.screeny;};_pPanelSelectControl._moveSelect=function(_a){this._dragoffx=_a.screenx-this._dragchgx;this._dragoffy=_a.screeny-this._dragchgy;this._resizeSelect(this._dragoffx,this._dragoffy,false);this._dragchgx=_a.screenx;this._dragchgy=_a.screeny;};_pPanelSelectControl._dropSelect=function(_a){this._dragoffx=_a.screenx-this._dragchgx;this._dragoffy=_a.screeny-this._dragchgy;this._resizeSelect(this._dragoffx,this._dragoffy,false);this._dragoffx=_a.screenx-this._dragorgx;this._dragoffy=_a.screeny-this._dragorgy;this._notifyChange(this._dragoffx,this._dragoffy);this._dragorgx=0;this._dragorgy=0;this._dragchgx=0;this._dragchgy=0;this._dragoffx=0;this._dragoffy=0;this._dragbase=null;this._dragmode=false;};_pPanelSelectControl._moveControl=function(_a){this._dragmode=false;};delete _pPanelSelectControl;}if(!nexacro._PanelSlot){nexacro._PanelSlotConst={HORZALIGN_FULLFIT:0,HORZALIGN_LEFT:1,HORZALIGN_RIGHT:2,HORZALIGN_CENTER:3,VERTALIGN_FULLFIT:0,VERTALIGN_TOP:1,VERTALIGN_BOTTOM:2,VERTALIGN_MIDDLE:3,GROUP_ITEM:0,GROUP_TITLE:1,GROUP_SPLIT: -1,STATUS_CURRENT: -9,STATUS_NONE:0,STATUS_COLLPASE: -1,STATUS_EXPAND:1,STATUS_POPUP:2};nexacro._PanelSlot=function(_a,_b){this._slot_target=_a;this._slot_static=_b;this._slot_visible=true;this._slot_status=0;this._slot_multi=0;this._slot_halign=0;this._slot_valign=0;this._slot_level= -1;this._slot_group= -1;this._slot_index= -1;};var _pPanelSlot=nexacro._createPrototype(Object,nexacro._PanelSlot);nexacro._PanelSlot.prototype=_pPanelSlot;_pPanelSlot._type_name="_PanelSlot";_pPanelSlot._getSlotTarget=function(){return this._slot_target;};_pPanelSlot._setSlotTarget=function(_a){this._slot_target=_a;};_pPanelSlot._getSlotTargetBand=function(_a){return this._slot_target.length?this._slot_target[_a]:null;};_pPanelSlot._placeSlotTarget=function(_a){this._slot_target=_a;if(this._slot_cshadj){this._adjustSlotPosition.apply(this,this._getSlotCachedPos());}else{this._setSlotSize.apply(this,this._getSlotCachedPos());}};_pPanelSlot._clearSlotTarget=function(_a){this._slot_target=null;};_pPanelSlot._getSlotStatic=function(){return this._slot_static;};_pPanelSlot._setSlotStatic=function(_a){this._slot_static=_a;};_pPanelSlot._clearSlotStatic=function(_a){if(!_a&&this._slot_static){delete this._slot_static;}this._slot_static=null;};_pPanelSlot._setSlotVisible=function(_a){this._slot_visible=_a;if(this._slot_static){this._slot_static.set_visible(_a);}if(this._slot_target){if(this._slot_target.length){var _b;var _c;var _d;switch(this._slot_multi){case  -1:case 2:{_d=this._slot_target[0];if(_d){_d.set_visible(_a);}if(_a){for(_b=1,_c=_d.length;_b<_c;_b++ ){_d=this._slot_target[_b];if(_d){_d.set_visible(false);}}}break;}case 1:case 0:default:{for(_b=0,_c=0;_b<_c;_b++ ){_d=this._slot_target[_b];if(_d){_d.set_visible(_a);}}break;}}}else{this._slot_target.set_visible(_a);}}};_pPanelSlot._isVisible=function(){return this._slot_visible;};_pPanelSlot._isNonEmptyTarget=function(_a){if(nexacro._isArray(_a)){for(var _b=0,_c=_a.length;_b<_c;_b++ ){if(_a[_b]){return true;}}return false;}else{return !!_a;}};_pPanelSlot._isNonEmptyStatic=function(_a){return !!_a;};_pPanelSlot._isEmptyTarget=function(_a){return !this._isNonEmptyTarget(_a);};_pPanelSlot._isEmptyStatic=function(_a){return !this._isNonEmptyStatic(_a);};_pPanelSlot._setSlotStatus=function(_a){this._slot_status=_a;};_pPanelSlot._getSlotStatus=function(){return this._slot_status;};_pPanelSlot._setSlotStatusBand=function(_a){this._slot_multi=_a;};_pPanelSlot._getSlotStatusBand=function(){return this._slot_multi;};_pPanelSlot._isSlotStatusMin=function(){return this._slot_status!=nexacro._PanelSlotConst.STATUS_EXPAND;};_pPanelSlot._isSlotStatusMax=function(){return this._slot_status==nexacro._PanelSlotConst.STATUS_EXPAND;};_pPanelSlot._isSlotStatusBandMin=function(){return this._slot_multi!=nexacro._PanelSlotConst.STATUS_EXPAND;};_pPanelSlot._isSlotStatusBandMax=function(){return this._slot_multi==nexacro._PanelSlotConst.STATUS_EXPAND;};_pPanelSlot._setSlotStatusSet=function(_a,_b){this._slot_status=_a;this._slot_multi=_b;};_pPanelSlot._getSlotStatusSet=function(){return [this._slot_status,this._slot_multi];};_pPanelSlot._setSlotIndex=function(_a){this._slot_index=_a;};_pPanelSlot._getSlotIndex=function(){return this._slot_index;};_pPanelSlot._setSlotLevel=function(_a){this._slot_level=_a;};_pPanelSlot._getSlotLevel=function(){return this._slot_level;};_pPanelSlot._setSlotGroup=function(_a){this._slot_group=_a;};_pPanelSlot._getSlotGroup=function(){return this._slot_group;};_pPanelSlot._getSlotAlignHorz=function(){return this._slot_halign;};_pPanelSlot._getSlotAlignVert=function(){return this._slot_valign;};_pPanelSlot._getSlotAlign=function(){return [this._slot_halign,this._slot_valign];};_pPanelSlot._setSlotAlignHorz=function(_a){this._slot_halign=_a;};_pPanelSlot._setSlotAlignVert=function(_a){this._slot_valign=_a;};_pPanelSlot._setSlotAlign=function(_a,_b){this._slot_halign=_a;this._slot_valign=_b;};_pPanelSlot._setStaticSize=function(_a,_b,_c,_d,_e,_f,_g,_h){if(_h){_a.move(_b,_c,_d,_e,_f,_g);_a.set_visible(true);}else{_a.move(_b,_c,_d,_e,_f,_g);}};_pPanelSlot._setTargetSize=function(_a,_b,_c,_d,_e,_f,_g,_h){if(!this._slot_halign&&!this._slot_valign){if(_h){_a.move(_b,_c,_d,_e,_f,_g);_a.set_visible(true);}else{_a.move(_b,_c,_d,_e,_f,_g);}}else{var _i=_b!=null?_b:null;var _j=_c!=null?_c:null;var _k=_f!=null?_f:null;var _l=_g!=null?_g:null;var _m=_a.getPixelWidth();var _n=_a.getPixelHeight();if(_i){switch(this._slot_halign){case nexacro._PanelSlotConst.HORZALIGN_FULLFIT:_m=_d;case nexacro._PanelSlotConst.HORZALIGN_LEFT:_i=0;break;case nexacro._PanelSlotConst.HORZALIGN_RIGHT:_i=(_d-_m);break;case nexacro._PanelSlotConst.HORZALIGN_CENTER:_i=(_d-_m)/2;break;}}else{switch(this._slot_halign){case nexacro._PanelSlotConst.HORZALIGN_FULLFIT:_m=_d;case nexacro._PanelSlotConst.HORZALIGN_RIGHT:_k=0;break;case nexacro._PanelSlotConst.HORZALIGN_LEFT:_k=(_d+_m);break;case nexacro._PanelSlotConst.HORZALIGN_CENTER:_k=(_d+_m)/2;break;}}if(_j){switch(this._slot_valign){case nexacro._PanelSlotConst.VERTALIGN_FULLFIT:_n=_e;case nexacro._PanelSlotConst.VERTALIGN_TOP:_j=0;break;case nexacro._PanelSlotConst.VERTALIGN_BOTTOM:_j=(_e-_n);break;case nexacro._PanelSlotConst.VERTALIGN_MIDDLE:_j=(_e-_n)/2;break;}}else{switch(this._slot_valign){case nexacro._PanelSlotConst.VERTALIGN_FULLFIT:_n=_e;case nexacro._PanelSlotConst.VERTALIGN_BOTTOM:_l=0;break;case nexacro._PanelSlotConst.VERTALIGN_TOP:_l=(_e+_n);break;case nexacro._PanelSlotConst.VERTALIGN_MIDDLE:_l=(_e+_n)/2;break;}}if(_h){_a.move(_i,_j,_m,_n,_k,_l);_a.set_visible(true);}else{_a.move(_i,_j,_m,_n,_k,_l);}}};_pPanelSlot._getControlSize=function(_a){if(_a){var _b=_a.getOffsetLeft();var _c=_a.getOffsetTop();var _d=_a.getOffsetRight();var _e=_a.getOffsetBottom();var _f=_d-_b;var _g=_e-_c;return [_b,_c,_f,_g,_d,_e];}};_pPanelSlot._getStaticSize=function(){return this._getControlSize(this._slot_static);};_pPanelSlot._getTargetSize=function(_a,_b){var _c=this._slot_target;if(_c){if(_c.length){if(_a>=0&&_a<_c.length){return this._getControlSize(_c[_a]);}var _d=this._getControlSize(_c[0]);var _e=_b?this._getSlotMaxPosition():this._getSlotMinPosition();return [_d[0],_d[1],_e[2],_e[3],_d[0]+_e[2],_d[1]+_e[3]];}return this._getControlSize(_c);}};_pPanelSlot._getSlotMinPosition=function(){return this._slot_minpos;};_pPanelSlot._getSlotMaxPosition=function(){return this._slot_maxpos;};_pPanelSlot._getSlotMinWidth=function(){return this._slot_minpos?this._slot_minpos[2]:0;};_pPanelSlot._getSlotMaxWidth=function(){return this._slot_maxpos?this._slot_maxpos[2]:0;};_pPanelSlot._getSlotMinHeight=function(){return this._slot_minpos?this._slot_minpos[3]:0;};_pPanelSlot._getSlotMaxHeight=function(){return this._slot_maxpos?this._slot_maxpos[3]:0;};_pPanelSlot._setSlotMinPosition=function(_a){if(_a){_a[4]=_a[5]=null;}this._slot_minpos=_a;};_pPanelSlot._setSlotMaxPosition=function(_a){if(_a){_a[4]=_a[5]=null;}this._slot_maxpos=_a;};_pPanelSlot._adjustMinPosition=function(_a,_b,_c,_d){if(_a){var _e=nexacro._isNull(_b[2])?_b[4]-_b[0]:_b[2];var _f=nexacro._isNull(_b[3])?_b[5]-_b[1]:_b[3];var _g=nexacro._isNull(_b[4])?_b[0]+_e:_c-_b[4];var _h=nexacro._isNull(_b[5])?_b[1]+_f:_d-_b[5];var _i=nexacro._isNull(_b[0])?_g-_e:_b[0];var _j=nexacro._isNull(_b[1])?_h-_f:_b[1];_a[0]=nexacro._nvl(Math.min(_a[0],_i),0);_a[1]=nexacro._nvl(Math.min(_a[1],_j),0);_a[4]=nexacro._nvl(Math.max(_a[4],_g),0);_a[5]=nexacro._nvl(Math.max(_a[5],_h),0);_a[2]=_a[4]-_a[0];_a[3]=_a[5]-_a[1];}};_pPanelSlot._adjustMaxPosition=function(_a,_b,_c,_d){if(_a){var _e=nexacro._isNull(_b[2])?_b[4]-_b[0]:_b[2];var _f=nexacro._isNull(_b[3])?_b[5]-_b[1]:_b[3];var _g=nexacro._isNull(_b[4])?_b[0]+_e:_c-_b[4];var _h=nexacro._isNull(_b[5])?_b[1]+_f:_d-_b[5];var _i=nexacro._isNull(_b[0])?_g-_e:_b[0];var _j=nexacro._isNull(_b[1])?_h-_f:_b[1];_a[0]=nexacro._nvl(Math.min(_a[0],_i),0);_a[1]=nexacro._nvl(Math.min(_a[1],_j),0);_a[4]=nexacro._nvl(Math.max(_a[4],_g),0);_a[5]=nexacro._nvl(Math.max(_a[5],_h),0);_a[2]=_a[4]-_a[0];_a[3]=_a[5]-_a[1];}};_pPanelSlot._adjustArrPosition=function(_a,_b,_c,_d){if(_a){if(_a[0]!==undefined&&_b[0]!==undefined){_a[0]+=_b[0];}if(_a[1]!==undefined&&_b[1]!==undefined){_a[1]+=_b[1];}if(_a[2]!==undefined&&_b[2]!==undefined){_a[2]+=_b[2];}if(_a[3]!==undefined&&_b[3]!==undefined){_a[3]+=_b[3];}if(_a[4]!==undefined&&_b[4]!==undefined){_a[4]+=_b[4];}if(_a[5]!==undefined&&_b[5]!==undefined){_a[5]+=_b[5];}}};_pPanelSlot._adjustPrePosition=function(_a,_b,_c,_d){if(_a){_a[1]+=_b[3];}};_pPanelSlot._isSetSlotCalcSize=function(){return this._slot_width&&this._slot_height;};_pPanelSlot._isSetSlotCalcRect=function(){return this._slot_left||this._slot_top||this._slot_right||this._slot_bottom;};_pPanelSlot._isSetSlotCalc=function(){return this._isSetSlotCalcSize()||this._isSetSlotCalcRect();};_pPanelSlot._setSlotCalcSize=function(_a,_b){this._slot_width=_a;this._slot_height=_b;};_pPanelSlot._setSlotCalcWidth=function(_a){this._slot_width=_a;};_pPanelSlot._setSlotCalcHeight=function(_a){this._slot_height=_a;};_pPanelSlot._getSlotCalcSize=function(){return [this._slot_width,this._slot_height];};_pPanelSlot._getSlotCalcWidth=function(){return this._slot_width;};_pPanelSlot._getSlotCalcHeight=function(){return this._slot_height;};_pPanelSlot._setSlotCalcRect=function(_a,_b,_c,_d){this._slot_left=_a;this._slot_top=_b;this._slot_right=_c;this._slot_bottom=_d;};_pPanelSlot._setSlotCalcLeft=function(_a){this._slot_left=_a;};_pPanelSlot._setSlotCalcTop=function(_a){this._slot_top=_a;};_pPanelSlot._setSlotCalcRight=function(_a){this._slot_right=_a;};_pPanelSlot._setSlotCalcBottom=function(_a){this._slot_bottom=_a;};_pPanelSlot._getSlotCalcRect=function(){return [this._slot_left,this._slot_top,this._slot_right,this._slot_bottom];};_pPanelSlot._getSlotCalcLeft=function(){return this._slot_left;};_pPanelSlot._getSlotCalcTop=function(){return this._slot_top;};_pPanelSlot._getSlotCalcRight=function(){return this._slot_right;};_pPanelSlot._getSlotCalcBottom=function(){return this._slot_bottom;};_pPanelSlot._setSlotCalc=function(_a,_b,_c,_d,_e,_f){this._slot_left=_a;this._slot_top=_b;this._slot_right=_e;this._slot_bottom=_f;this._slot_width=_c;this._slot_height=_d;};_pPanelSlot._getSlotCalc=function(){return [this._slot_left,this._slot_top,this._slot_width,this._slot_height,this._slot_right,this._slot_bottom];};_pPanelSlot._setSlotPosition=function(_a){var _b=false;if(_a){for(var _c=0,_d=_a.length;_c<_d;_c++ ){if(_a[_c][6]){_b=true;break;}}}else{this._setSlotCalcRect(0,0,0,0);this._setSlotCalcSize(0,0);}this._slot_usearr=_b;this._slot_posits=_a;};_pPanelSlot._getSlotPosition=function(){return this._slot_posits;};_pPanelSlot._arrSlotPosition=function(_a,_b){var _c=this._slot_posits;if(_c&&_c.length&&this._slot_usearr){this._slot_arrpos=Array(_c.length);for(var _h=0,_i=_c.length;_h<_i;_h++ ){var _d=_c[_h];var _e=Math.min(_d.length,6);var _f=Array(_e);for(var _j=0,_k=_e;_j<_k;_j++ ){var _g=_d[_j];if(_g!=0&& -1<_g&&_g<1){_f[_j]=Math.floor(_g* 100* (_j%2?_b:_a));}else{_f[_j]=_g;}}this._slot_arrpos[_h]=_f;}return this._slot_arrpos;}else{return this._slot_posits;}};_pPanelSlot._getSlotArrangePos=function(){return this._slot_arrpos?this._slot_arrpos:this._slot_posits;};_pPanelSlot._setSlotCachedPos=function(_a,_b){this._slot_cshpos=_a;this._slot_cshadj=_b;};_pPanelSlot._getSlotCachedPos=function(){return this._slot_cshpos;};_pPanelSlot._calcSlotPosition=function(_a,_b,_c,_d,_e,_f){var _g=this._arrSlotPosition(_e,_f);if(_g&&_g.length){var _h=_e;var _i=_f;var _j=_g.length;var _k,_l;var _m,_n;var _o=[0,0,0,0,0,0];var _p=[0,0,0,0,0,0];switch(this._slot_multi){case  -1:case 2:case 1:{if(_j>1){_m=0;_n=1;for(;_m<_n;_m++ ){_k=_g[_m].slice();this._adjustPrePosition(_k,_p,_h,_i);this._adjustMinPosition(_o,_k,_h,_i);this._adjustMaxPosition(_p,_k,_h,_i);}for(;_m<_j;_m++ ){_k=_g[_m].slice();this._adjustPrePosition(_k,_p,_h,_i);this._adjustMaxPosition(_p,_k,_h,_i);}}else{_k=_g[0];this._adjustMinPosition(_o,_k,_h,_i);this._adjustMaxPosition(_p,_k,_h,_i);}this._setSlotMinPosition(_o);this._setSlotMaxPosition(_p);_l=this._slot_multi!=1?this._getSlotMinPosition():this._getSlotMaxPosition();this._setSlotCalcRect(_l[0]+(_a?_a:0),_l[1]+(_b?_b:0),_l[4]+(_c?_c:0),_l[5]+(_d?_d:0));this._setSlotCalcSize(_l[2],_l[3]);break;}default:{if(_j){_m=0;for(;_m<_j;_m++ ){_k=_g[_m].slice();this._adjustPrePosition(_k,_p,_h,_i);this._adjustMinPosition(_o,_k,_h,_i);this._adjustMaxPosition(_p,_k,_h,_i);}}else{_k=_g[0];this._adjustMinPosition(_o,_k,_h,_i);this._adjustMaxPosition(_p,_k,_h,_i);}this._setSlotMinPosition(_o);this._setSlotMaxPosition(_p);_l=this._getSlotMaxPosition();this._setSlotCalcRect(_l[0]+(_a?_a:0),_l[1]+(_b?_b:0),_l[4]+(_c?_c:0),_l[5]+(_d?_d:0));this._setSlotCalcSize(_l[2],_l[3]);break;}}}};_pPanelSlot._adjustSlotPosition=function(_a,_b,_c,_d,_e,_f){var _g=this._getSlotArrangePos();if(_g&&_g.length){var _h=this._slot_static;var _i=this._slot_target;var _j=_a?_a:0;var _k=_b?_b:0;var _l=_e?_e:0;var _m=_f?_f:0;var _n=_c;var _o=_d;var _p,_q;var _r,_s;var _t,_u;var _v=[0,0,0,0,0,0];var _w=[0,0,0,0,0,0];var _x=[_j,_k,0,0,_l,_m];switch(this._slot_multi){case  -1:case 2:{if(this._isNonEmptyTarget(_i)){if(_i.length){_r=1;_s=0;for(_p=Math.min(_r,_i.length);_s<_p;_s++ ){_t=_g[_s%_g.length];_u=_i[_s];if(_u&&_u.move){_u.move(_t[0]+_j,_t[1]+_k,_t[2],_t[3],_t[4]+_l,_t[5]+_m);_u.set_visible(true);if(_s==0){this._setSlotCachedPos([_t[0]+_j,_t[1]+_k,_t[2],_t[3],_t[4]+_l,_t[5]+_m],true);}}}for(_p=_i.length;_s<_p;_s++ ){_u=_i[_s];if(_u&&_u.move){_u=_i[_s];_u.move.apply(_u,_v);_u.set_visible(false);}}}else{if(_i&&_i.move){_t=_g[0];_i.move(_t[0]+_j,_t[1]+_k,_t[2],_t[3],_t[4]+_l,_t[5]+_m);_i.set_visible(true);this._setSlotCachedPos([_t[0]+_j,_t[1]+_k,_t[2],_t[3],_t[4]+_l,_t[5]+_m],true);}}}else{this._setSlotCachedPos([_j,_k,_n,_o,_l,_m],true);}if(_h&&_h.move){_t=this._getSlotMaxPosition();_h.move(_t[0]+_j,_t[1]+_k,_t[2],_t[3],_t[4]+_l,_t[5]+_m);_h.set_visible(true);this._setSlotCachedPos([_t[0]+_j,_t[1]+_k,_t[2],_t[3],_t[4]+_l,_t[5]+_m],true);}break;}case 1:default:{if(this._isNonEmptyTarget(_i)){if(_i.length){for(_s=0,_p=_i.length,_q=_g.length;_s<_p;_s++ ){var _y=_i[_s];var _z=_g[_s%_q];var _aa=_z.slice();var _ab=_y._onGetItemIndentSize(_y);this._adjustArrPosition(_aa,_x,_n,_o);this._adjustArrPosition(_aa,_w,_n,_o);this._adjustArrPosition(_aa,_ab,_n,_o);if(_y&&_y.move){_y.move.apply(_y,_aa);_y.set_visible(true);}if(_s==0){this._setSlotCachedPos(_aa,true);}this._adjustPrePosition(_w,_z,_n,_o);}}else{if(_i&&_i.move){_t=_g[0];_i.move(_t[0]+_j,_t[1]+_k,_t[2],_t[3],_t[4]+_l,_t[5]+_m);_i.set_visible(true);this._setSlotCachedPos([_t[0]+_j,_t[1]+_k,_t[2],_t[3],_t[4]+_l,_t[5]+_m],true);}}}else{this._setSlotCachedPos([_j,_k,_n,_o,_l,_m],true);}if(_h&&_h.move){_t=this._getSlotMaxPosition();_h.move(_t[0]+_j,_t[1]+_k,_t[2],_t[3],_t[4]+_l,_t[5]+_m);this._setSlotCachedPos([_t[0]+_j,_t[1]+_k,_t[2],_t[3],_t[4]+_l,_t[5]+_m],true);}break;}}}};_pPanelSlot._setSlotSize=function(_a,_b,_c,_d,_e,_f){var _g=this._slot_static;var _h=this._slot_target;if(this._isNonEmptyStatic(_g)){this._setStaticSize(_g,_a,_b,_c,_d,_e,_f);}if(this._isNonEmptyTarget(_h)){if(_h.length){switch(this._slot_multi){case  -1:case 2:case 1:default:{for(var _j=0,_k=_h.length;_j<_k;_j++ ){var _i=this._slot_target[_j];if(_i){this._setTargetSize(_i,_a,_b,_c,_d,_e,_f);}}break;}}}else{this._setTargetSize(_h,_a,_b,_c,_d,_e,_f);}}else{this._setSlotCachedPos([_a,_b,_c,_d,_e,_f],false);}};_pPanelSlot._shiftSlotSize=function(_a,_b,_c,_d,_e,_f){var _g=this._slot_left+(_a?_a:0);var _h=this._slot_top+(_b?_b:0);var _i=null;var _j=null;if(this._slot_posits){this._adjustSlotPosition(_g,_h,_e,_f,_i,_j);}else{this._setSlotSize(_g,_h,this._slot_width,this._slot_height,_i,_j);}};_pPanelSlot._getSlotSize=function(_a){if(this._slot_static){return this._getStaticSize();}if(this._slot_target){return this._getTargetSize( -1,_a);}return [0,0,0,0,0,0];};_pPanelSlot._setSlotRowCol=function(_a){var _b=_a?_a.length:0;var _c=_b>0?_a[0]: -1;var _d=_b>1?_a[1]: -1;var _e=_b>2?_a[2]:1;var _f=_b>3?_a[3]:1;this._slot_rowidx=_c?_c: -1;this._slot_colidx=_d?_d: -1;this._slot_rowspan=_e?_e:1;this._slot_colspan=_f?_f:1;};_pPanelSlot._setSlotRowCols=function(_a){if(_a&&_a.length){this._slot_rowcols=_a;this._setSlotRowCol(_a[0]);}else{this._slot_rowcols=[];this._setSlotRowCol();}};_pPanelSlot._getSlotRowIndex=function(){return this._slot_rowidx;};_pPanelSlot._getSlotColIndex=function(){return this._slot_colidx;};_pPanelSlot._getSlotRowSpan=function(){return this._slot_rowspan;};_pPanelSlot._getSlotColSpan=function(){return this._slot_colspan;};_pPanelSlot._isIndexedRow=function(){return this._slot_rowidx>=0;};_pPanelSlot._isIndexedCol=function(){return this._slot_colidx>=0;};_pPanelSlot._isMergedRow=function(){return this._slot_rowspan>1;};_pPanelSlot._isMergedCol=function(){return this._slot_colspan>1;};_pPanelSlot._clearSlotPosSize=function(){if(this._slot_rowcols){this._slot_rowcols=[];}if(this._slot_posits){this._slot_posits=[];}if(this._slot_arrpos){this._slot_arrpos=[];}};_pPanelSlot._hasSlotPopup=function(){return this._subpopup?true:false;};_pPanelSlot._getSlotPopup=function(){return this._subpopup;};_pPanelSlot._setSlotPopup=function(_a){return this._subpopup=_a;};_pPanelSlot._clearSlotPopup=function(){this._subpopup=null;};_pPanelSlot._clear=function(){this._clearSlotTarget();this._clearSlotStatic();this._clearSlotPopup();};delete _pPanelSlot;}if(!nexacro._Panel){nexacro._PanelConst={LAYOUTSTYLE_DEFAULT:0,LAYOUTSTYLE_ROWCOL:0,LAYOUTSTYLE_POSITION:1,LAYOUTSTYLE_CUSTOM: -1,SIZEINFO_REFSTYLE_NOLINK:0,SIZEINFO_REFSTYLE_ROWLINK:1,SIZEINFO_REFSTYLE_COLLINK:2,SLOT_ARRANGETYPE_DEFAULT:0x0000,SLOT_ARRANGETYPE_COLFIRST:0x0000,SLOT_ARRANGETYPE_ROWFIRST:0x1000,SLOT_ARRANGETYPE_DIR_MASK:0xF000,SLOT_ARRANGETYPE_HORZLEAD:0x0000,SLOT_ARRANGETYPE_HORZTAIL:0x0001,SLOT_ARRANGETYPE_HORZAMID:0x0002,SLOT_ARRANGETYPE_HORZINVT:0x0004,SLOT_ARRANGETYPE_HORZARND:0x0010,SLOT_ARRANGETYPE_HORZGAPD:0x0020,SLOT_ARRANGETYPE_VERTLEAD:0x0000,SLOT_ARRANGETYPE_VERTTAIL:0x0100,SLOT_ARRANGETYPE_VERTAMID:0x0200,SLOT_ARRANGETYPE_VERTINVT:0x0400,SLOT_ARRANGETYPE_VERTARND:0x1000,SLOT_ARRANGETYPE_VERTGAPD:0x2000,SLOT_ARRANGETYPE_HORZ_MASK:0x00FF,SLOT_ARRANGETYPE_VERT_MASK:0xFF00,SLOT_ARRANGETYPE_HORZ_RLOC:0x0037,SLOT_ARRANGETYPE_VERT_RLOC:0x3700,SLOT_ARRANGETYPE_BASE_MASK:0xFFFF,SLOT_VISIBLETYPE_HIDESLOT:0,SLOT_VISIBLETYPE_SHOWSLOT:1,SLOT_OVERFLOWTYPE_NONE:0x0000,SLOT_OVERFLOWTYPE_SCROLL:0x0001,SLOT_OVERFLOWTYPE_PAGING:0x0002,SLOT_OVERFLOWTYPE_POPUP:0x0003,SLOT_OVERFLOWTYPE_OVER_MASK:0x000F,SLOT_OVERFLOWTYPE_WRAPSLOT:0x0010,SLOT_OVERFLOWTYPE_WRAP_MASK:0x0010,SLOT_OVERFLOWTYPE_FULLSLOT:0x0000,SLOT_OVERFLOWTYPE_PARTSLOT:0x0020,SLOT_OVERFLOWTYPE_PART_MASK:0x0020,SLOT_AUTOSIZETYPE_DEFAULT:0x0000,SLOT_AUTOSIZETYPE_HORZAUTO:0x0001,SLOT_AUTOSIZETYPE_VERTAUTO:0x0002,SLOT_AUTOSIZETYPE_AUTOMIN:0x0010,SLOT_AUTOSIZETYPE_AUTOMAX:0x0020,SLOT_AUTOSIZETYPE_AUTOSIZE_MASK:0x00FF,SLOT_AUTOSIZETYPE_HORZFIT:0x0100,SLOT_AUTOSIZETYPE_VERTFIT:0x0200,SLOT_AUTOSIZETYPE_AUTOFIT_MASK:0x0F00,SLOT_AUTOFILLTYPE_DEFAULT:0x0000,SLOT_AUTOFILLTYPE_HORZFILL:0x0001,SLOT_AUTOFILLTYPE_VERTFILL:0x0002,SLOT_AUTOFILLTYPE_AUTOFILL_MASK:0x000F,SLOT_SELECTORTYPE_NONE:nexacro._PanelSelectConst.TYPE_NONE,SLOT_SELECTORTYPE_LINE:nexacro._PanelSelectConst.TYPE_LINE,SLOT_SELECTORTYPE_AREA:nexacro._PanelSelectConst.TYPE_AREA,SLOT_SELECTORTYPE_MORPH_MASK:nexacro._PanelSelectConst.TYPE_MASK,SLOT_SELECTORTYPE_DISPLAY:nexacro._PanelSelectConst.ACT_DISPLAY,SLOT_SELECTORTYPE_RESIZER:nexacro._PanelSelectConst.ACT_RESIZER,SLOT_SELECTORTYPE_POINTER:nexacro._PanelSelectConst.ACT_POINTER,SLOT_SELECTORTYPE_CARRIER:nexacro._PanelSelectConst.ACT_CARRIER,SLOT_SELECTORTYPE_ACTION_MASK:nexacro._PanelSelectConst.ACT_MASK,SLOT_SIZEMOVETYPE_NONE:0x0000,SLOT_SIZEMOVETYPE_ROWSIZE:0x0001,SLOT_SIZEMOVETYPE_COLSIZE:0x0002,SLOT_SIZEMOVETYPE_SIZE_MASK:0x000F,SLOT_SIZEMOVETYPE_ROWMOVE:0x0010,SLOT_SIZEMOVETYPE_COLMOVE:0x0020,SLOT_SIZEMOVETYPE_MOVE_MASK:0x00F0,SLOT_SIZEMOVEEFFECT_DEFAULT:0x0000,SLOT_SIZEMOVEEFFECT_RESIZE:0x0001,SLOT_SIZEMOVEEFFECT_SIZE_MASK:0x000F,SLOT_SIZEMOVEEFFECT_PREMOVE:0x0010,SLOT_SIZEMOVEEFFECT_MOVE_MASK:0x00F0,GROUPING_SUBSTYLE_NONE:0x0000,GROUPING_SUBSTYLE_BAND_POPUP:0x0001,GROUPING_SUBSTYLE_BAND_EXPAND:0x0002,GROUPING_SUBSTYLE_BAND_COLLAPSE:0x0004,GROUPING_SUBSTYLE_BAND_ACCORDION:0x0008,GROUPING_SUBSTYLE_BAND_MASK:0x000F,GROUPING_SUBSTYLE_GROUP_POPUP:0x0010,GROUPING_SUBSTYLE_GROUP_EXPAND:0x0020,GROUPING_SUBSTYLE_GROUP_COLLAPSE:0x0040,GROUPING_SUBSTYLE_GROUP_ACCORDION:0x0080,GROUPING_SUBSTYLE_GROUP_MASK:0x00F0,GROUPING_SUBSTYLE_TITLE:0x0100,GROUPING_SUBSTYLE_TITLE_CONTROL:0x0200,GROUPING_SUBSTYLE_TITLE_MASK:0x0F00,GROUPING_SUBSTYLE_SPLIT:0x1000,GROUPING_SUBSTYLE_SPLIT_CONTROL:0x2000,GROUPING_SUBSTYLE_SPLIT_MASK:0xF000,GROUPING_SUBPLACE_NONE:0,GROUPING_SUBPLACE_CENTER:0,GROUPING_SUBPLACE_DOWN:1,GROUPING_SUBPLACE_UP:2,GROUPING_SUBPLACE_LEAD:4,GROUPING_SUBPLACE_TAIL:8,GROUPING_SUBPLACE_PREV:16,GROUPING_SUBPLACE_NEXT:32,GROUPING_SUBPLACE_INPLACE:64,GROUPING_SUBPLACE_FIT:128,GROUPING_SUBPLACE_USER: -1,PANEL_MAXHEIGHT_IE:1533000,PANEL_MAXHEIGHT_GECKO:17895000,PANEL_MAXHEIGHT_DEFAULT:33550000};nexacro._Panel=function(_a){this._panel_owner=_a;this._panel_slots=[];this._panel_layout=0;this._panel_colfirst=false;this._panel_slotbase=0;this._panel_eachsize=[];this._ref_panel=null;this._ref_style=0;this._panel_rowsizes=[];this._panel_colsizes=[];this._panel_rowcount=0;this._panel_colcount=0;this._panel_defrsize=0;this._panel_defcsize=0;this._panel_defritms=0;this._panel_defcitms=0;this._panel_fixrlead=0;this._panel_fixrtail=0;this._panel_fixclead=0;this._panel_fixctail=0;this._panel_fixslead=0;this._panel_fixstail=0;this._panel_fixsband=[1,0,1];this._panel_minleft=0;this._panel_mintop=0;this._panel_maxwidth=0;this._panel_maxheight=0;this._panel_overflow=0;this._panel_partslot=0;this._panel_overprev=0;this._panel_limitheight=Infinity;this._panel_limitoverheight=[];this._sub_panel=null;this._sub_place=0;this._panel_defstats=0;this._panel_subgroup=0;this._panel_subtitle=0;this._panel_subsplit=0;this._panel_titlesize=0;this._panel_splitsize=0;this._panel_titlecnt=0;this._panel_splitcnt=0;if(_a&&_a._getPanelStartIndex){this._panel_idxstart=_a._getPanelStartIndex();this._panel_lvlstart=_a._getPanelStartLevel();this._panel_lvlindent=_a._getPanelLevelIndent();}else{this._panel_idxstart=0;this._panel_lvlstart=0;this._panel_lvlindent=0;}this._panel_autosize=0;this._panel_autofill=0;this._panel_selectortype=0;this._panel_selector={};this._panel_sizetype=0;this._panel_movetype=0;this._target_count=[0,1,0];this._expaned_slot=[];};var _pPanel=nexacro._createPrototype(Object,nexacro._Panel);nexacro._Panel.prototype=_pPanel;_pPanel._type_name="_Panel";_pPanel._isColFirst=function(){return this._panel_colfirst;};_pPanel._isRowFirst=function(){return !this._panel_colfirst;};_pPanel._isShowSlot=function(){return this._panel_showslot;};_pPanel._isPartSlot=function(){return this._panel_partslot;};_pPanel._setLayoutType=function(_a){this._panel_layout=_a;};_pPanel._setSlotArrangeType=function(_a){this._panel_colfirst=(_a&nexacro._PanelConst.SLOT_ARRANGETYPE_DIR_MASK)==nexacro._PanelConst.SLOT_ARRANGETYPE_COLFIRST;this._panel_slotbase=(_a&nexacro._PanelConst.SLOT_ARRANGETYPE_BASE_MASK);};_pPanel._setSlotVisibleType=function(_a){this._panel_showslot=_a==nexacro._PanelConst.SLOT_VISIBLETYPE_SHOWSLOT;};_pPanel._setSlotOverFlowType=function(_a){this._panel_overflow=(_a&nexacro._PanelConst.SLOT_OVERFLOWTYPE_OVER_MASK);this._panel_partslot=(_a&nexacro._PanelConst.SLOT_OVERFLOWTYPE_PART_MASK);};_pPanel._setSlotAutoSizeType=function(_a){this._panel_autosize=(_a&nexacro._PanelConst.SLOT_AUTOSIZETYPE_AUTOSIZE_MASK);this._panel_autosize|=(_a&nexacro._PanelConst.SLOT_AUTOSIZETYPE_AUTOFIT_MASK);};_pPanel._setSlotAutoFillType=function(_a){};_pPanel._setSlotSelectorType=function(_a){this._panel_selectortype=_a;};_pPanel._getSlotSelectorType=function(_a){return _a?this._panel_selectortype&_a:this._panel_selectortype;};_pPanel._setSlotSizeMoveType=function(_a,_b){this._panel_sizetype=(_a&nexacro._PanelConst.SLOT_SIZEMOVETYPE_SIZE_MASK);this._panel_movetype=(_a&nexacro._PanelConst.SLOT_SIZEMOVETYPE_MOVE_MASK);};_pPanel._setSlotDefaultStatus=function(_a){this._panel_substats=_a;};_pPanel._setPanelFixedRowCount=function(_a,_b){this._panel_fixrlead=_a;this._panel_fixrtail=_b;};_pPanel._setPanelFixedColCount=function(_a,_b){this._panel_fixclead=_a;this._panel_fixctail=_b;};_pPanel._setPanelFixedSlotCount=function(_a,_b){this._setPanelFixedSlotCountLead(_a);this._setPanelFixedSlotCountTail(_b);};_pPanel._setPanelFixedSlotCountLead=function(_a){return this._panel_fixslead=Math.min(_a,_a* this._panel_fixsband[0],this._panel_fixsband[1]?_a:this._panel_fixsband[0]);};_pPanel._setPanelFixedSlotCountTail=function(_a){return this._panel_fixstail=Math.min(_a,_a* this._panel_fixsband[2],this._panel_fixsband[1]?_a:this._panel_fixsband[2]);};_pPanel._getPanelFixedSlotCountLead=function(){return this._panel_fixslead;};_pPanel._getPanelFixedSlotCountTail=function(){return this._panel_fixstail;};_pPanel._setSlotBandFixType=function(_a,_b,_c){this._panel_fixsband=_b?_a||_c?[_a,_b,_c]:[true,_b,true]:[_a,_b,_c];};_pPanel._getSlotBandFixType=function(_a){if(_a>=0){return this._panel_fixsband[1]==true;}if(_a== -2){return this._panel_fixsband[2]==true;}if(_a== -1){return this._panel_fixsband[0]==true;}};_pPanel._setSlotTargetCount=function(_a,_b,_c){this._target_count=[_a,_b,_c];};_pPanel._getSlotTargetCount=function(_a){if(_a>=0){return this._target_count[1];}if(_a== -2){return this._target_count[2];}if(_a== -1){return this._target_count[0];}};_pPanel._getPanelOwner=function(){return this._panel_owner;};_pPanel._clearPanelOwner=function(){this._panel_owner=null;};_pPanel._getPanelSlots=function(){return this._panel_slots;};_pPanel._getPanelSlotIndex=function(_a){if(_a===undefined||_a===null){return  -1;}if(_a>=0&&this._target_count[1]){return _a+(this._target_count[0]?1:0);}if(_a== -1&&this._target_count[0]){return 0;}if(_a== -2&&this._target_count[2]){return this._panel_slots.length-1;}};_pPanel._getPanelSlot=function(_a,_b){var _c=this._getPanelSlotIndex(_a);if(_c<0){return null;}if(_b){if(_c>=this._panel_slots.length){this._panel_slots.length=_c+1;}var _d=this._panel_slots[_c];if(_d){return _d;}else{return this._panel_slots[_c]=new nexacro._PanelSlot(null,null);}}else{if(_c>=0&&_c<this._panel_slots.length){return this._panel_slots[_c];}else{return null;}}};_pPanel._setPanelSlot=function(_a,_b){var _c=this._getPanelSlotIndex(_a);if(_c<0){return null;}if(_c>=this._panel_slots.length){this._panel_slots.length=_c+1;}var _d=this._panel_slots[_c];if(_d!=_b){delete _d;}this._panel_slots[_c]=_b;};_pPanel._addPanelSlot=function(_a){this._panel_slots.push(_a);};_pPanel._clearPanelSlot=function(_a){for(var _b=this._panel_slots.length-1;_b>=0;_b-- ){if(this._panel_slots[_b]){this._panel_slots[_b]._clear();delete this._panel_slots[_b];}}if(_a){this._panel_slots.length=_a;}else{this._panel_slots=[];}};_pPanel._initPanelEachSize=function(_a){this._panel_eachsize.length=_a?_a:0;};_pPanel._addPanelEachSize=function(_a,_b,_c,_d){var _e=this._panel_eachsize;var _f=_e.length;_e.length+=4;_e[_f++ ]=_a;_e[_f++ ]=_b;_e[_f++ ]=_c>0?_c:0;_e[_f++ ]=_d>0?_d:0;return _f/4-1;};_pPanel._setPanelEachSize=function(_a,_b,_c,_d,_e){var _f=this._panel_eachsize;var _g=_a* 4;if(_g<(_f.length-4)){_f[_g++ ]=_b;_f[_g++ ]=_c;_f[_g++ ]=_d;_f[_g]=_e;}};_pPanel._getPanelEachSize=function(_a){var _b=_a* 4;return [this._panel_eachsize[_b],this._panel_eachsize[_b+1],this._panel_eachsize[_b+2],this._panel_eachsize[_b+3]];};_pPanel._getPanelEachCount=function(){return this._panel_eachsize.length/4;};_pPanel._getPanelEachSizeSlots=function(_a){return _a>=0?this._panel_eachsize[_a* 4]:undefined;};_pPanel._getPanelEachSizeCount=function(_a){return _a>=0?this._panel_eachsize[_a* 4+1]:undefined;};_pPanel._getPanelEachSizeWidth=function(_a){return _a>=0?this._panel_eachsize[_a* 4+2]:undefined;};_pPanel._getPanelEachSizeHeight=function(_a){return _a>=0?this._panel_eachsize[_a* 4+3]:undefined;};_pPanel._setPanelEachSizeSlots=function(_a,_b){return _a>=0?this._panel_eachsize[_a* 4]=_b:undefined;};_pPanel._setPanelEachSizeCount=function(_a,_b){return _a>=0?this._panel_eachsize[_a* 4+1]=_b:undefined;};_pPanel._setPanelEachSizeWidth=function(_a,_b){return _a>=0?this._panel_eachsize[_a* 4+2]=_b:undefined;};_pPanel._setPanelEachSizeHeight=function(_a,_b){return _a>=0?this._panel_eachsize[_a* 4+3]=_b:undefined;};_pPanel._accPanelEachSizeSlots=function(_a,_b){return (_a>=0&&this._panel_eachsize[_a* 4]!==undefined)?this._panel_eachsize[_a* 4]+=_b:undefined;};_pPanel._accPanelEachSizeCount=function(_a,_b){return (_a>=0&&this._panel_eachsize[_a* 4+1]!==undefined)?this._panel_eachsize[_a* 4+1]+=_b:undefined;};_pPanel._accPanelEachSizeWidth=function(_a,_b){return (_a>=0&&this._panel_eachsize[_a* 4+2]!==undefined)?this._panel_eachsize[_a* 4+2]+=_b:undefined;};_pPanel._accPanelEachSizeHeight=function(_a,_b){return (_a>=0&&this._panel_eachsize[_a* 4+3]!==undefined)?this._panel_eachsize[_a* 4+3]+=_b:undefined;};_pPanel._clearPanelEachSize=function(){this._panel_eachsize=[];};_pPanel._relocPanelSlotSize=function(_a,_b,_c,_d,_e,_f,_g,_h){var _i;var _j=this._panel_slots;var _k=_j.length;var _l=this._getPanelEachCount();if(_k<=0||_l<=0){return;}var _m,_n,_o;var _p=0,_q=0,_r=0,_s=0;var _t=0,_u=0,_v=0,_w=0;var _x;var _y;var _z,_aa;var _ab,_ac;if(this._isColFirst()){if(_f>0){switch(_b){case 0x0200:{_t=_f/2;_u=0;_w=_t;break;}case 0x0400:{_t=_f;_u=0;_w=_t;break;}case 0x1000:{_t=_f/(_l+1);_u=_t;_w=_f;break;}case 0x2000:{_t=0;_u=_l>2?_f/(_l-1):0;_w=_f;break;}}if(_d){_t= -_t;_u= -_u;_w=0;}}if(_e>0){if(!_c){_s=_e;}}for(_m=0,_o=0,_v=_t;_m<_l;_m++ ,_v+=_u){_x=this._getPanelEachSizeSlots(_m)||0;_y=this._getPanelEachSizeCount(_m)||0;_z=this._getPanelEachSizeWidth(_m)||0;_ab=_g-_z;if(_ab>0&&_y>0){switch(_a){case 0x0002:{_p=_ab/2;_q=0;break;}case 0x0004:{_p=_ab;_q=0;break;}case 0x0010:{_z+=(_z/_y)* (_x-_y);_ab=_g-_z;_y=_x;}case 0x0012:{_p=_ab/(_y+1);_q=_p;break;}case 0x0020:{_z+=(_z/_y)* (_x-_y);_ab=_g-_z;_p=0;_q=_y>1?_ab/(_x-1):0;break;}case 0x0022:{_p=0;_q=_y>2?_ab/(_y-1):0;_y-- ;break;}}if(_c){_p= -_p;_q= -_q;_s=0;}}else{_p=0;_q=0;}if(_b==0x2000&&_m==_l-1){_i=_j[_o];if(_i&&_i._isVisible()){_v=_d? -_i._getSlotCalcTop():_h-_i._getSlotCalcTop()-_i._getSlotCalcHeight();}}for(_n=0,_r=_p;_n<_y&&_o<_k;_o++ ,_n++ ){_i=_j[_o];if(_i&&_i._isVisible()){_i._shiftSlotSize(_r,_v,null,null,_g,_h);_r+=_q;}}}}else{if(_e>0){switch(_a){case 0x0002:{_p=_e/2;_q=0;_s=_p;break;}case 0x0004:{_p=_e;_q=0;_s=_p;break;}case 0x0008:{_p=_e/(_l+1);_q=_p;_s=_e;break;}case 0x000A:{_p=0;_q=_l>2?_e/(_l-1):0;_s=_e;break;}}if(_c){_p= -_p;_q= -_q;_s=0;}}if(_f>0){if(!_d){_w=_f;}}for(_m=0,_o=0,_r=_p;_m<_l;_m++ ,_r+=_q){_x=this._getPanelEachSizeSlots(_m);_y=this._getPanelEachSizeCount(_m);_aa=this._getPanelEachSizeHeight(_m);_ac=_h-_aa;if(_ac>0&&_y>0){switch(_b){case 0x0200:{_t=_ac/2;_u=0;break;}case 0x0400:{_t=_ac;_u=0;break;}case 0x1000:{_aa+=(_aa/_y)* (_x-_y);_ac=_h-_aa;_y=_x;}case 0x1200:{_t=_ac/(_y+1);_u=_t;break;}case 0x2000:{_aa+=(_aa/_y)* (_x-_y);_ac=_h-_aa;_y=_x;}case 0x2200:{_t=0;_u=_y>2?_ac/(_y-1):0;_y-- ;break;}}if(_d){_t= -_t;_u= -_u;_w=0;}}else{_t=0;_u=0;}if(_a==0x0020&&_m==_l-1){_i=_j[_o];if(_i&&_i._isVisible()){_r=_c? -_i._getSlotCalcLeft():_g-_i._getSlotCalcLeft()-_i._getSlotCalcWidth();}}for(_n=0,_v=_t;_n<_y&&_o<_k;_o++ ,_n++ ){_i=_j[_o];if(_i&&_i._isVisible()){_i._shiftSlotSize(_r,_v,null,null,_g,_h);_v+=_u;}}if(_b==0x2000&&_o<_k){_i=_j[_o++ ];if(_i&&_i._isVisible()){var _ad=(_y)?(_d? -_i._getSlotCalcTop():_h-_i._getSlotCalcTop()-_i._getSlotCalcHeight()):_t;_i._shiftSlotSize(_r,_ad,null,null,_g,_h);}}}}if(_s||_w){this._shiftPanelMaxSize(_s,_w);}};_pPanel._recalcPanelSlotPosition=function(_a,_b,_c,_d){if(_a<=0||_b<=0){return;}var _e=(this._panel_slotbase&nexacro._PanelConst.SLOT_ARRANGETYPE_HORZTAIL)?_a:0;var _f=(this._panel_slotbase&nexacro._PanelConst.SLOT_ARRANGETYPE_VERTTAIL)?_b:0;var _g=(this._panel_slotbase&nexacro._PanelConst.SLOT_ARRANGETYPE_HORZ_RLOC);var _h=(this._panel_slotbase&nexacro._PanelConst.SLOT_ARRANGETYPE_VERT_RLOC);var _i;var _j;var _k;if(_c){this._initPanelMinPos(_a,_b);this._initPanelMaxSize();this._initPanelLimitSize();this._initPanelEachSize();var _l=this._getPanelPrevOverWidth();var _m=this._getPanelNextOverWidth();var _n=this._getPanelPrevOverHeight();var _o=this._getPanelNextOverHeight();var _p=this._getPanelLimitHeight();var _q=0;var _r=_e?_a:0;var _s=_f?_b:0;var _t=0,_u=0;var _v=0,_w=0;var _x=true;var _y=0;var _z=_g||_h;var _aa=!_z;var _ab=0;var _ac=0;var _ad=0;var _ae;var _af;if(this._isColFirst()){this._setPanelMaxSize(_l,_n);for(_i=0,_j=this._panel_slots.length;_i<_j;_i++ ){_k=this._panel_slots[_i];if(_k&&_k._isVisible()){_k._calcSlotPosition(_r,_s,null,null,_a,_b);{if(_e){_t=_k._getSlotCalcWidth()||0;_r-=_t;if(_r<0){_x=true;}}else{_r+=_t;_t=_k._getSlotCalcWidth()||0;if((_r+_t)>_a){_x=true;}}if(_z){_ab++ ;}}if(_x){if(_f){_v=_k._getSlotCalcHeight()||0;_s-=_w;}else{_s+=_w;_v=_k._getSlotCalcHeight()||0;}if(_z&&_i){this._accPanelEachSizeHeight(_ad,_y);_ad=this._addPanelEachSize((_ab-1),(_ab-1),(_e?_a-(_r+_t):_r),_v);_ab=1;_ac++ ;}_q+=_v;_r=_e?(_e-_t):_e;_x=false;_w=_v;_y=0;}else{_v=_k._getSlotCalcHeight()||0;_w=Math.max(_v,_w);_y=Math.max(_y,_w-_v);}if(_aa){_k._adjustSlotPosition(_r,_s,_a,_b,null,null);}else{_k._setSlotCalc(_r,_s,_t,_v,null,null);}this._setPanelMinPos(_r,_s);this._setPanelMaxSize(_r+_t,_s+_v);if(_q+_v>_p){this._addPanelLimitOverHeight(_q);_q=0;}}}this._setPanelMaxSize(_m,_o+this._getPanelMaxHeight());this._addPanelLimitOverHeight(_q);if(_z){if(_ab){this._addPanelEachSize(_t?Math.floor(_a/_t):1,_ab,_e?(_a-_r):(_r+_t),_v);}_af=_h?(_f?(_s<0?0:_s):(_s>(_b-_v)?0:_b-(_s+_v))):0;_ae=_g?(_e?(this._getPanelMinLeft()):(_a-this._getPanelMaxWidth())):0;this._relocPanelSlotSize(_g,_h,!!_e,!!_f,_ae,_af,_a,_b);}}else{this._setPanelMaxSize(_l,_n);for(_i=0,_j=this._panel_slots.length;_i<_j;_i++ ){_k=this._panel_slots[_i];if(_k&&_k._isVisible()){_k._calcSlotPosition(_r,_s,null,null,_a,_b);{if(_f){_v=_k._getSlotCalcHeight()||0;_s-=_v;if(_s<0){_x=true;}}else{_s+=_v;_v=_k._getSlotCalcHeight()||0;if((_s+_v)>_b){_x=true;}}if(_z){_ac++ ;}}if(_x){if(_e){_t=_k._getSlotCalcWidth()||0;_r-=_u;}else{_r+=_u;_t=_k._getSlotCalcWidth()||0;}if(_z&&_i){this._accPanelEachSizeWidth(_ad,_y);_ad=this._addPanelEachSize((_ac-1),(_ac-1),_t,_f?(_b-(_s+_v)):_s);_ac=1;_ab++ ;}_s=_f?(_f-_v):_f;_x=false;_u=_t;_y=0;}else{_t=_k._getSlotCalcWidth()||0;_u=Math.max(_t,_u);_y=Math.max(_y,_u-_t);}if(_aa){_k._adjustSlotPosition(_r,_s,_a,_b,null,null);}else{_k._setSlotCalc(_r,_s,_t,_v,null,null);}this._setPanelMinPos(_r,_s);this._setPanelMaxSize(_r+_t,_s+_v);}}this._setPanelMaxSize(_m+this._getPanelMaxWidth(),_o);if(_z){if(_ac){this._addPanelEachSize(_v?Math.floor(_b/_v):1,_ac,_t,_f?(_b-_s):(_s+_v));}_ae=_g?(_e?(_r<0?0:_r):(_r>(_a-_t)?0:_a-(_r+_t))):0;_af=_h?(_f?(this._getPanelMinTop()):(_b-this._getPanelMaxHeight())):0;this._relocPanelSlotSize(_g,_h,!!_e,!!_f,_ae,_af,_a,_b);}}}else{for(_i=0,_j=this._panel_slots.length;_i<_j;_i++ ){_k=this._panel_slots[_i];if(_k&&_k._isVisible()){_k._adjustSlotPosition(0,0,_a,_b,null,null);this._setPanelMinPos(0,0);this._setPanelMaxSize(_k._getSlotCalcWidth(),_k._getSlotCalcHeight());}}}};_pPanel._recalcPanelSlotRowCol=function(_a,_b,_c){if(_a<=0||_b<=0||!this._panel_slots.length){return;}var _d=this._getRowSizeInfoPanel();var _e=this._getColSizeInfoPanel();var _f=_d._getPanelRowSizeCount();var _g=_e._getPanelColSizeCount();if(_f<=0){_f=1;_d._resetPanelRowSize(_f);_d._setPanelDefaultRowSize(_b);}if(_g<=0){_g=1;_e._resetPanelColSize(_g);_e._setPanelDefaultColSize(_a);}var _h=(this._panel_slotbase&nexacro._PanelConst.SLOT_ARRANGETYPE_HORZTAIL)?_a:0;var _i=(this._panel_slotbase&nexacro._PanelConst.SLOT_ARRANGETYPE_VERTTAIL)?_b:0;var _j=(this._panel_slotbase&nexacro._PanelConst.SLOT_ARRANGETYPE_HORZ_RLOC);var _k=(this._panel_slotbase&nexacro._PanelConst.SLOT_ARRANGETYPE_VERT_RLOC);var _l=(this._panel_autosize&nexacro._PanelConst.SLOT_AUTOSIZETYPE_HORZFIT);var _m=(this._panel_autosize&nexacro._PanelConst.SLOT_AUTOSIZETYPE_VERTFIT);if(_l){this._setOwnerLayoutAutoFitFlag(_e._setPanelColSizeWidthFit(_a));}if(_m){this._setOwnerLayoutAutoFitFlag(_d._setPanelRowSizeHeightFit(_b));}this._initPanelMinPos(_a,_b);this._initPanelMaxSize();this._initPanelEachSize();var _n,_o;var _p;var _q=_c?this._getPanelPrevOverWidth():0;var _r=_c?this._getPanelNextOverWidth():0;var _s=_c?this._getPanelPrevOverHeight():0;var _t=_c?this._getPanelNextOverHeight():0;var _u=_h?_a:0;var _v=_i?_b:0;var _w=0;var _x=0;var _y= -1;var _z= -1;var _aa=true;var _ab=_j||_k;var _ac=!_ab;var _ad=0,_ae=0;var _af;var _ag;if(this._isColFirst()){this._setPanelMaxSize(_q,_s);for(_n=0,_o=this._panel_slots.length;_n<_o;_n++ ){_p=this._panel_slots[_n];if(_p&&_p._isVisible()){{_y=_p._isIndexedCol()?_p._getSlotColIndex():_n;if(_h){_w=_e._getPanelColSize(_y,_p._getSlotColSpan(),_p._getSlotGroup());_u-=_w;if(_u<0){_aa=true;}}else{_u+=_w;_w=_e._getPanelColSize(_y,_p._getSlotColSpan(),_p._getSlotGroup());if((_u+_w)>_a){_aa=true;}}if(_ab){_ad++ ;}}if(_aa){if(_p._isIndexedRow()){_z=_p._getSlotRowIndex();}else{ ++_z;}if(_i){_x=_d._getPanelRowSize(_z,_p._getSlotRowSpan());_v-=_x;}else{_v+=_x;_x=_d._getPanelRowSize(_z,_p._getSlotRowSpan());}if(_ab&&_n){this._addPanelEachSize((_ad-1),(_ad-1),(_h?_a-(_u+_w):_u),_x);_ad=1;_ae++ ;}_u=_h?(_h-_w):_h;_aa=false;}if(_ac){_p._setSlotSize(_u,_v,_w,_x,null,null);}else{_p._setSlotCalc(_u,_v,_w,_x,null,null);}this._setPanelMinPos(_u,_v);this._setPanelMaxSize(_u+_w,_v+_x);}}this._setPanelMaxSize(_r,_t+this._getPanelMaxHeight());if(_ab){if(_ad){this._addPanelEachSize(_w?Math.floor(_a/_w):1,_ad,_h?(_a-_u):(_u+_w),_x);}_af=_k?(_i?(_v<0?0:_v):(_v>(_b-_x)?0:_b-(_v+_x))):0;_ag=_j?(_h?(this._getPanelMinLeft()):(_a-this._getPanelMaxWidth())):0;this._relocPanelSlotSize(_j,_k,!!_h,!!_i,_ag,_af,_a,_b);}}else{this._setPanelMaxSize(_q,_s);for(_n=0,_o=this._panel_slots.length;_n<_o;_n++ ){_p=this._panel_slots[_n];if(_p&&_p._isVisible()){{_z=_p._isIndexedRow()?_p._getSlotRowIndex():_n;if(_i){_x=_d._getPanelRowSize(_z,_p._getSlotRowSpan(),_p._getSlotGroup());_v-=_x;if(_v<0){_aa=true;}}else{_v+=_x;_x=_d._getPanelRowSize(_z,_p._getSlotRowSpan(),_p._getSlotGroup());if((_v+_x)>_b){_aa=true;}}if(_ab){_ae++ ;}}if(_aa){if(_p._isIndexedCol()){_y=_p._getSlotColIndex();}else{ ++_y;}if(_h){_w=_e._getPanelColSize(_y,_p._getSlotColSpan());_u-=_w;}else{_u+=_w;_w=_e._getPanelColSize(_y,_p._getSlotColSpan());}if(_ab&&_n){this._addPanelEachSize((_ae-1),(_ae-1),_w,_i?(_b-(_v+_x)):_v);_ae=1;_ad++ ;}_v=_i?(_i-_x):_i;_aa=false;}if(_ac){_p._setSlotSize(_u,_v,_w,_x,null,null);}else{_p._setSlotCalc(_u,_v,_w,_x,null,null);}this._setPanelMinPos(_u,_v);this._setPanelMaxSize(_u+_w,_v+_x);}}this._setPanelMaxSize(_r+this._getPanelMaxWidth(),_t);if(_ab){if(_ae){this._addPanelEachSize(_x?Math.floor(_b/_x):1,_ae,_w,_i?(_b-_v):(_v+_x));}_ag=_j?(_h?(_u<0?0:_u):(_u>(_a-_w)?0:_a-(_u+_w))):0;_af=_k?(_i?(this._getPanelMinTop()):(_b-this._getPanelMaxHeight())):0;this._relocPanelSlotSize(_j,_k,!!_h,!!_i,_ag,_af,_a,_b);}}};_pPanel._getPanelRowSizeCount=function(){return this._panel_rowcount<0?this._panel_rowcount* ( -1):this._panel_rowcount;};_pPanel._getPanelColSizeCount=function(){return this._panel_colcount<0?this._panel_colcount* ( -1):this._panel_colcount;};_pPanel._resetPanelRowSize=function(_a,_b,_c,_d,_e){this._panel_rowsizes=[];this._panel_rowcount=_a;var _f=_a<0?_a* ( -1):_a;this._panel_fixrlead=nexacro._isNull(_d)?0:_d;this._panel_fixrtail=nexacro._isNull(_e)?0:_e;this._panel_defrsize=nexacro._isNull(_c)?0:_c;this._panel_defritms=nexacro._isNull(_b)?_f:0;for(var _g=0;_g<_f;_g++ ){this._panel_rowsizes.push(_b);}};_pPanel._resetPanelColSize=function(_a,_b,_c,_d,_e){this._panel_colsizes=[];this._panel_colcount=_a;var _f=_a<0?_a* ( -1):_a;this._panel_fixclead=nexacro._isNull(_d)?0:_d;this._panel_fixctail=nexacro._isNull(_e)?0:_e;this._panel_defcsize=nexacro._isNull(_c)?0:_c;this._panel_defcitms=nexacro._isNull(_b)?_f:0;for(var _g=0;_g<_f;_g++ ){this._panel_colsizes.push(_b);}};_pPanel._resetPanelRowSizeArray=function(_a,_b,_c,_d,_e){if(_b){this._panel_rowsizes=[];this._panel_rowcount=_a;var _f=_a<0?_a* ( -1):_a;var _g=_b.length;this._panel_fixrlead=nexacro._isNull(_d)?0:_d;this._panel_fixrtail=nexacro._isNull(_e)?0:_e;this._panel_defrsize=nexacro._isNull(_c)?0:_c;this._panel_defritms=0;for(var _i=0;_i<_f;_i++ ){var _h=_b[_i%_g];if(nexacro._isNull(_h)){this._panel_defritms++ ;}this._panel_rowsizes.push(_h);}}};_pPanel._resetPanelColSizeArray=function(_a,_b,_c,_d,_e){if(_b){this._panel_colsizes=[];this._panel_colcount=_a;var _f=_a<0?_a* ( -1):_a;var _g=_b.length;this._panel_fixclead=nexacro._isNull(_d)?0:_d;this._panel_fixctail=nexacro._isNull(_e)?0:_e;this._panel_defcsize=nexacro._isNull(_c)?0:_c;this._panel_defcitms=0;for(var _i=0;_i<_f;_i++ ){var _h=_b[_i%_g];if(nexacro._isNull(_h)){this._panel_defcitms++ ;}this._panel_colsizes.push(_h);}}};_pPanel._addPanelRowSize=function(_a){if(nexacro._isNull(_a)){this._panel_defritms++ ;}this._panel_rowsizes.push(_a);if(this._panel_rowcount<0){this._panel_rowcount-- ;}else{this._panel_rowcount++ ;}};_pPanel._addPanelColSize=function(_a){if(nexacro._isNull(_a)){this._panel_defcitms++ ;}this._panel_colsizes.push(_a);if(this._panel_colcount<0){this._panel_colcount-- ;}else{this._panel_colcount++ ;}};_pPanel._setPanelRowSize=function(_a,_b){if(nexacro._isNull(_b)){this._panel_defritms++ ;}if(_a>=0&&_a<this._panel_rowsizes.length){this._panel_rowsizes[_a]=_b;}};_pPanel._setPanelColSize=function(_a,_b){if(nexacro._isNull(_b)){this._panel_defcitms++ ;}if(_a>=0&&_a<this._panel_colsizes.length){this._panel_colsizes[_a]=_b;}};_pPanel._getPanelRowSize=function(_a,_b,_c){var _d=this._panel_rowsizes.length;var _e=0;var _f;var _g=0;var _h=_a;if(_c){if(_c>0&&this._panel_subtitle){return this._panel_titlesize;}if(_c<0&&this._panel_subsplit){return this._panel_splitsize;}}if(_h<this._panel_fixrlead){_d=this._panel_fixrlead;}else{_d-=this._panel_fixrlead;_g=this._panel_fixrlead;_h-=_g;}if(_d==0){return 0;}if(_d<0){_d=this._panel_rowsizes.length-this._panel_fixrtail;}if(_d==1){_f=this._panel_rowsizes[_g];return nexacro._isNull(_f)?this._panel_defrsize* _b:_f* _b;}for(var _i=_h,_j=_h+_b;_i<_j;_i++ ){_f=this._panel_rowsizes[(_i%_d)+_g];_e+=nexacro._isNull(_f)?this._panel_defrsize:_f;}return _e;};_pPanel._getPanelColSize=function(_a,_b,_c){var _d=this._panel_colsizes.length;var _e=0;var _f;var _g=0;var _h=_a;if(_c){if(_c>0&&this._panel_subtitle){return this._panel_titlesize;}if(_c<0&&this._panel_subsplit){return this._panel_splitsize;}}if(_h<this._panel_fixclead){_d=this._panel_fixclead;}else{_d-=this._panel_fixclead;_g=this._panel_fixclead;_h-=_g;}if(_d<=0){return 0;}if(_d==1){_f=this._panel_colsizes[_g];return nexacro._isNull(_f)?this._panel_defcsize* _b:_f* _b;}for(var _i=_h,_j=_h+_b;_i<_j;_i++ ){_f=this._panel_colsizes[(_i%_d)+_g];_e+=nexacro._isNull(_f)?this._panel_defcsize:_f;}return _e;};_pPanel._getPanelAllRowSize=function(_a){var _b=this._panel_rowsizes.length;var _c=this._panel_rowcount;var _d=0;var _e;_c=_c<0?_c* ( -1):_c;if(_b<=0){return 0;}if(_b==1){_e=this._panel_rowsizes[0];return nexacro._isNull(_e)?_a* _c:_e* _c;}for(var _f=0,_g=_c;_f<_g;_f++ ){_e=this._panel_rowsizes[_f%_b];_d+=nexacro._isNull(_e)?_a:_e;}return _d;};_pPanel._getPanelAllColSize=function(_a){var _b=this._panel_colsizes.length;var _c=this._panel_colcount;var _d=0;var _e;_c=_c<0?_c* ( -1):_c;if(_b<=0){return 0;}if(_b==1){_e=this._panel_colsizes[0];return nexacro._isNull(_e)?_a* _c:_e* _c;}for(var _f=0,_g=_c;_f<_g;_f++ ){_e=this._panel_colsizes[_f%_b];_d+=nexacro._isNull(_e)?_a:_e;}return _d;};_pPanel._setPanelDefaultRowSize=function(_a){this._panel_defrsize=nexacro._isNull(_a)?0:_a;};_pPanel._setPanelDefaultColSize=function(_a){this._panel_defcsize=nexacro._isNull(_a)?0:_a;};_pPanel._getPanelDefaultRowSize=function(){return this._panel_defrsize;};_pPanel._getPanelDefaultColSize=function(){return this._panel_defcsize;};_pPanel._getPanelDefaultRowCount=function(){return this._panel_defritms;};_pPanel._getPanelDefaultColCount=function(){return this._panel_defcitms;};_pPanel._setPanelRowSizeHeightFit=function(_a){var _b=_a-this._getPanelAllRowSize(0);var _c=this._getPanelDefaultRowCount();if(_b>0&&_c>0){this._setPanelDefaultRowSize(_b/_c);return true;}else{return false;}};_pPanel._setPanelColSizeWidthFit=function(_a){var _b=_a-this._getPanelAllColSize(0);var _c=this._getPanelDefaultColCount();if(_b>0&&_c>0){this._setPanelDefaultColSize(_b/_c);return true;}else{return false;}};_pPanel._getPanelMinLeft=function(){return this._panel_minleft;};_pPanel._getPanelMinTop=function(){return this._panel_mintop;};_pPanel._setPanelMinLeft=function(_a){this._panel_minleft=Math.max(_a,this._panel_minleft);};_pPanel._setPanelMinTop=function(_a){this._panel_mintop=Math.max(_a,this._panel_mintop);};_pPanel._setPanelMinPos=function(_a,_b){this._panel_minleft=Math.min(_a,this._panel_minleft);this._panel_mintop=Math.min(_b,this._panel_mintop);};_pPanel._shiftPanelMinPos=function(_a,_b){this._panel_minleft+=_a;this._panel_mintop+=_b;};_pPanel._initPanelMinPos=function(_a,_b){this._panel_minleft=_a?_a:Number.MAX_VALUE;this._panel_mintop=_b?_b:Number.MAX_VALUE;};_pPanel._getPanelMaxWidth=function(){return this._panel_maxwidth;};_pPanel._getPanelMaxHeight=function(){return this._panel_maxheight;};_pPanel._setPanelMaxWidth=function(_a){this._panel_maxwidth=Math.max(_a,this._panel_maxwidth);};_pPanel._setPanelMaxHeight=function(_a){this._panel_maxheight=Math.max(_a,this._panel_maxheight);};_pPanel._setPanelMaxSize=function(_a,_b){this._panel_maxwidth=Math.max(_a,this._panel_maxwidth);this._panel_maxheight=Math.max(_b,this._panel_maxheight);};_pPanel._shiftPanelMaxSize=function(_a,_b){this._panel_maxwidth+=_a;this._panel_maxheight+=_b;};_pPanel._initPanelMaxSize=function(_a,_b){this._panel_maxwidth=_a?_a:0;this._panel_maxheight=_b?_b:0;};_pPanel._getPanelPrevOverWidth=function(){return this._pow?this._pow:0;};_pPanel._getPanelNextOverWidth=function(){return this._now?this._now:0;};_pPanel._getPanelPrevOverHeight=function(){return this._poh?this._poh:0;};_pPanel._getPanelNextOverHeight=function(){return this._noh?this._noh:0;};_pPanel._setPanelPrevOverWidth=function(_a){this._pow=_a;};_pPanel._setPanelNextOverWidth=function(_a){this._now=_a;};_pPanel._setPanelPrevOverHeight=function(_a){this._poh=_a;};_pPanel._setPanelNextOverHeight=function(_a){this._noh=_a;};_pPanel._getPanelLimitWidth=function(){return this._panel_limitwidth;};_pPanel._getPanelLimitHeight=function(){return this._panel_limitheight;};_pPanel._getPanelLimitOverWidth=function(){return this._panel_limitoverwidth;};_pPanel._getPanelLimitOverHeight=function(){return this._panel_limitoverheight;};_pPanel._setPanelLimitWidth=function(_a){this._panel_limitwidth=_a;};_pPanel._setPanelLimitHeight=function(_a){this._panel_limitheight=_a;};_pPanel._addPanelLimitOverWidth=function(_a){var _b=this._panel_limitoverwidth.slice( -1);if(_b.length){_a+=_b[0];}this._panel_limitoverwidth.push(_a);};_pPanel._addPanelLimitOverHeight=function(_a){var _b=this._panel_limitoverheight.slice( -1);if(_b.length){_a+=_b[0];}this._panel_limitoverheight.push(_a);};_pPanel._clearPanelLimitOverWidth=function(){this._panel_limitoverwidth=[];};_pPanel._clearPanelLimitOverHeight=function(){this._panel_limitoverheight=[];};_pPanel._initPanelLimitSize=function(){this._panel_limitoverwidth=[];this._panel_limitoverheight=[];};_pPanel._clearPanelCachSize=function(){this._panel_minleft=0;this._panel_mintop=0;this._panel_maxwidth=0;this._panel_maxheight=0;this._pow=this._now=0;this._poh=this._noh=0;};_pPanel._clearPanelSize=function(){this._panel_rowsizes=[];this._panel_colsizes=[];this._panel_rowcount=0;this._panel_colcount=0;this._panel_defrsize=0;this._panel_defcsize=0;this._panel_defritms=0;this._panel_defcitms=0;};_pPanel._setSizeInfoRefPanel=function(_a,_b){this._ref_panel=_a;this._ref_style=_b;};_pPanel._getSizeInfoRefPanel=function(){return this._ref_panel;};_pPanel._getRowSizeInfoPanel=function(){return this._ref_panel&&(this._ref_style&nexacro._PanelConst.SIZEINFO_REFSTYLE_ROWLINK)?this._ref_panel:this;};_pPanel._getColSizeInfoPanel=function(){return this._ref_panel&&(this._ref_style&nexacro._PanelConst.SIZEINFO_REFSTYLE_COLLINK)?this._ref_panel:this;};_pPanel._clearSizeInfoRefPanel=function(){this._ref_panel=null;};_pPanel._setGroupingSubPanel=function(_a,_b,_c){this._sub_panel=_a;this._sub_place=_c;this._panel_subgroup=(_b)&(nexacro._PanelConst.GROUPING_SUBSTYLE_GROUP_MASK|nexacro._PanelConst.GROUPING_SUBSTYLE_BAND_MASK);this._panel_subtitle=(_b)&(nexacro._PanelConst.GROUPING_SUBSTYLE_TITLE_MASK);this._panel_subsplit=(_b)&(nexacro._PanelConst.GROUPING_SUBSTYLE_SPLIT_MASK);this._panel_defstats=this._setDefSlotStat(this._panel_subgroup);};_pPanel._getGroupingSubPanel=function(){return this._sub_panel?this._sub_panel:this;};_pPanel._clearGroupingSubPanel=function(){if(this._sub_panel&&this._sub_panel!=this){delete this._sub_panel;}this._sub_panel=null;};_pPanel._setPanelTitleSize=function(_a){return this._panel_titlesize=_a;};_pPanel._setPanelSplitSize=function(_a){return this._panel_splitsize=_a;};_pPanel._getPanelTitleSize=function(){return this._panel_titlesize;};_pPanel._getPanelSplitSize=function(){return this._panel_splitsize;};_pPanel._setDefSlotStat=function(_a){switch(_a&nexacro._PanelConst.GROUPING_SUBSTYLE_GROUP_MASK){case nexacro._PanelConst.GROUPING_SUBSTYLE_GROUP_EXPAND:return nexacro._PanelSlotConst.STATUS_EXPAND;case nexacro._PanelConst.GROUPING_SUBSTYLE_GROUP_COLLAPSE:case nexacro._PanelConst.GROUPING_SUBSTYLE_GROUP_ACCORDION:case nexacro._PanelConst.GROUPING_SUBSTYLE_GROUP_POPUP:return nexacro._PanelSlotConst.STATUS_COLLPASE;}switch(_a&nexacro._PanelConst.GROUPING_SUBSTYLE_BAND_MASK){case nexacro._PanelConst.GROUPING_SUBSTYLE_BAND_EXPAND:return nexacro._PanelSlotConst.STATUS_EXPAND;case nexacro._PanelConst.GROUPING_SUBSTYLE_BAND_COLLAPSE:case nexacro._PanelConst.GROUPING_SUBSTYLE_BAND_ACCORDION:case nexacro._PanelConst.GROUPING_SUBSTYLE_BAND_POPUP:return nexacro._PanelSlotConst.STATUS_COLLPASE;}return nexacro._PanelSlotConst.STATUS_NONE;};_pPanel._getDefSlotStat=function(){return this._panel_defstats;};_pPanel._isPopup=function(){return this._isGroupPopup()||this._isBandPopup();};_pPanel._isGroupPopup=function(){return this._panel_subgroup&nexacro._PanelConst.GROUPING_SUBSTYLE_GROUP_POPUP;};_pPanel._isBandPopup=function(){return this._panel_subgroup&nexacro._PanelConst.GROUPING_SUBSTYLE_BAND_POPUP;};_pPanel._isPopuped=function(){return this._isGroupPopup()||this._isBandPopup();};_pPanel._isAccordion=function(){return this._isGroupAccordion()||this._isBandAccordion();};_pPanel._isGroupAccordion=function(){return this._panel_subgroup&nexacro._PanelConst.GROUPING_SUBSTYLE_GROUP_ACCORDION;};_pPanel._isBandAccordion=function(){return this._panel_subgroup&nexacro._PanelConst.GROUPING_SUBSTYLE_BAND_ACCORDION;};_pPanel._makePanelPopup=function(_a){return this._panel_owner&&this._panel_owner._createPanelPopup?this._panel_owner._createPanelPopup(_a):null;};_pPanel._getPanelPopup=function(_a){return _a&&_a._hasSlotPopup()?_a._getSlotPopup():this._makePanelPopup(_a);};_pPanel._showPanelPopup=function(_a){var _b=_a?_a._getSlotPopup():null;if(_b&&!_b._isPopup()){_b._showPopup(this._sub_place);}};_pPanel._closePanelPopup=function(_a){var _b=_a?_a._getSlotPopup():null;if(_b&&_b._isPopup()){_b._closePopup();}};_pPanel._makePanelBandPopup=function(_a){return this._panel_owner&&this._panel_owner._createPanelPopup?this._panel_owner._createPanelPopup(_a,true):null;};_pPanel._getPanelBandPopup=function(_a){return _a&&_a._hasSlotPopup()?_a._getSlotPopup():this._makePanelBandPopup(_a);};_pPanel._showPanelBandPopup=function(_a){var _b=_a?_a._getSlotPopup():null;if(_b&&!_b._isPopup()){_b._showPopup(this._sub_place,true);}};_pPanel._closePanelBandPopup=function(_a){var _b=_a?_a._getSlotPopup():null;if(_b&&_b._isPopup()){_b._closePopup();}};_pPanel._useSelector=function(){return this._isLineSelector()||this._isAreaSelector();};_pPanel._isLineSelector=function(){return this._panel_selectortype&nexacro._PanelConst.SLOT_SELECTORTYPE_LINE;};_pPanel._isAreaSelector=function(){return this._panel_selectortype&nexacro._PanelConst.SLOT_SELECTORTYPE_AREA;};_pPanel._isSelectResizer=function(){return this._panel_selectortype&nexacro._PanelConst.SLOT_SELECTORTYPE_RESIZER;};_pPanel._isSelectPointer=function(){return this._panel_selectortype&nexacro._PanelConst.SLOT_SELECTORTYPE_POINTER;};_pPanel._isSelectCarrier=function(){return this._panel_selectortype&nexacro._PanelConst.SLOT_SELECTORTYPE_CARRIER;};_pPanel._setPanelSelector=function(_a){return this._addPanelSelector(_a);};_pPanel._addPanelSelector=function(_a){return _a?this._panel_selector[this._getPanelSelectorKey(_a)]=_a:null;};_pPanel._getPanelSelectorKey=function(_a){if(nexacro._isArray(_a)){return "s"+_a.join("s");}if(nexacro._isNumber(_a)){return "s"+_a;}if(nexacro._isObject(_a)){return "s"+_a._begin_index+"s"+_a._final_index;}return "";};_pPanel._getPanelSelectorIdxRange=function(_a){return _a.split("s").slice(1).map(Number);};_pPanel._getPanelSelectorIdxParts=function(_a){return _a.split("s").slice(1).map(Number);};_pPanel._makePanelSelector=function(_a){return this._panel_owner&&this._panel_owner._createPanelSelector?this._addPanelSelector(this._panel_owner._createPanelSelector(_a,_a,false)):null;};_pPanel._makePanelSelectorRange=function(_a,_b){return this._panel_owner&&this._panel_owner._createPanelSelector?this._addPanelSelector(this._panel_owner._createPanelSelector(_a,_b,false)):null;};_pPanel._makePanelSelectorParts=function(_a,_b){return this._panel_owner&&this._panel_owner._createPanelSelector?this._addPanelSelector(this._panel_owner._createPanelSelector(_a,_b,true)):null;};_pPanel._hasPanelSelector=function(_a){return !nexacro._isNull(_a)?this._panel_selector[_a]!=null:false;};_pPanel._getPanelSelector=function(_a,_b){return this._hasPanelSelector(_a)||!_b?this._panel_selector[_a]:this._makePanelSelector.apply(this,this._getPanelSelectorIdxRange(_a));};_pPanel._getPanelSelectorRange=function(_a,_b){return this._hasPanelSelector(_a)||!_b?this._panel_selector[_a]:this._makePanelSelectorRange.apply(this,this._getPanelSelectorIdxRange(_a));};_pPanel._getPanelSelectorParts=function(_a,_b){return this._hasPanelSelector(_a)||!_b?this._panel_selector[_a]:this._makePanelSelectorParts.apply(this,this._getPanelSelectorIdxParts(_a));};_pPanel._showPanelSelector=function(_a){var _b=this._getPanelSelector(_a);if(_b&&_b._showSelector){_b._showSelector();}};_pPanel._hidePanelSelector=function(_a){var _b=this._getPanelSelector(_a);if(_b&&_b._hideSelector){_b._hideSelector();}};_pPanel._clearPanelSelector=function(){this._panel_selector={};};_pPanel._setPanelSlotVisible=function(_a,_b,_c){_b=_b?_b:1;for(var _e=_a,_f=_a+_b;_e<_f;_e++ ){var _d=this._getPanelSlot(_a);if(_d){_d._setSlotVisible(_c);}}};_pPanel._showPanelSlot=function(_a,_b){this._setPanelSlotVisible(_a,_b,true);};_pPanel._hidePanelSlot=function(_a,_b){this._setPanelSlotVisible(_a,_b,false);};_pPanel._getPanelSlotStatus=function(_a){var _b=this._getPanelSlot(_a);return _b?_b._getSlotStatus():nexacro._PanelSlotConst.STATUS_NONE;};_pPanel._setPanelSlotStatusNoAction=function(_a,_b){var _c=this._getPanelSlot(_a);if(_c){var _d=_c._getSlotLevel();var _e=_b!=nexacro._PanelSlotConst.STATUS_COLLPASE;_c._setSlotStatus(_b);this._setExpandedSlotIndex(_d,_a,_e);}};_pPanel._setPanelSlotStatus=function(_a,_b,_c){var _d=this._getPanelSlot(_a);if(_d){var _e=_b!=nexacro._PanelSlotConst.STATUS_COLLPASE;var _f=_d._getSlotLevel();var _g=_f+1;var _h=_a>=0?_a+1:this._panel_slots.length;if(this._isGroupPopup()){if(_e){this._showPanelPopup(_d);}else{this._closePanelPopup(_d);}_d._setSlotStatus(_b);}else{if(this._isGroupAccordion()){if(_e){var _i=this._getExpandedSlotIndex(_f);this._setPanelSlotStatusCollapse(_i,true);}}for(var _l=_h,_m=this._panel_slots.length;_l<_m;_l++ ){var _j=this._getPanelSlot(_a);if(_j){var _k=_j._getSlotLevel();if(_f<_k){if(_c){_j._setSlotStatus(_b);_j._setSlotVisible(_e);}else if(_e){if(_g==_k){_j._setSlotVisible(_e);}}else{_j._setSlotVisible(_e);}}else{break;}}}_d._setSlotStatus(_b);}this._setExpandedSlotIndex(_f,_a,_e);}};_pPanel._setPanelSlotStatusExpand=function(_a,_b){this._setPanelSlotStatus(_a,nexacro._PanelSlotConst.STATUS_EXPAND,_b);};_pPanel._setPanelSlotStatusCollapse=function(_a,_b){this._setPanelSlotStatus(_a,nexacro._PanelSlotConst.STATUS_COLLPASE,_b);};_pPanel._setPanelSlotStatusPopup=function(_a){this._setPanelSlotStatus(_a,nexacro._PanelSlotConst.STATUS_POPUP,false);};_pPanel._setPanelSlotStatusClose=function(_a){this._setPanelSlotStatus(_a,nexacro._PanelSlotConst.STATUS_COLLPASE,true);};_pPanel._setPanelSlotStatusToggle=function(_a){var _b=this._getPanelSlotStatus(_a);if(this._isGroupPopup()){if(_b>=nexacro._PanelSlotConst.STATUS_EXPAND){return this._setPanelSlotStatusClose(_a);}if(_b==nexacro._PanelSlotConst.STATUS_COLLPASE){return this._setPanelSlotStatusPopup(_a);}}else{this._setPanelSlotStatus(_a,_b* ( -1),false);}};_pPanel._getPanelSlotStatusBand=function(_a){var _b=this._getPanelSlot(_a);return _b?_b._getSlotStatusBand():this._getDefSlotStat();};_pPanel._setPanelSlotStatusBandNoAction=function(_a,_b){var _c=this._getPanelSlot(_a);if(_c){var _d=_c._getSlotLevel();var _e=_b!=nexacro._PanelSlotConst.STATUS_COLLPASE;_c._setSlotStatusBand(_b);this._setExpandedSlotIndex(_d,_a,_e);}};_pPanel._setPanelSlotStatusBand=function(_a,_b,_c){var _d=this._getPanelSlot(_a);if(_d){var _e=_d._getSlotLevel();var _f=_b!=nexacro._PanelSlotConst.STATUS_COLLPASE;if(this._isBandPopup()){if(_f){var _g=this._getExpandedSlot(_e);this._closePanelBandPopup(_g);this._getPanelBandPopup(_d);this._showPanelBandPopup(_d);}else{this._closePanelBandPopup(_d);}_d._setSlotStatusBand(_b);}else{if(this._isBandAccordion()){if(_f){var _h=this._getExpandedSlotIndex(_e);this._setPanelSlotStatusBandCollapse(_h,true);}}_d._setSlotStatusBand(_b);}this._setExpandedSlotIndex(_e,_a,_f);}};_pPanel._setPanelSlotStatusBandExpand=function(_a,_b){this._setPanelSlotStatusBand(_a,nexacro._PanelSlotConst.STATUS_EXPAND,_b);};_pPanel._setPanelSlotStatusBandCollapse=function(_a,_b){this._setPanelSlotStatusBand(_a,nexacro._PanelSlotConst.STATUS_COLLPASE,_b);};_pPanel._setPanelSlotStatusBandPopup=function(_a,_b){this._setPanelSlotStatusBand(_a,nexacro._PanelSlotConst.STATUS_POPUP,_b);};_pPanel._setPanelSlotStatusBandClose=function(_a,_b){this._setPanelSlotStatusBand(_a,nexacro._PanelSlotConst.STATUS_COLLPASE,_b);};_pPanel._setPanelSlotStatusBandToggle=function(_a,_b){var _c=this._getPanelSlotStatusBand(_a);if(this._isBandPopup()){if(_c>=nexacro._PanelSlotConst.STATUS_EXPAND){return this._setPanelSlotStatusBandClose(_a);}if(_c==nexacro._PanelSlotConst.STATUS_COLLPASE){return this._setPanelSlotStatusBandPopup(_a);}}else{this._setPanelSlotStatusBand(_a,_c* ( -1),_b);}};_pPanel._setExpandedSlotIndex=function(_a,_b,_c){var _d=_a<0?0:_a;var _e=_d-this._panel_lvlstart;if(_c){this._expaned_slot[_e++ ]=_b;}this._expaned_slot.length=_e;};_pPanel._getExpandedSlotIndex=function(_a){var _b=_a<0?0:_a;if(_b<this._expaned_slot.length){return this._expaned_slot[_b];}else{return  -1;}};_pPanel._getExpandedSlot=function(_a){var _b=this._getExpandedSlotIndex(_a);if(_b>=0&&_b<this._panel_slots.length){return this._getPanelSlot(_b);}else{return null;}};_pPanel._setOwnerLayoutAutoFitFlag=function(_a){if(this._panel_owner&&this._panel_owner._setLayoutAutoFit){this._panel_owner._setLayoutAutoFit(_a);}};_pPanel._clear=function(){this._clearPanelSize();this._clearPanelSlot();this._clearPanelEachSize();this._clearPanelCachSize();this._clearSizeInfoRefPanel();this._clearGroupingSubPanel();this._clearPanelSelector();};delete _pPanel;}if(!nexacro._ScrollManager){nexacro._ScrollConst={SCROLLMODE_NONE:0x0000,SCROLLMODE_COUNT:0x0010,SCROLLMODE_INDEX:0x0020,SCROLLMODE_POSIT:0x0030,SCROLLMODE_SLIDE:0x0040,SCROLLMODE_FLICK:0x0080,SCROLLMODE_TOUCH:0x00C0,SCROLLMODE_FRAME:0x0100,SCROLLMODE_DEBND:0x0200,SCROLLMODE_THRTL:0x0300,SCROLLMODE_MASK:0x03F0,SCROLLTRTTYPE_CONVERT:{"none":0x0000,"aniframe":0x0100,"debound":0x0200,"throttle":0x0300},SCROLLCTRL_NONE:0x0000,SCROLLCTRL_HORZ:0x0001,SCROLLCTRL_VERT:0x0002,SCROLLCTRL_MASK:0x0003,SCROLLSTAT_INIT:0,SCROLLSTAT_READY:1,SCROLLSTAT_START:2,SCROLLSTAT_SCROLL:3,SCROLLSTAT_UPDATE:4,SCROLLSTAT_FINISH:5,SCROLLSTAT_FINAL:0,SCROLLSTAT_CONVERT:{"trackstart":2,"track":3,"trackfirst":3,"trackfirstover":3,"tracklast":3,"tracklastover":3,"trackend":5,"flingstart":2,"fling":3,"flingend":5,"slidestart":4,"slide":4,"slideend":4,"linedown":4,"lineup":4,"lineleft":4,"lineright":4,"pagedown":4,"pageup":4,"pageleft":4,"pageright":4,"first":4,"firstover":4,"last":4,"lastover":4,"none":4},SCROLLPOSTYPE_PIXEL:0,SCROLLPOSTYPE_ITEM:1,SCROLLPOSTYPE_PAGE:2,SCROLLPOSTYPE_CONVERT:{"pixel":0x0000,"item":0x0001,"page":0x0002},SCROLLDIRTYPE_NONE:0,SCROLLDIRTYPE_HORZ:1,SCROLLDIRTYPE_VERT:2,SCROLLDIRTYPE_BOTH:3,SCROLLDIRTYPE_CONVERT:{"none":0x0000,"horz":0x0001,"horzental":0x0001,"vert":0x0002,"vertical":0x0002,"both":0x0003},SCROLLCTRLSET_NONE:0x0000,SCROLLCTRLSET_SCROLLBAR:0x0001,SCROLLCTRLSET_INDICATEBAR:0x0004,SCROLLCTRLSET_SPINBAR:0x0010,SCROLLCTRLSET_STEPBAR:0x0040,SCROLLCTRLSET_CONVERT:{"none":0x0000,"scrollbar":0x0001,"indicatebar":0x0002,"spinbar":0x0003,"stepbar":0x0004},SCROLLVISIBLE_NONE:0x0000,SCROLLVISIBLE_HORZAUTO:0x0001,SCROLLVISIBLE_VERTAUTO:0x0002,SCROLLVISIBLE_BOTHAUTO:0x0003,SCROLLVISIBLE_HORZALWAYS:0x0004,SCROLLVISIBLE_VERTALWAYS:0x0008,SCROLLVISIBLE_HORZCONST:0x0010,SCROLLVISIBLE_VERTCONST:0x0020,SCROLLVISIBLE_DEFAULT:0x1000,SCROLLVISIBLE_CONVERT:{"none":0x0000,"auto":0x0001,"fixed":0x0040,"const":0x0100,"default":0x1000},SCROLLARRANGE_DEFAULT:0,SCROLLARRANGE_OPPSITE:1,SCROLLARRANGE_CLABOVE:2,SCROLLARRANGE_CONVERT:{"default":0x0000,"opposite":0x0001,"above":0x0040},SCROLLTRACKCOVER_NONE:0,SCROLLTRACKCOVER_AUTO:1,SCROLLTRACKCOVER_IMAGE:2,SCROLLTRACKCOVER_BAND:3,SCROLLTRACKCOVER_BLUR:4,SCROLLTRACKCOVER_CONVERT:{"none":0,"auto":1,"image":2,"band":3,"blur":4},SCROLLTRACKEVENT_SHOWALWAYS:0,SCROLLTRACKEVENT_TRACKINIT:0,SCROLLTRACKEVENT_TRACKBEGUN:1,SCROLLTRACKEVENT_TRACKMOVED:2,SCROLLTRACKEVENT_TRACKWHEEL:2,SCROLLTRACKEVENT_TRACKENDED:3,SCROLLTRACKEVENT_TRACKPAUSE:4,SCROLLTRACKEVENT_CONVERT:{"showalways":0,"trackinit":0,"trackbegun":1,"trackmoved":2,"trackwheel":2,"trackended":3,"trackpause":4},SCROLLTRACKPOS_NONE:0x0000,SCROLLTRACKPOS_LEAD:0x0001,SCROLLTRACKPOS_TAIL:0x0002,SCROLLTRACKPOS_CENTER:0x0003,SCROLLTRACKPOS_HORZMASK:0x000F,SCROLLTRACKPOS_TOP:0x0010,SCROLLTRACKPOS_BOTTOM:0x0020,SCROLLTRACKPOS_MIDDLE:0x0030,SCROLLTRACKPOS_TRACKTOP:0x0100,SCROLLTRACKPOS_TRACKBOTTOM:0x0200,SCROLLTRACKPOS_TRACKMIDDLE:0x0300,SCROLLTRACKPOS_TRACKMASK:0x0F00,SCROLLTRACKPOS_VERTMASK:0x0FF0,SCROLLTRACKPOS_CONVERT:{"none":0x0000,"lead":0x0001,"tail":0x0002,"center":0x0003,"top":0x0010,"bottom":0x0020,"middle":0x0030,"tracktop":0x0100,"trackbottom":0x0200,"trackmiddle":0x0300},SCROLLSTICKTYPE_CONVERT:{"default":0x0000},SCROLLSTICKTYPE_DEFAULT:0x0000,SCROLLCONST_END: -1};nexacro._ScrollManager=function(_a){this.rowfirst=false;this.scrolltype=0;this.scrollunit=0;this.scrollstat=0;this.recurrtype=0;this.ctrlsettype=0;this.ctrlvisible=0;this.hctrllayout=0;this.vctrllayout=0;this.hscrollctrl=null;this.vscrollctrl=null;this.eventtarget=null;this.eventthrott=0;this.scrollctxt=null;this.hscrollinfo=null;this.vscrollinfo=null;this.viewstart=0;this.viewcount= -1;this.prevcount=0;this.nextcount=0;this.fullstart=0;this.fullcount=0;this.fixlcount= -1;this.fixtcount= -1;this.parttrack=false;this.covertype=0;this.trackband=[];this.tracktype=[];this.trackloct=[];this.appertime=300;this.covertime=300;this.tracktime=500;this.readytime=800;this.sticktime=0;this._setcoverbimg=false;this._setcoversize=false;this._setbandslist=false;this._setbandssize=false;this._setstickitem=false;this._setsticksize=false;this._owner=_a;this._trackcoverow=null;this._trackbandsow=null;this._stickitemsow=null;this._trackcoverem=null;this._trackcovereb=null;this._trackbandlst=[];this._trackbandalw=[];this._trackbandout=[];this._trackbandstt=[];this._trackbandtrk=[];this._trackbandend=[];this._stickitemlead=[];this._stickitemtail=[];this._appertimer=null;this._pausetimer=null;this._closetimer=null;this._readytimer=null;this._sticktimer=null;this._trackcoverwd=0;this._trackcoverht=0;this._trackbandbwd=0;this._trackbandbht=0;this._trackbarbase=0;this._trackbarsize=0;this._stickitembwd=0;this._stickitembht=0;this._framemanager=null;};var _pScrollManager=nexacro._createPrototype(Object,nexacro._ScrollManager);nexacro._ScrollManager.prototype=_pScrollManager;_pScrollManager._type_name="_ScrollManager";_pScrollManager.isInited=function(){return this.scrollstat!=0;};_pScrollManager.isReady=function(){return this.scrollstat==1;};_pScrollManager.isStarting=function(){return this.scrollstat==2;};_pScrollManager.isScrolling=function(){return this.scrollstat==3;};_pScrollManager.isUpdating=function(){return this.scrollstat==4;};_pScrollManager.isFinished=function(){return this.scrollstat==5;};_pScrollManager.isTracking=function(){return this.scrollstat>=2&&this.parttrack;};_pScrollManager.isEventFrame=function(){return this.eventthrott!=0;};_pScrollManager._convertScrollDirType=function(_a){return nexacro._ScrollConst.SCROLLDIRTYPE_CONVERT[_a];};_pScrollManager._convertScrollPosType=function(_a){return nexacro._ScrollConst.SCROLLPOSTYPE_CONVERT[_a];};_pScrollManager._convertScrollTrtType=function(_a){return nexacro._ScrollConst.SCROLLTRTTYPE_CONVERT[_a];};_pScrollManager._convertScrollCtrlSet=function(_a){var _b=nexacro._toString(_a).toLowerCase().split(" ");if(!_b){return 0;}var _c,_d;if(_b.length==1){_d=nexacro._ScrollConst.SCROLLCTRLSET_CONVERT[_b[0]];return _d|(_d<<1);}else{_d=nexacro._ScrollConst.SCROLLCTRLSET_CONVERT[_b[0]];_c=nexacro._ScrollConst.SCROLLCTRLSET_CONVERT[_b[1]];return _d|_c;}};_pScrollManager._convertScrollVisible=function(_a){var _b=nexacro._toString(_a).toLowerCase().split(" ");if(!_b){return 0;}var _c,_d;if(_b.length==1){_d=nexacro._ScrollConst.SCROLLVISIBLE_CONVERT[_b[0]];return _d|(_d<<1);}else{_d=nexacro._ScrollConst.SCROLLVISIBLE_CONVERT[_b[0]];_c=nexacro._ScrollConst.SCROLLVISIBLE_CONVERT[_b[1]];return _d|_c;}};_pScrollManager._convertScrollArrange=function(_a){return nexacro._ScrollConst.SCROLLARRANGE_CONVERT[_a];};_pScrollManager._convertScrollEventStat=function(_a){return nexacro._ScrollConst.SCROLLSTAT_CONVERT[_a];};_pScrollManager._convertScrollCoverType=function(_a){return nexacro._ScrollConst.SCROLLTRACKCOVER_CONVERT[_a];};_pScrollManager._convertScrollTrackEvt=function(_a,_b){return nexacro._ScrollConst.SCROLLTRACKEVENT_CONVERT[_a];};_pScrollManager._convertScrollTrackPos=function(_a,_b){var _c=nexacro._toString(_a).toLowerCase().split(" ");var _d=0;for(var _e=0,_f=_c.length;_e<_f;_e++ ){_d|=nexacro._ScrollConst.SCROLLTRACKPOS_CONVERT[_c[_e]];}return _d;};_pScrollManager._convertScrollStickType=function(_a){return nexacro._ScrollConst.SCROLLSTICKTYPE_CONVERT[_a];};_pScrollManager.setScroll=function(_a,_b,_c,_d){if(this.scrollstat==_a){return this.onRecurrStatus(_a,_b,_c,_d);}else{return this.onChangeStatus(this.scrollstat,_a,_b,_c,_d);}};_pScrollManager._checkRecurring=function(_a,_b,_c){if(this.isEventFrame()){var _d=this.hscrollinfo&&_b&&this.hscrollinfo.pos!=_b.pos;var _e=this.vscrollinfo&&_c&&this.vscrollinfo.pos!=_c.pos;if(_d){this.recurrtype|=nexacro._ScrollConst.SCROLLDIRTYPE_HORZ;this.hscrollinfo=_b;}if(_e){this.recurrtype|=nexacro._ScrollConst.SCROLLDIRTYPE_VERT;this.vscrollinfo=_c;}return true;}else{return false;}};_pScrollManager.onRecurrStatus=function(_a,_b,_c,_d){if(this._checkRecurring(_b,_c,_d)){return false;}switch(_a){case 0:this._setScrollClear();break;case 1:this._setScrollReady(_b,_c,_d);break;case 2:this._setScrollStart(_b,_c,_d);break;case 3:this._setScrollScroll(_b,_c,_d);break;case 4:this._setScrollUpdate(_b,_c,_d);break;case 5:this._setScrollFinish(_b,_c,_d);break;}return true;};_pScrollManager.onChangeStatus=function(_a,_b,_c,_d,_e){switch(_a){case 0:{switch(_b){case 1:this._setScrollReady(_c,_d,_e);break;case 2:this._setScrollReady(_c,_d,_e);this._setScrollStart(_c,_d,_e);break;case 3:this._setScrollReady(_c,_d,_e);this._setScrollStart(_c,_d,_e);this._setScrollScroll(_c,_d,_e);break;case 4:this._setScrollReady(_c,_d,_e);this._setScrollUpdate(_c,_d,_e);break;case 5:this._setScrollFinish(_c,_d,_e);break;}break;}case 5:case 1:{switch(_b){case 2:this._setScrollStart(_c,_d,_e);break;case 3:this._setScrollStart(_c,_d,_e);this._setScrollScroll(_c,_d,_e);break;case 4:this._setScrollUpdate(_c,_d,_e);break;case 5:this._setScrollFinish(_c,_d,_e);break;case 0:this._setScrollFinish(_c,_d,_e);this._setScrollClear();break;}break;}case 2:{switch(_b){case 3:this._setScrollScroll(_c,_d,_e);break;case 4:this._setScrollUpdate(_c,_d,_e);break;case 5:this._setScrollFinish(_c,_d,_e);break;case 0:this._setScrollFinish(_c,_d,_e);this._setScrollClear();break;case 1:this._setScrollFinish(_c,_d,_e);this._setScrollClear();this._setScrollReady(_c,_d,_e);break;}break;}case 3:{switch(_b){case 2:this._setScrollStart(_c,_d,_e);break;case 4:this._setScrollUpdate(_c,_d,_e);break;case 5:this._setScrollFinish(_c,_d,_e);this._setScrollClear();this._setScrollReady(_c,_d,_e);break;case 0:this._setScrollFinish(_c,_d,_e);this._setScrollClear();break;case 1:this._setScrollFinish(_c,_d,_e);this._setScrollClear();this._setScrollReady(_c,_d,_e);break;}break;}case 4:{switch(_b){case 2:this._setScrollStart(_c,_d,_e);break;case 3:this._setScrollScroll(_c,_d,_e);break;case 5:this._setScrollFinish(_c,_d,_e);break;case 0:this._setScrollFinish(_c,_d,_e);this._setScrollClear();break;case 1:this._setScrollFinish(_c,_d,_e);this._setScrollClear();this._setScrollReady(_c,_d,_e);break;}break;}}};_pScrollManager._setScrollLayout=function(_a,_b,_c,_d,_e,_f,_g){this.rowfirst=_a;this.scrolltype=this._convertScrollDirType(_b);this.scrollunit=this._convertScrollPosType(_c);this.ctrlsettype=this._convertScrollCtrlSet(_d);this.ctrlvisible=this._convertScrollVisible(_e);this.hctrllayout=this._convertScrollArrange(_f);this.vctrllayout=this._convertScrollArrange(_g);};_pScrollManager._setScrollControl=function(_a,_b){this.hscrollctrl=_a;this.vscrollctrl=_b;};_pScrollManager._setScrollContext=function(_a){this.scrollctxt=_a;};_pScrollManager._setScrollEvent=function(_a,_b){this.eventtarget=_a;this.eventthrott=this._convertScrollTrtType(_b);};_pScrollManager._setScrollInfo=function(_a,_b,_c){this.hscrollinfo=_b;this.vscrollinfo=_c;};_pScrollManager._setScrollTrack=function(_a,_b,_c,_d,_e,_f,_g,_h){this.covertype=this._convertScrollCoverType(_a);this.trackband=_b&&_b.length?_b.slice():[];this.tracktype=_c&&_c.length?_c.map(this._convertScrollTrackEvt):[];this.trackloct=_d&&_d.length?_d.map(this._convertScrollTrackPos):[];this.appertime=nexacro._isNumber(_e)?_e:this.appertime;this.covertime=nexacro._isNumber(_f)?_f:this.covertime;this.tracktime=nexacro._isNumber(_g)?_g:this.tracktime;this.readytime=nexacro._isNumber(_h)?_h:this.readytime;this.parttrack=(this.covertype!=0)||(this.trackband&&this.trackband.length);};_pScrollManager._setScrollTrackCover=function(_a){this.covertype=this._convertScrollCoverType(_a);this.parttrack=(this.covertype!=0);};_pScrollManager._setScrollTrackBands=function(_a,_b,_c){this.trackband=_a&&_a.length?_a.slice():[];this.tracktype=_b&&_b.length?_b.map(this._convertScrollTrackEvt):[];this.trackloct=_c&&_c.length?_c.map(this._convertScrollTrackPos):[];this.parttrack=(this.trackband&&this.trackband.length);};_pScrollManager._setScrollTrackTimes=function(_a,_b,_c,_d){this.appertime=nexacro._isNumber(_a)?_a:this.appertime;this.covertime=nexacro._isNumber(_b)?_b:this.covertime;this.tracktime=nexacro._isNumber(_c)?_c:this.tracktime;this.readytime=nexacro._isNumber(_d)?_d:this.readytime;};_pScrollManager._setScrollStick=function(_a,_b){this.sticktype=this._convertScrollStickType(_a);this.sticktime=nexacro._isNumber(_b)?_b:this.sticktime;};_pScrollManager._clear=function(){this._setEventFrameFinish();this.setScroll(0);this._clearScrollControl();this._clearScrollContext();this._clearScrollEvent();this._clearScrollInfo();this._clearScrollPart();this._clearScrollTrack();this._clearScrollStick();this._owner=null;};_pScrollManager._clearScrollControl=function(){this.hscrollctrl=null;this.vscrollctrl=null;};_pScrollManager._clearScrollContext=function(){this.scrollctxt=null;};_pScrollManager._clearScrollEvent=function(){this.eventtarget=null;};_pScrollManager._clearScrollInfo=function(){this.hscrollinfo=null;this.vscrollinfo=null;};_pScrollManager._clearScrollPart=function(){this.viewstart=0;this.viewcount= -1;this.prevcount=0;this.nextcount=0;this.fullstart=0;this.fullcount=0;};_pScrollManager._clearScrollTrack=function(){this._clearScrollTrackBands();this._clearScrollTrackCover();this._clearScrollTrackTimer();this.covertype=0;this.trackband=[];this.tracktype=[];this.trackloct=[];this.appertime=0;this.covertime=0;this.tracktime=0;this.readytime=0;};_pScrollManager._clearScrollTrackBands=function(){if(this._trackbandlst){this._trackbandalw=[];this._trackbandout=[];this._trackbandstt=[];this._trackbandtrk=[];this._trackbandend=[];for(var _b=0,_c=this._trackbandlst.length;_b<_c;_b++ ){var _a=this._trackbandlst[_b];if(_a&&_a.destroy){_a.destroy();delete _a;}this._trackbandlst[_b]=null;}this._trackbandlst=[];}this._setbandslist=false;this._setbandssize=false;this._trackbandbwd=0;this._trackbandbht=0;this._trackbandsow=null;};_pScrollManager._clearScrollTrackCover=function(){if(this._trackcoverem){this._trackcoverem.destroy();this._trackcoverem=null;}if(this._trackcovereb){this._trackcovereb.destroy();this._trackcovereb=null;}this._trackcoverow=null;this._setcoverbimg=false;this._setcoversize=false;this._trackcoverwd=0;this._trackcoverht=0;};_pScrollManager._clearScrollStick=function(){this._clearStickItems();this._clearStickTimer();this.sticktype=0;this.sticktime=0;this.fixlcount= -1;this.fixtcount= -1;};_pScrollManager._clearScrollTrackTimer=function(){this._clearTrackTimerPause();this._clearTrackTimerApper();this._clearTrackTimerClose();this._clearTrackTimerReady();};_pScrollManager._clearTrackTimerPause=function(){if(this._pausetimer){this._pausetimer.destroy();delete this._pausetimer;this._pausetimer=null;}};_pScrollManager._clearTrackTimerApper=function(){if(this._appertimer){this._appertimer.destroy();delete this._appertimer;this._appertimer=null;}};_pScrollManager._clearTrackTimerClose=function(){if(this._closetimer){this._closetimer.destroy();delete this._closetimer;this._closetimer=null;}};_pScrollManager._clearTrackTimerReady=function(){if(this._readytimer){this._readytimer.destroy();delete this._readytimer;this._readytimer=null;}};_pScrollManager._getCommandString=function(){var _a="";if(this.hscrollctrl){_a+=this.hscrollctrl.createCommand();}if(this.vscrollctrl){_a+=this.vscrollctrl.createCommand();}return _a;};_pScrollManager._setAttachHandle=function(_a){if(this.hscrollctrl){this.hscrollctrl.attachHandle(_a);}if(this.vscrollctrl){this.vscrollctrl.attachHandle(_a);}};_pScrollManager._setEventFrameReady=function(){if(this.isReady()){this._setEventFrameStart();}};_pScrollManager._setEventFrameStart=function(){var _a=this;if(!this._framemanager){this._framemanager=new nexacro.AnimationFrame(this.eventtarget,function(){_a._callbackFrame();});}if(this._framemanager){this._framemanager.start();}};_pScrollManager._setEventFrameStop=function(){if(this._framemanager){this._framemanager.stop();}};_pScrollManager._setEventFrameFinish=function(){if(!this.isReady()){this._setEventFrameStop();}if(this._framemanager){delete this._framemanager;this._framemanager=null;}};_pScrollManager._callbackFrame=function(){if(this.isScrolling()||this.isUpdating()){this._setScrollScroll(this.recurrtype,this.hscrollinfo,this.vscrollinfo);this.recurrtype=nexacro._ScrollConst.SCROLLDIRTYPE_NONE;}};_pScrollManager._getPartItemViewStart=function(){return this.viewstart;};_pScrollManager._getPartItemViewCount=function(){return this.viewcount;};_pScrollManager._getPartItemPrevCount=function(){return this.prevcount;};_pScrollManager._getPartItemNextCount=function(){return this.nextcount;};_pScrollManager._getPartItemFullStart=function(){return this.fullstart;};_pScrollManager._getPartItemFullCount=function(){return this.fullcount;};_pScrollManager._setPartItemViewStart=function(_a){this.viewstart=_a;};_pScrollManager._setPartItemViewCount=function(_a){this.viewcount=_a;};_pScrollManager._setPartItemPrevCount=function(_a){this.prevcount=_a;};_pScrollManager._setPartItemNextCount=function(_a){this.nextcount=_a;};_pScrollManager._setPartItemFullStart=function(_a){this.fullstart=_a;};_pScrollManager._setPartItemFullCount=function(_a){this.fullcount=_a;};_pScrollManager._getItemScrollFixLeadCount=function(){return this.fixlcount;};_pScrollManager._getItemScrollFixTailCount=function(){return this.fixtcount;};_pScrollManager._setItemScrollFixLeadCount=function(_a){return this.fixlcount=_a;};_pScrollManager._setItemScrollFixTailCount=function(_a){return this.fixtcount=_a;};_pScrollManager._setScrollClear=function(){this.scrollstat=nexacro._ScrollConst.SCROLLSTAT_INIT;};_pScrollManager._setScrollReady=function(_a,_b,_c){this.scrollstat=nexacro._ScrollConst.SCROLLSTAT_READY;if(this.isEventFrame()){this._setEventFrameReady();}var _d=_a&nexacro._ScrollConst.SCROLLMODE_MASK;var _e=_a&nexacro._ScrollConst.SCROLLCTRL_MASK;if(_e&1){this.eventtarget._onHScrollReady(this.hscrollctrl,_d,this.hscrollinfo=_b);}if(_e&2){this.eventtarget._onVScrollReady(this.vscrollctrl,_d,this.vscrollinfo=_c);}};_pScrollManager._setScrollStart=function(_a,_b,_c){this.scrollstat=nexacro._ScrollConst.SCROLLSTAT_START;var _d=_a&nexacro._ScrollConst.SCROLLMODE_MASK;var _e=_a&nexacro._ScrollConst.SCROLLCTRL_MASK;if(_e&1){this.eventtarget._onHScrollStart(this.hscrollctrl,_d,this.hscrollinfo=_b);}if(_e&2){this.eventtarget._onVScrollStart(this.vscrollctrl,_d,this.vscrollinfo=_c);}if(this.isEventFrame()){this._setEventFrameStart();}};_pScrollManager._setScrollScroll=function(_a,_b,_c){this.scrollstat=nexacro._ScrollConst.SCROLLSTAT_SCROLL;var _d=_a&nexacro._ScrollConst.SCROLLMODE_MASK;var _e=_a&nexacro._ScrollConst.SCROLLCTRL_MASK;if(_e&1){this.eventtarget._onHScrollScroll(this.hscrollctrl,_d,this.hscrollinfo=_b);}if(_e&2){this.eventtarget._onVScrollScroll(this.vscrollctrl,_d,this.vscrollinfo=_c);}if(this.isEventFrame()){this._setEventFrameStart();}};_pScrollManager._setScrollUpdate=function(_a,_b,_c){this.scrollstat=nexacro._ScrollConst.SCROLLSTAT_UPDATE;if(this.isEventFrame()){this._setEventFrameStop();}var _d=_a&nexacro._ScrollConst.SCROLLMODE_MASK;var _e=_a&nexacro._ScrollConst.SCROLLCTRL_MASK;if(_e&1){this.eventtarget._onHScrollUpdate(this.hscrollctrl,_d,this.hscrollinfo=_b);}if(_e&2){this.eventtarget._onVScrollUpdate(this.vscrollctrl,_d,this.vscrollinfo=_c);}this.scrollstat=nexacro._ScrollConst.SCROLLSTAT_READY;};_pScrollManager._setScrollFinish=function(_a,_b,_c){this.scrollstat=nexacro._ScrollConst.SCROLLSTAT_FINISH;if(this.isEventFrame()){this._setEventFrameFinish();}var _d=_a&nexacro._ScrollConst.SCROLLMODE_MASK;var _e=_a&nexacro._ScrollConst.SCROLLCTRL_MASK;if(_e&1){this.eventtarget._onHScrollFinish(this.hscrollctrl,_d,this.hscrollinfo);}if(_e&2){this.eventtarget._onVScrollFinish(this.vscrollctrl,_d,this.vscrollinfo);}};_pScrollManager._isInitTrackCover=function(){return this._setcoverbimg&&this._setcoversize;};_pScrollManager._isInitTrackBands=function(){return this._setbandslist&&this._setbandssize;};_pScrollManager._isInitStickItems=function(){return this._setstickitem&&this._setsticksize;};_pScrollManager._fetchTrackBarSize=function(){if(this.rowfirst){this._trackbarsize=this.hscrollctrl?this.hscrollctrl.trackbar.getPixelWidth():0;}else{this._trackbarsize=this.vscrollctrl?this.vscrollctrl.trackbar.getPixelHeight():0;}};_pScrollManager._fetchTrackBarBase=function(){if(this.rowfirst){this._trackbarbase=this.hscrollctrl?this.hscrollctrl.trackbar.getOffsetLeft():0;}else{this._trackbarbase=this.vscrollctrl?this.vscrollctrl.trackbar.getOffsetTop():0;}};_pScrollManager._getTrackBandLeft=function(_a,_b){this._fetchTrackBarSize();this._fetchTrackBarBase();var _c=_a.getPixelWidth();var _d=_a.left?_a.left:0;var _e=_a.right?_a.right:0;if(this.rowfirst){switch(_b){case nexacro._ScrollConst.SCROLLTRACKPOS_TOP:{return _d;}case nexacro._ScrollConst.SCROLLTRACKPOS_BOTTOM:{return this._trackbandbwd-_c-_e;}case nexacro._ScrollConst.SCROLLTRACKPOS_MIDDLE:{return this._trackbandbwd/2-_c/2;}case nexacro._ScrollConst.SCROLLTRACKPOS_TRACKTOP:{return this._trackbarbase;}case nexacro._ScrollConst.SCROLLTRACKPOS_TRACKBOTTOM:{return this._trackbarbase+this._trackbarsize-_c;}case nexacro._ScrollConst.SCROLLTRACKPOS_TRACKMIDDLE:{return this._trackbarbase+this._trackbarsize/2-_c/2;}case nexacro._ScrollConst.SCROLLTRACKPOS_NONE:default:}}else{switch(_b){case nexacro._ScrollConst.SCROLLTRACKPOS_LEAD:{return _d;}case nexacro._ScrollConst.SCROLLTRACKPOS_TAIL:{return this._trackbandbwd-_c-_e;}case nexacro._ScrollConst.SCROLLTRACKPOS_CENTER:{return this._trackbandbwd/2-_c/2;}case nexacro._ScrollConst.SCROLLTRACKPOS_NONE:default:}}};_pScrollManager._getTrackBandTop=function(_a,_b){this._fetchTrackBarSize();this._fetchTrackBarBase();var _c=_a.getPixelHeight();var _d=_a.top?_a.top:0;var _e=_a.bottom?_a.bottom:0;if(this.rowfirst){switch(_b){case nexacro._ScrollConst.SCROLLTRACKPOS_LEAD:{return _d;}case nexacro._ScrollConst.SCROLLTRACKPOS_TAIL:{return this._trackbandbht-_c-_e;}case nexacro._ScrollConst.SCROLLTRACKPOS_CENTER:{return this._trackbandbht/2-_c/2;}case nexacro._ScrollConst.SCROLLTRACKPOS_NONE:default:}}else{switch(_b){case nexacro._ScrollConst.SCROLLTRACKPOS_TOP:{return _d;}case nexacro._ScrollConst.SCROLLTRACKPOS_BOTTOM:{return this._trackbandbht-_c-_e;}case nexacro._ScrollConst.SCROLLTRACKPOS_MIDDLE:{return this._trackbandbht/2-_c/2;}case nexacro._ScrollConst.SCROLLTRACKPOS_TRACKTOP:{return this._trackbarbase;}case nexacro._ScrollConst.SCROLLTRACKPOS_TRACKBOTTOM:{return this._trackbarbase+this._trackbarsize-_c;}case nexacro._ScrollConst.SCROLLTRACKPOS_TRACKMIDDLE:{return this._trackbarbase+this._trackbarsize/2-_c/2;}case nexacro._ScrollConst.SCROLLTRACKPOS_NONE:default:}}};_pScrollManager._initTrackCover=function(_a,_b,_c,_d){if(!_a){return;}this._owner=_a;switch(this.covertype){case 0:this._clearScrollTrackCover();break;case 1:case 2:case 3:{if(!this._trackcoverem){this._trackcoverow=_a.getElement();this._trackcoverem=new nexacro.ControlElement(_a._control_element);this._trackcovereb=new nexacro.ControlElement(_a._control_element);this._trackcoverem.name="trackcover";this._trackcovereb.name="trackback";this._trackcoverem._is_simple_control=true;this._trackcovereb._is_simple_control=true;this._trackcoverem._is_nc_element=false;this._trackcovereb._is_nc_element=false;this._trackcoverem.create(_a._getWindow());this._trackcovereb.create(_a._getWindow());}if(this._trackcoverem&&this._trackcovereb){if(nexacro._Browser=="Runtime"){if(!this._setcoverbimg&&_b){this._trackcoverem.setElementBackground(_b);this._trackcoverem.setElementOpacity(nexacro.OpacityObject(0.5));this._trackcovereb.setElementBackground(nexacro.BackgroundObject("white",_a));this._trackcovereb.setElementOpacity(nexacro.OpacityObject(1.0));this._setcoverbimg=true;}if(!this._setcoversize){this._trackcovereb.setElementZIndex(1);this._trackcoverem.setElementZIndex(2);this._trackcovereb.setElementSize(_c,_d);this._trackcoverem.setElementSize(_c,_d);this._setcoversize=true;}}else{if(!this._setcoverbimg&&_b){this._trackcoverem.setElementBackground(_b);this._trackcoverem.setElementOpacity(nexacro.OpacityObject(0.5));this._trackcovereb.setElementBackground(nexacro.BackgroundObject("white",_a));this._trackcovereb.setElementOpacity(nexacro.OpacityObject(1.0));this._setcoverbimg=true;}if(!this._setcoversize){this._trackcoverow.bringToFrontElement(this._trackcovereb);this._trackcoverow.bringToFrontElement(this._trackcoverem);this._trackcovereb.setElementSize(_c,_d);this._trackcoverem.setElementSize(_c,_d);this._setcoversize=true;}}this._trackcoverwd=_c;this._trackcoverht=_d;}break;}case 4:{if(!this._trackcoverow){this._trackcoverow=_a.getElement();}if(!this._trackcovereb){this._trackcovereb=new nexacro.ControlElement(_a._control_element);this._trackcovereb.name="trackback";this._trackcovereb._is_simple_control=true;this._trackcovereb._is_nc_element=false;this._trackcovereb.create(_a._getWindow());this._trackcovereb.setElementBackground(nexacro.BackgroundObject("white",_a));this._trackcovereb.setElementOpacity(nexacro.OpacityObject(0.8));this._setcoverbimg=true;}if(!this._setcoversize){this._trackcoverow.bringToFrontElement(this._trackcovereb);this._trackcovereb.setElementSize(_c,_d);this._setcoversize=true;}this._trackcoverwd=_c;this._trackcoverht=_d;break;}}this._actionTrackCover("trackinit");};_pScrollManager._actionTrackCover=function(_a){switch(_a){case "trackinit":case "trackend":case "trackended":{this._hideTrackCover();break;}case "trackstart":case "trackbegun":case "trackmove":case "trackmoved":case "trackwheel":case "trackpause":{this._showTrackCover();break;}}};_pScrollManager._showTrackCover=function(){if(this._trackcovereb){this._trackcovereb.setElementVisible(true);}if(this._trackcoverem){this._trackcoverem.setElementVisible(true);}};_pScrollManager._moveTrackCover=function(){if(this._trackcoverow){if(this._trackcovereb){this._trackcoverow.bringToFrontElement(this._trackcovereb);}if(this._trackcoverem){this._trackcoverow.bringToFrontElement(this._trackcoverem);}}};_pScrollManager._hideTrackCover=function(){if(this._trackcovereb){this._trackcovereb.setElementVisible(false);}if(this._trackcoverem){this._trackcoverem.setElementVisible(false);}};_pScrollManager._sizeTrackCover=function(_a,_b){if(this._trackcovereb){this._trackcovereb.setElementSize(_a,_b);}if(this._trackcoverem){this._trackcoverem.setElementSize(_a,_b);}};_pScrollManager._initTrackBands=function(_a,_b,_c,_d){if(!_a){return;}this._owner=_a;if(!this._setbandslist&&_b){this._clearScrollTrackBands();this._trackbandsow=_a;this._trackbandlst=_b;var _e=this.tracktype.length;var _f=this.trackloct.length;for(var _p=0,_q=_b.length;_p<_q;_p++ ){var _g=_b[_p];var _h=_e?this.tracktype[_p%_e]:0;var _i=_f?this.trackloct[_p%_f]:0;var _j=_i&nexacro._ScrollConst.SCROLLTRACKPOS_HORZMASK;var _k=_i&nexacro._ScrollConst.SCROLLTRACKPOS_VERTMASK;var _l={band:_g,type:_h,halign:_j,valign:_k};if(_h==nexacro._ScrollConst.SCROLLTRACKEVENT_SHOWALWAYS){this._trackbandalw.push(_l);}if(_h!=nexacro._ScrollConst.SCROLLTRACKEVENT_SHOWALWAYS){this._trackbandout.push(_l);}if(_h==nexacro._ScrollConst.SCROLLTRACKEVENT_TRACKBEGUN){this._trackbandstt.push(_l);}if(_h==nexacro._ScrollConst.SCROLLTRACKEVENT_TRACKMOVED){this._trackbandtrk.push(_l);}if(_h==nexacro._ScrollConst.SCROLLTRACKEVENT_TRACKENDED){this._trackbandend.push(_l);}}this._setbandslist=true;}if(!this._setbandssize){var _m=_a._getItemChildByIndex(this._getPartItemViewStart(),0,0);var _n=_m?_m.getOffsetWidth():0;var _o=_m?_m.getOffsetHeight():0;if(this._trackbandalw.length){this._sizeTrackBands(this._trackbandalw,_n,_o);}if(this._trackbandout.length){this._sizeTrackBands(this._trackbandout,_n,_o);}if(this._trackbandstt.length){this._sizeTrackBands(this._trackbandstt,_n,_o);}if(this._trackbandtrk.length){this._sizeTrackBands(this._trackbandtrk,_n,_o);}if(this._trackbandend.length){this._sizeTrackBands(this._trackbandend,_n,_o);}this._setbandssize=true;}this._trackbandbwd=_c;this._trackbandbht=_d;this._actionTrackBands("trackinit");};_pScrollManager._actionTrackBands=function(_a){switch(_a){case "trackinit":{if(this._trackbandalw.length){this._takeTrackBands(this._trackbandalw);this._moveTrackBands(this._trackbandalw);this._showTrackBands(this._trackbandalw);}if(this._trackbandout.length){this._hideTrackBands(this._trackbandout);}break;}case "trackstart":case "trackbegun":{if(this._trackbandstt.length){this._takeTrackBands(this._trackbandstt);this._moveTrackBands(this._trackbandstt);this._showTrackBands(this._trackbandstt);}break;}case "trackmove":case "trackmoved":case "trackwheel":case "trackpause":{if(this._trackbandtrk.length){this._takeTrackBands(this._trackbandtrk);this._moveTrackBands(this._trackbandtrk);this._showTrackBands(this._trackbandtrk);}break;}case "trackend":case "trackended":{if(this._trackbandout.length){this._hideTrackBands(this._trackbandout);}if(this._trackbandend.length){this._takeTrackBands(this._trackbandend);this._moveTrackBands(this._trackbandend);this._showTrackBands(this._trackbandend);}break;}}};_pScrollManager._showTrackBands=function(_a){if(_a){if(_a.length){for(var _b=0,_c=_a.length;_b<_c;_b++ ){this._showTrackBands(_a[_b]);}}else if(_a.band){_a.band.set_visible(true);}}};_pScrollManager._hideTrackBands=function(_a){if(_a){if(_a.length){for(var _b=0,_c=_a.length;_b<_c;_b++ ){this._hideTrackBands(_a[_b]);}}else if(_a.band){_a.band.set_visible(false);}}};_pScrollManager._sizeTrackBands=function(_a,_b,_c){if(_a){if(_a.length){for(var _d=0,_e=_a.length;_d<_e;_d++ ){this._sizeTrackBands(_a[_d],_b,_c);}}else if(_a.band){_a.band.resize(_b,_c);}}};_pScrollManager._moveTrackBands=function(_a,_b,_c){if(_a){if(_a.length){for(var _d=0,_e=_a.length;_d<_e;_d++ ){this._moveTrackBands(_a[_d],_b,_c);}}else if(_a.band){_a.band.move(_b!=undefined?_b:this._getTrackBandLeft(_a.band,_a.halign),_c!=undefined?_c:this._getTrackBandTop(_a.band,_a.valign));}}};_pScrollManager._takeTrackBands=function(_a){if(this._trackbandsow&&_a){for(var _e=0,_f=_a.length;_e<_f;_e++ ){var _b=_a[0];if(!_b){continue;}var _c=this.rowfirst?_b.halign:_b.valign;var _d=this._trackbandsow._getScrollTrackIndex(_c);this._trackbandsow._updateItem(_b.band,_d);}}};_pScrollManager._actionTrack=function(_a,_b,_c,_d,_e){this._actionTrackCover(_a);this._actionTrackBands(_a);var _f=_a!="trackend";var _g=_a=="trackwheel";if(_g){this._callbackApper(_b,_c,_f);}else{this._callbackApper(_b,_c,_f);this._callbackPause(_b,_d,_f);this._callbackClose(_b,_e,_f);}};_pScrollManager._actionReady=function(_a,_b,_c){this._actionTrackCover(_a);this._actionTrackBands(_a);this._callbackReady(_b,_c,true);};_pScrollManager._callbackApper=function(_a,_b,_c){this._clearTrackTimerApper();if(_c){this._appertimer=nexacro._OnceCallbackTimer.callonce(_a,_b,this.appertime);}else{_b.call(_a);}};_pScrollManager._callbackPause=function(_a,_b,_c){this._clearTrackTimerPause();if(_c){this._pausetimer=nexacro._OnceCallbackTimer.callonce(_a,_b,this.covertime);}else{_b.call(_a);}};_pScrollManager._callbackClose=function(_a,_b,_c){this._clearTrackTimerClose();if(_c){this._closetimer=nexacro._OnceCallbackTimer.callonce(_a,_b,this.tracktime);}else{_b.call(_a);}};_pScrollManager._callbackReady=function(_a,_b,_c){this._clearTrackTimerReady();if(_c){this._readytimer=nexacro._OnceCallbackTimer.callonce(_a,_b,this.readytime);}else{_b.call(_a);}};_pScrollManager._initStickItems=function(_a,_b,_c,_d,_e){if(!_a){return;}this._owner=_a;if(!this._setstickitem){this._stickitemsow=_a.getElement();this._stickitemlead=_b;this._stickitemtail=_c;this._setstickitem=true;}if(!this._setsticksize){this._sizeStickItems(_b,_d,_e);this._sizeStickItems(_c,_d,_e);this._setsticksize=true;}this._stickitembwd=_d;this._stickitembht=_e;this._actionStickItems("stickinit");};_pScrollManager._actionStickItems=function(_a){switch(_a){case "stickinit":case "stickstart":{this._showStickItemLead();this._showStickItemTail();break;}case "showsticklead":{this._showStickItemLead();break;}case "showsticktail":{this._showStickItemTail();break;}case "hidesticklead":{this._hideStickItemLead();break;}case "hidesticktail":{this._hideStickItemTail();break;}case "stickend":{this._hideStickItemLead();this._hideStickItemTail();break;}}};_pScrollManager._showStickItemLead=function(_a,_b){var _c=this._stickitemsow;var _d=this._stickitemlead;var _e=this.fixlcount;if(_d&&_e&&_c){var _f=this.rowfirst?_b:0;var _g=this.rowfirst?0:_a;for(var _k=0,_l=Math.min(_d.length,_e);_k<_l;_k++ ){var _h=this._getOwnerItem(_d[_k]);if(_h){for(var _m=0,_n=_h.length;_m<_n;_m++ ){var _i=_h[_m];if(_i&&_i._setPositionFixed){var _j=_i.getElement();if(_j){_i._setPositionFixed(_i.parent,_f,_g);_j.setElementVisible(true);}}}}}}};_pScrollManager._showStickItemTail=function(_a,_b){var _c=this._stickitemsow;var _d=this._stickitemtail;var _e=this.fixtcount;if(_d&&_e&&_c){var _f=this.rowfirst?_b:0;var _g=this.rowfirst?0:_a;for(var _k=0,_l=Math.min(_d.length,_e);_k<_l;_k++ ){var _h=this._getOwnerItem(_d[_k]);if(_h){for(var _m=0,_n=_h.length;_m<_n;_m++ ){var _i=_h[_m];if(_i&&_i._setPositionFixed){var _j=_i.getElement();if(_j){_i._setPositionFixed(_i.parent,_f,_g);_j.setElementVisible(true);}}}}}}};_pScrollManager._hideStickItemLead=function(_a,_b){var _c=this._stickitemlead;var _d=this.fixlcount;if(_c&&_d){for(var _i=0,_j=Math.min(_c.length,_d);_i<_j;_i++ ){var _e=_c[_i];var _f=this._getOwnerItem(_e);if(_f){for(var _k=0,_l=_f.length;_k<_l;_k++ ){var _g=_f[_k];if(_g&&_g._setPositionAbsolute){var _h=_g.getElement();if(_h){_g._setPositionAbsolute(_g.parent,_e);_h.setElementVisible(false);}}}}}}};_pScrollManager._hideStickItemTail=function(_a,_b){var _c=this._stickitemtail;var _d=this.fixtcount;if(_c&&_d){for(var _i=0,_j=Math.min(_c.length,_d);_i<_j;_i++ ){var _e=_c[_i];var _f=this._getOwnerItem(_e);if(_f){for(var _k=0,_l=_f.length;_k<_l;_k++ ){var _g=_f[_k];if(_g&&_g._setPositionAbsolute){var _h=_g.getElement();if(_h){_g._setPositionAbsolute(_g.parent,_e);_h.setElementVisible(false);}}}}}}};_pScrollManager._sizeStickItems=function(_a,_b,_c){if(this._stickitemlead&&this._stickitemtail){}};_pScrollManager._clearStickItems=function(){if(this._stickitemlead){this._stickitemlead=[];}if(this._stickitemtail){this._stickitemtail=[];}this._stickitemsow=null;this._setstickitem=false;this._setsticksize=false;this._stickitembwd=0;this._stickitembht=0;};_pScrollManager._actionStick=function(_a,_b,_c){this._actionStickItems(_a);this._callbackStick(_b,_c,true);};_pScrollManager._callbackStick=function(_a,_b,_c){this._clearStickTimer();if(_c){this._sticktimer=nexacro._OnceCallbackTimer.callonce(_a,_b,this.sticktime);}else{_b.call(_a);}};_pScrollManager._clearStickTimer=function(){if(this._sticktimer){this._sticktimer.destroy();delete this._sticktimer;this._sticktimer=null;}};_pScrollManager._recalcLayout=function(){if(this._owner){if(this._owner._resetLayoutTrack){this._owner._resetLayoutTrack();}if(this._owner._resetLayoutStick){this._owner._resetLayoutStick();}}};_pScrollManager._resetLayoutSize=function(){};_pScrollManager._resetLayoutBImg=function(){this._setcoversize=false;this._setcoverbimg=false;};_pScrollManager._resetLayoutBand=function(){this._setbandslist=false;this._setbandssize=false;};_pScrollManager._getOwnerItem=function(_a){if(this._owner&&this._owner._getItem){var _b=this._owner._getItem(_a,true);if(_b){return nexacro._isArray(_b)?_b:[_b];}}return null;};delete _pScrollManager;}if(!nexacro._ExpandManager){nexacro._ExpandConst={EXPANDSTAT_INIT:0,EXPANDSTAT_READY:1,EXPANDSTAT_EXPAND:2,EXPANDSTAT_UPDATE:3,EXPANDSTAT_FINISH:4,EXPANDSTAT_FINAL:0,EXPANDDIRTYPE_NONE:0,EXPANDDIRTYPE_HORZ:1,EXPANDDIRTYPE_VERT:2,EXPANDDIRTYPE_CONR:3,EXPANDDIRTYPE_CONVERT:{"none":0x0000,"horz":0x0001,"horzental":0x0001,"vert":0x0002,"vertical":0x0002,"corner":0x0003},EXPANDACTTYPE_NONE:0x0000,EXPANDACTTYPE_CLICK:0x0010,EXPANDACTTYPE_HOVER:0x0020,EXPANDACTTYPE_POPUP:0x0040,EXPANDACTTYPE_MASK:0x00F0,EXPANDACTTYPE_CONVERT:{"none":0x0000,"click":0x0010,"hover":0x0020,"popup":0x0040},EXPANDCTRLSET_NONE:0,EXPANDCTRLSET_BUTTON:1,EXPANDCTRLSET_CHECK:2,EXPANDCTRLSET_CUSTOM:3,EXPANDCTRLSET_CONVERT:{"none":0x0000,"button":0x0001,"check":0x0002,"custom":0x0003},EXPANDVISIBLE_NONE:0x0000,EXPANDVISIBLE_AUTO:0x0001,EXPANDVISIBLE_FIXED:0x0004,EXPANDVISIBLE_CONST:0x0010,EXPANDVISIBLE_NOSCROLL:0x0040,EXPANDVISIBLE_DEFAULT:0x1000,EXPANDVISIBLE_CONVERT:{"none":0x0000,"auto":0x0001,"fixed":0x0040,"const":0x0100,"default":0x1000},EXPANDARRANGE_DEFAULT:0,EXPANDARRANGE_OPPSITE:1,EXPANDARRANGE_CLABOVE:2,EXPANDARRANGE_CONVERT:{"default":0x0000,"opposite":0x0001,"above":0x0002},EXPANDCONST_END: -1};nexacro._ExpandManager=function(){this.expandtype=0;this.expandmode=0;this.expandstat=0;this.ctrlsettype=0;this.ctrlvisible=0;this.ctrlarrange=0;this.expandctrl=null;this.eventtarget=null;this.expandctxt=null;this.expandinfo=null;};var _pExpandManager=nexacro._createPrototype(Object,nexacro._ExpandManager);nexacro._ExpandManager.prototype=_pExpandManager;_pExpandManager._type_name="_ExpandManager";_pExpandManager.isInited=function(){return this.expandstat!=0;};_pExpandManager.isReady=function(){return this.expandstat==1;};_pExpandManager.isExpanding=function(){return this.expandstat==2;};_pExpandManager._convertExpandDirType=function(_a){return _a?nexacro._ExpandConst.EXPANDDIRTYPE_CONVERT[_a]:nexacro._ExpandConst.EXPANDDIRTYPE_NONE;};_pExpandManager._convertExpandActType=function(_a){return _a?nexacro._ExpandConst.EXPANDACTTYPE_CONVERT[_a]:nexacro._ExpandConst.EXPANDACTTYPE_CLICK;};_pExpandManager._convertExpandCtrlSet=function(_a){return _a?nexacro._ExpandConst.EXPANDCTRLSET_CONVERT[_a]:nexacro._ExpandConst.EXPANDCTRLSET_BUTTON;};_pExpandManager._convertExpandVisible=function(_a){return _a?nexacro._ExpandConst.EXPANDVISIBLE_CONVERT[_a]:nexacro._ExpandConst.EXPANDVISIBLE_CONST;};_pExpandManager._convertExpandArrange=function(_a){return _a?nexacro._ExpandConst.EXPANDARRANGE_CONVERT[_a]:nexacro._ExpandConst.EXPANDARRANGE_DEFAULT;};_pExpandManager.setExpand=function(_a,_b,_c){if(this.expandstat==_a){return this.onRecurrStatus(_a,_b,_c);}else{return this.onChangeStatus(this.expandstat,_a,_b,_c);}};_pExpandManager._checkRecurring=function(_a,_b,_c){return false;};_pExpandManager.onRecurrStatus=function(_a,_b,_c){if(this._checkRecurring(_b,_c)){return false;}switch(_a){case 0:this._setExpandClear();break;case 1:this._setExpandReady(_b,_c);break;case 2:this._setExpandExpand(_b,_c);break;case 3:this._setExpandUpdate(_b,_c);break;case 4:this._setExpandFinish(_b,_c);break;}};_pExpandManager.onChangeStatus=function(_a,_b,_c,_d){switch(_a){case 4:case 0:{switch(_b){case 1:this._setExpandReady(_c,_d);break;case 2:this._setExpandReady(_c,_d);this._setExpandExpand(_c,_d);break;case 3:this._setExpandReady(_c,_d);this._setExpandUpdate(_c,_d);break;case 4:this._setExpandFinish(_c,_d);break;}break;}case 1:{switch(_b){case 2:this._setExpandExpand(_c,_d);break;case 3:this._setExpandUpdate(_c,_d);break;case 4:this._setExpandFinish(_c,_d);break;case 0:this._setExpandFinish(_c,_d);this._setExpandClear();break;}break;}case 2:{switch(_b){case 3:this._setExpandUpdate(_c,_d);break;case 1:case 4:this._setExpandFinish(_c,_d);break;case 0:this._setExpandFinish(_c,_d);this._setExpandClear();break;}break;}case 3:{switch(_b){case 2:this._setExpandExpand(_c,_d);break;case 1:case 4:this._setExpandFinish(_c,_d);break;case 0:this._setExpandFinish(_c,_d);this._setExpandClear();break;}break;}}};_pExpandManager._setExpandLayout=function(_a,_b,_c,_d,_e){if(this.isInited()){return;}this.expandtype=this._convertExpandDirType(_a);this.expandmode=this._convertExpandActType(_b);this.ctrlsettype=this._convertExpandCtrlSet(_c);this.ctrlvisible=this._convertExpandVisible(_d);this.ctrlarrange=this._convertExpandArrange(_e);};_pExpandManager._setExpandControl=function(_a){this.expandctrl=_a;};_pExpandManager._setExpandContext=function(_a){this.expandctxt=_a;};_pExpandManager._setExpandEvent=function(_a){this.eventtarget=_a;};_pExpandManager._setExpandInfo=function(_a){this.expandinfo=_a;};_pExpandManager._clearExpandControl=function(){this.expandctrl=null;};_pExpandManager._clearExpandContext=function(){this.expandctxt=null;};_pExpandManager._clearExpandEvent=function(){this.eventtarget=null;};_pExpandManager._clearExpandInfo=function(){this.expnadinfo=null;};_pExpandManager._getCommandString=function(){var _a="";if(this.expandctrl){_a+=this.expandctrl.createCommand();}return _a;};_pExpandManager._setAttachHandle=function(_a){if(this.expandctrl){this.expandctrl.attachHandle(_a);}};_pExpandManager._setExpandClear=function(){this.expandstat=nexacro._ExpandConst.EXPANDSTAT_INIT;};_pExpandManager._setExpandReady=function(_a,_b){this.expandstat=nexacro._ExpandConst.EXPANDSTAT_READY;this.eventtarget._onExpandReady(this.expandctrl,_a,this.expandinfo=_b);};_pExpandManager._setExpandFinish=function(_a,_b){this.expandstat=nexacro._ExpandConst.EXPANDSTAT_FINISH;this.eventtarget._onExpandFinish(this.expandctrl,_a,this.expandinfo);this._setExpandReady(_a,_b);};_pExpandManager._setExpandExpand=function(_a,_b){this.expandstat=nexacro._ExpandConst.EXPANDSTAT_EXPAND;this.eventtarget._onExpandExpand(this.expandctrl,_a,this.expandinfo=_b);};_pExpandManager._setExpandUpdate=function(_a,_b){this.expandstat=nexacro._ExpandConst.EXPANDSTAT_UPDATE;this.eventtarget._onExpandUpdate(this.expandctrl,_a,this.expandinfo=_b);};_pExpandManager._recalcLayout=function(){this._resetLayoutSize();};_pExpandManager._resetLayoutSize=function(){};_pExpandManager._resetLayoutBImg=function(){};_pExpandManager._resetLayoutBand=function(){};_pExpandManager._clear=function(){this.setExpand(0);this._clearExpandControl();this._clearExpandContext();this._clearExpandEvent();this._clearExpandInfo();};delete _pExpandManager;}if(!nexacro._SelectManager){}if(!nexacro.ComplexComponent){nexacro.ComplexComponent=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){this._setInnerFlags();nexacro.SimpleComponent.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);};var _pComplexComponent=nexacro._createPrototype(nexacro.SimpleComponent,nexacro.ComplexComponent);nexacro.ComplexComponent.prototype=_pComplexComponent;_pComplexComponent._type_name="ComplexComponent";_pComplexComponent._is_simple_control=false;_pComplexComponent._is_format_layout=false;_pComplexComponent._is_panel_layout=false;_pComplexComponent._is_child=true;_pComplexComponent._is_items=false;_pComplexComponent._is_nc_layout=false;_pComplexComponent._use_translate_scroll=false;_pComplexComponent._use_translate_move=false;_pComplexComponent._use_container_move=false;_pComplexComponent._use_container_multi=false;_pComplexComponent._setInnerFlags=function(){this._setUseItems(false,false,false,false,false);this._setUseParts(false,1,1);this._setUseSelect(false);this._setUseScroll(false,false);this._setUseScrollCover(true);this._setUseScrollTrack(true);this._setUseScrollStick(true);this._setUseScrollTimer(300,300,600,300,0);this._setUseExpand(false,false);this._setUseExpandStatus(false);this._setUseBind(false,false,false,false,false);this._setUseExpr(false,false);};_pComplexComponent._setUseItems=function(_a,_b,_c,_d,_e){this._setUseHead(_a);this._setUseTail(_b);this._setUseMark(_c);this._setUseNull(_d);this._setUseClient(_e);};_pComplexComponent._setUseParts=function(_a,_b,_c){this._setUsePart(_a);this._add_partitem=_b;this._acc_partitem=_c;};_pComplexComponent._setUseHead=function(_a){this._use_headitem=_a;};_pComplexComponent._setUseTail=function(_a){this._use_tailitem=_a;};_pComplexComponent._setUseMark=function(_a){this._use_markitem=_a;};_pComplexComponent._setUseNull=function(_a){this._use_nullitem=_a;};_pComplexComponent._setUsePart=function(_a){this._use_partitem=_a;};_pComplexComponent._setUseClient=function(_a){this._use_clientem=_a;};_pComplexComponent._setUseSelect=function(_a){this._use_select=_a;this._use_selected_status=_a;};_pComplexComponent._setUseScroll=function(_a,_b){this._is_nc_scroll=_a;this._is_scrollable=_b;this._use_scrollmanager=_b;};_pComplexComponent._setUseScrollCover=function(_a){this._use_scrollcover=_a;};_pComplexComponent._setUseScrollTrack=function(_a){this._use_scrolltrack=_a;};_pComplexComponent._setUseScrollStick=function(_a){this._use_scrollstick=_a;};_pComplexComponent._setUseScrollTimer=function(_a,_b,_c,_d,_e){this._timeout_apper=_a;this._timeout_cover=_b;this._timeout_track=_c;this._timeout_ready=_d;this._timeout_stick=_e;};_pComplexComponent._setUseExpand=function(_a,_b){this._is_nc_expand=_a;this._is_expandable=_b;this._use_expandmanager=_b;};_pComplexComponent._setUseExpandStatus=function(_a){this._use_expand_status=_a;};_pComplexComponent._setUseBind=function(_a,_b,_c,_d,_e,_f,_g){this._is_databind=_a;this._is_levelbind=_b;this._is_xmlbind=_c;this._is_jsonbind=_d;this._is_fullbind=_e;};_pComplexComponent._setUseExpr=function(_a,_b){this._is_dataexpr=_a;this._is_fullexpr=_b;};_pComplexComponent._default_scrolleventthrottle=nexacro._Browser=="Runtime"?"none":"aniframe";_pComplexComponent._default_scrollcovertype="auto";_pComplexComponent._default_scrolltracktype=["trackbegun","trackmoved"];_pComplexComponent._default_scrolltrackalign=["tail tracktop"];_pComplexComponent.onCreateComponent=function(){var _a=this._getParentElement();if(_a){var _b=this._control_element;if(!_b){if(this._createControlElement(_a)){this._initControlElement();this._applyProperties();this._applyAccessibility();this._initLayouts();this._initNCChild();this._initBindInfo();this._initExprInfo();this._initContents();}}return true;}else{return false;}};_pComplexComponent.onCreated=function(_a){if(this._is_loading){return;}var _b=this._getParentElement();if(_b){_a=_a||this._getWindow();if(this._createdControlElement(_a)){this._initHotKey();if(!this._is_created){this._createdContents(_a);this._createdNCChild(_a);this._is_created=true;}this._initSubLayouts();this._recalcLayout(true);this._resetStatus();}}};_pComplexComponent.onDestroyComponent=function(){{this._is_created=false;this.onDestroyContents();}this._clearHotKey();this._clearBind();this._clearExpr();this._clearSelect();this._clearStatus();this._clearAccessibility();this._clearProperties();this._destroyPopup();this._destroyPopupChild();this._destroySelector();this._destroySelectorAssist();this._destroyNCChild();this._destroyLayouts();this._destroyControlElement();};_pComplexComponent._initNCChild=function(){this._createNCChild();};_pComplexComponent._createNCChild=function(){if(this._is_nc_scroll){this._createScroll();}if(this._is_nc_expand){this._createExpand();}if(this._is_nc_layout){if(this._is_nc_head){this.onCreateNCHeadControl();}if(this._is_nc_foot){this.onCreateNCFootControl();}if(this._is_nc_lead){this.onCreateNCLeadControl();}if(this._is_nc_tail){this.onCreateNCTailControl();}if(this._is_nc_leadtop){this.onCreateNCLeadTopControl();}if(this._is_nc_leadbottom){this.onCreateNCLeadBottomControl();}if(this._is_nc_tailtop){this.onCreateNCTailTopControl();}if(this._is_nc_tailbottom){this.onCreateNCTailBottomControl();}}};_pComplexComponent.onCreateNCHeadControl=function(){};_pComplexComponent.onCreateNCFootControl=function(){};_pComplexComponent.onCreateNCLeadControl=function(){};_pComplexComponent.onCreateNCTailControl=function(){};_pComplexComponent.onCreateNCLeadTopControl=function(){};_pComplexComponent.onCreateNCLeadBottomControl=function(){};_pComplexComponent.onCreateNCTailTopControl=function(){};_pComplexComponent.onCreateNCTailBottomControl=function(){};_pComplexComponent.createNCHeadControl=function(_a){if(_a&&_a.createComponent(true)){this._nchead=_a;return _a;}else{return null;}};_pComplexComponent.createNCFootControl=function(_a){if(_a&&_a.createComponent(true)){this._ncfoot=_a;return _a;}else{return null;}};_pComplexComponent.createNCLeadControl=function(_a){if(_a&&_a.createComponent(true)){this._nclead=_a;return _a;}else{return null;}};_pComplexComponent.createNCTailControl=function(_a){if(_a&&_a.createComponent(true)){this._nctail=_a;return _a;}else{return null;}};_pComplexComponent.createNCLeadTopControl=function(_a){if(_a&&_a.createComponent(true)){this._ncleadtop=_a;return _a;}else{return null;}};_pComplexComponent.createNCLeadBottomControl=function(_a){if(_a&&_a.createComponent(true)){this._ncleadbottom=_a;return _a;}else{return null;}};_pComplexComponent.createNCTailTopControl=function(_a){if(_a&&_a.createComponent(true)){this._nctailtop=_a;return _a;}else{return null;}};_pComplexComponent.createNCTailBottomControl=function(_a){if(_a&&_a.createComponent(true)){this._nctailbottom=_a;return _a;}else{return null;}};_pComplexComponent._createdNCChild=function(_a){if(this._is_nc_scroll){this._createdScroll(_a);}if(this._is_nc_expand){this._createdExpand(_a);}if(this._is_nc_layout){this._onCreatedNCChild(_a);}};_pComplexComponent._onCreatedNCChild=function(_a){if(this._is_nc_head&&this._nchead){this._nchead.onCreated(_a);}if(this._is_nc_foot&&this._ncfoot){this._ncfoot.onCreated(_a);}if(this._is_nc_lead&&this._nclead){this._nclead.onCreated(_a);}if(this._is_nc_tail&&this._nctail){this._nctail.onCreated(_a);}if(this._is_nc_leadtop&&this._nclt){this._nclt.onCreated(_a);}if(this._is_nc_leadbottom&&this._nclb){this._nclb.onCreated(_a);}if(this._is_nc_tailtop&&this._ncrt){this._ncrt.onCreated(_a);}if(this._is_nc_tailbottom&&this._ncrb){this._ncrb.onCreated(_a);}};_pComplexComponent._updateNCChild=function(){};_pComplexComponent._resetNCChild=function(_a){var _b=_a;if(this._is_scrollable&&this._is_nc_scroll){_b=this._resetScroll(_a)||_b;}if(this._is_expandable&&this._is_nc_expand){_b=this._resetExpand(_a)||_b;}if(this._is_nc_layout){_b=this._onResetNCChild(_a)||_b;}return _b;};_pComplexComponent._onResetNCChild=function(_a){return false;};_pComplexComponent._onGetNCHeadControlHeight=function(_a){return this._nchead.getPixelHeight();};_pComplexComponent._onGetNCFootControlHeight=function(_a){return this._ncfoot.getPixelHeight();};_pComplexComponent._onGetNCLeadControlWidth=function(_a){return this._nclead.getPixelWidth();};_pComplexComponent._onGetNCTailControlWidth=function(_a){return this._nclead.getPixelWidth();};_pComplexComponent._getNCChildren=function(){var _a=[];if(this._is_nc_scroll){if(this.vscrollbar&&this.vscrollbar.visible){_a.push(this.vscrollbar);}if(this.hscrollbar&&this.hscrollbar.visible){_a.push(this.hscrollbar);}}if(this._is_nc_expand){if(this.expandbar&&this.expandbar.visible){_a.push(this.expandbar);}}if(this._is_nc_head&&this._nchead){_a.push(this._nchead);}if(this._is_nc_foot&&this._ncfoot){_a.push(this._ncfoot);}if(this._is_nc_lead&&this._nclead){_a.push(this._nclead);}if(this._is_nc_tail&&this._nctail){_a.push(this._nctail);}if(this._is_nc_leadtop&&this._nclt){_a.push(this._nclt);}if(this._is_nc_leadbottom&&this._nclb){_a.push(this._nclb);}if(this._is_nc_tailtop&&this._ncrt){_a.push(this._ncrt);}if(this._is_nc_tailbottom&&this._ncrb){_a.push(this._ncrb);}return _a;};_pComplexComponent._destroyNCChild=function(){if(this._is_nc_scroll){this._destroyScroll();}if(this._is_nc_expand){this._destroyExpand();}if(this._is_nc_layout){this._onDestroyNCChild();}};_pComplexComponent._onDestroyNCChild=function(){if(this._is_nc_head&&this._nchead){this.onDestroyNCHeadControl();this._nchead=null;}if(this._is_nc_foot&&this._ncfoot){this.onDestroyNCFootControl();this._ncfoot=null;}if(this._is_nc_lead&&this._nclead){this.onDestroyNCLeadControl();this._nclead=null;}if(this._is_nc_tail&&this._nctail){this.onDestroyNCTailControl();this._nctail=null;}if(this._is_nc_leadtop&&this._nclt){this.onDestroyNCLeadTopControl();this._nclt=null;}if(this._is_nc_leadbottom&&this._nclb){this.onDestroyNCLeadBottomControl();this._nclb=null;}if(this._is_nc_tailtop&&this._ncrt){this.onDestroyNCTailTopControl();this._ncrt=null;}if(this._is_nc_tailbottom&&this._ncrb){this.onDestroyNCTailBottomControl();this._ncrb=null;}};_pComplexComponent.onDestroyNCHeadControl=function(){delete this._nchead;};_pComplexComponent.onDestroyNCFootControl=function(){delete this._ncfoot;};_pComplexComponent.onDestroyNCLeadControl=function(){delete this._nclead;};_pComplexComponent.onDestroyNCTailControl=function(){delete this._nctail;};_pComplexComponent.onDestroyNCLeadTopControl=function(){delete this._nclt;};_pComplexComponent.onDestroyNCLeadBottomControl=function(){delete this._nclb;};_pComplexComponent.onDestroyNCTailTopControl=function(){delete this._ncrt;};_pComplexComponent.onDestroyNCTailBottomControl=function(){delete this._ncrb;};_pComplexComponent._getContentsMaxWidth=function(_a){if(this._is_panel_layout&&this._panel){return this._panel._getPanelMaxWidth();}if(this._is_child||this._is_items){return this._onGetContentsMaxWidth(_a);}return this._onGetContainerMaxWidth(_a);};_pComplexComponent._getContentsMaxHeight=function(_a){if(this._is_panel_layout&&this._panel){return this._panel._getPanelMaxHeight();}if(this._is_child||this._is_items){return this._onGetContentsMaxHeight(_a);}return this._onGetContainerMaxHeight(_a);};_pComplexComponent._setContentsMaxSize=function(_a,_b,_c){var _d=this._control_element;if(_d&&this._is_scrollable){if(!nexacro._isNull(_a)&&nexacro._isNumber(_a)&&!nexacro._isNull(_b)&&nexacro._isNumber(_b)){_d.setElementScrollMaxSize(_a,_b);}}};_pComplexComponent.onCreateContents=function(){this._createFormats();this._createChild();this._createItems();if(this._use_clientem){nexacro.SimpleComponent.prototype.onCreateContents.call(this);}};_pComplexComponent.onCreatedContents=function(_a){this._update_position();this._createdFormats();this._createdChild(_a);this._createdItems(_a);if(this._use_clientem){nexacro.SimpleComponent.prototype.onCreatedContents.call(this,_a);}};_pComplexComponent.onClearContents=function(){this._clearPanel();this._destroyChild();this._destroyItems();this._clearScrollManager();this._clearExpandManager();nexacro.SimpleComponent.prototype.onClearContents.call(this);};_pComplexComponent.onDestroyContents=function(){this._onClearFormats();this.onClearContents();};_pComplexComponent._onSetContents=function(_a){if(this._is_format_layout&&this.set_formats){return this.set_formats(_a);}};_pComplexComponent._onGetContentsMaxWidth=function(_a){return this.container_maxwidth?this.container_maxwidth:this._onGetContainerInnerWidth();};_pComplexComponent._onGetContentsMaxHeight=function(_a){return this.container_maxheight?this.container_maxheight:this._onGetContainerInnerHeight();};_pComplexComponent._onGetContainerMaxWidth=function(_a){var _b=this._control_element;if(_b&&this._is_scrollable){return _b.container_maxwidth;}else{return this._onGetContentsMaxWidth(_a);}};_pComplexComponent._onGetContainerMaxHeight=function(_a){var _b=this._control_element;if(_b&&this._is_scrollable){return _b.container_maxheight;}else{return this._onGetContentsMaxHeight(_a);}};_pComplexComponent._onGetContainerInnerWidth=function(_a){var _b=this._control_element;if(_b){return _b.inner_width;}};_pComplexComponent._onGetContainerInnerHeight=function(_a){var _b=this._control_element;if(_b){return _b.inner_height;}};_pComplexComponent._recreateContents=function(){this._clearContents();this._initPanelLayout();this._initContents();this._createdContents(this._getWindow());this._recalcLayout(true);};_pComplexComponent._recreateChild=function(){if(this._is_created){this._recreateContents();}};_pComplexComponent._recreateItems=function(){if(this._is_created){this._recreateContents();}};_pComplexComponent._recreateSelector=function(){var _a=this._selectlist;if(_a){for(var _b=0,_c=_a.length;_b<_c;_b++ ){_a[_b]._recreateSelector();}}};_pComplexComponent.onPrepareCommand=function(){this._applyProperties();this._update_position();this._createFormats();this._recalcLayout(true);};_pComplexComponent.onCreateContentsCommand=function(){var _a="";_a+=nexacro.SimpleComponent.prototype.onCreateContentsCommand.call(this);if(this._is_child&&this._children){_a+=this.onCreateCommandChild();}if(this._is_items&&this._items){_a+=this.onCreateCommandItems();}return _a;};_pComplexComponent.onCreateCommandChild=function(){var _a="";var _b=this._getChildren();var _c=_b?_b.length:0;for(var _e=0;_e<_c;_e++ ){var _d=_b[_e];if(_d){_a+=_d.createCommand();}}return _a;};_pComplexComponent.onCreateCommandItems=function(){var _a="";var _b=this._getItems();var _c=_b?_b.length:0;for(var _e=0;_e<_c;_e++ ){var _d=_b[_e];if(_d){_a+=_d.createCommand();}}return _a;};_pComplexComponent.onCreateCommandNCChild=function(){var _a="";if(this._is_nc_scroll){if(this._use_scrollmanager){if(this._scrollmanager){_a+=this._scrollmanager._getCommandString();}}else{if(this.vscrollbar){_a+=this.vscrollbar.createCommand();}if(this.hscrollbar){_a+=this.hscrollbar.createCommand();}}}if(this._is_nc_expand){if(this._use_expandmanager){if(this._expandmanager){_a+=this._expandmanager._getCommandString();}}else{if(this.expandbar){_a+=this.expandbar.createCommand();}}}if(this._is_nc_layout){if(this._is_nc_head&&this._nchead){_a+=this._nchead.createCommand();}if(this._is_nc_foot&&this._ncfoot){_a+=this._ncfoot.createCommand();}if(this._is_nc_lead&&this._nclead){_a+=this._nclead.createCommand();}if(this._is_nc_tail&&this._nctail){_a+=this._nctail.createCommand();}if(this._is_nc_leadtop&&this._nclt){_a+=this._nclt.createCommand();}if(this._is_nc_leadbottom&&this._nclb){_a+=this._nclb.createCommand();}if(this._is_nc_tailtop&&this._ncrt){_a+=this._ncrt.createCommand();}if(this._is_nc_tailbottom&&this._ncrb){_a+=this._ncrb.createCommand();}}return _a;};_pComplexComponent.onAttachContentsHandle=function(_a){nexacro.SimpleComponent.prototype.onAttachContentsHandle.call(this,_a);if(this._is_child&&this._children){this.onAttachHandleChild(_a);}if(this._is_items&&this._items){this.onAttachHandleItems(_a);}if(this._is_nc_scroll||this._is_nc_expand||this._is_nc_layout){this._resetNCChild(false);}};_pComplexComponent.onAttachHandleChild=function(_a){var _b=this._getChildren();var _c=_b?_b.length:0;for(var _e=0;_e<_c;_e++ ){var _d=_b[_e];if(_d){_d.attachHandle(_a);}}};_pComplexComponent.onAttachHandleItems=function(_a){var _b=this._getItems();var _c=_b?_b.length:0;for(var _e=0;_e<_c;_e++ ){var _d=_b[_e];if(_d){_d.attachHandle(_a);}}};_pComplexComponent.onAttachHandleNCChild=function(_a){if(this._is_nc_scroll){if(this._use_scrollmanager){if(this._scrollmanager){this._scrollmanager._setAttachHandle(_a);}}else{if(this.vscrollbar){this.vscrollbar.attachHandle(_a);}if(this.hscrollbar){this.hscrollbar.attachHandle(_a);}}}if(this._is_nc_expand){if(this._use_expandmanager){if(this._expandmanager){this._expandmanager._setAttachHandle(_a);}}else{if(this.expandbar){this.expandbar.setAttachHandle(_a);}}}if(this._is_nc_layout){if(this._is_nc_head&&this._nchead){this._nchead.attachHandle(_a);}if(this._is_nc_foot&&this._ncfoot){this._ncfoot.attachHandle(_a);}if(this._is_nc_lead&&this._nclead){this._nclead.attachHandle(_a);}if(this._is_nc_tail&&this._nctail){this._nctail.attachHandle(_a);}if(this._is_nc_leadtop&&this._nclt){this._nclt.attachHandle(_a);}if(this._is_nc_leadbottom&&this._nclb){this._nclb.attachHandle(_a);}if(this._is_nc_tailtop&&this._ncrt){this._ncrt.attachHandle(_a);}if(this._is_nc_tailbottom&&this._ncrb){this._ncrb.attachHandle(_a);}}};_pComplexComponent._initLayouts=function(){this.onCreateLayouts();};_pComplexComponent._initSubLayouts=function(){if(this._is_format_layout){this._initSubFormatsLayout();}if(this._is_panel_layout){this._initSubPanelLayout();}if(this._is_child){}if(this._is_items){}};_pComplexComponent._initPopupSubLayouts=function(_a,_b,_c){if(!_a){return;}if(_b==undefined||_c==undefined){}{var _d=_a._getCurrentPopup();if(_d){_b=_d._start_index;_c=_d._start_level;}}if(this._is_format_layout){this._initPopupSubFormatLayout(_a,_b,_c);}if(this._is_panel_layout){this._initPopupSubPanelLayout(_a,_b,_c);}if(this._is_child){}if(this._is_items){}};_pComplexComponent.onCreateLayouts=function(){if(this._is_format_layout){this._formats=new nexacro._Formats();this._initFormatsLayout();}if(this._is_panel_layout){this._panel=new nexacro._Panel(this);this._initPanelLayout();}if(this._is_child){this._children=[];this._childlst={};this._leadchild=null;this._initChildLayout();}if(this._is_items){this._items=[];this._initItemsLayout();}};_pComplexComponent._clearLayouts=function(){};_pComplexComponent._destroyLayouts=function(){this.onDestroyLayouts();};_pComplexComponent.onDestroyLayouts=function(){if(this._is_format_layout){if(this._formats){this._formats._clear();delete this._formats;this._formats=null;}if(this._ctxtdata){this._clearCtxtBaseInfo();}}if(this._is_panel_layout){if(this._panel){this._panel._clear();delete this._panel;this._panel=null;}}if(this._is_child){if(this._childlst){this._childlst=null;}if(this._children){this._children=null;}if(this._leadchild){this._leadchild=null;}}if(this._is_items){if(this._items){this._items=null;}}};_pComplexComponent._initChildLayout=function(){this._onInitChildLayout();};_pComplexComponent._initItemsLayout=function(){this._onInitItemsLayout();};_pComplexComponent._initSubChildLayout=function(){this._onInitSubChildLayout();};_pComplexComponent._initSubItemsLayout=function(){this._onInitSubItemsLayout();};_pComplexComponent._onInitChildLayout=function(){};_pComplexComponent._onInitItemsLayout=function(){};_pComplexComponent._onInitSubChildLayout=function(){};_pComplexComponent._onInitSubItemsLayout=function(){};_pComplexComponent._initPanelLayout=function(){{this._onInitPanelLayout();}};_pComplexComponent._initSubPanelLayout=function(){if(this._panel){if(this._is_nc_layout){this._initSubPanelNCChildLayout();}if(this._is_child){this._initSubPanelChildLayout();}if(this._is_items){this._initSubPanelItemsLayout();}}};_pComplexComponent._initPopupSubPanelLayout=function(_a,_b,_c){this._initPanelSubStartInfo(_b,_c);if(this._panel){if(this._is_nc_layout){this._initPopupSubPanelNCChildLayout(_a,_b,_c);}if(this._is_child){this._initPopupSubPanelChildLayout(_a,_b,_c);}if(this._is_items){this._initPopupSubPanelItemsLayout(_a,_b,_c);}}};_pComplexComponent._initPopupSubFormatLayout=function(_a,_b,_c){};_pComplexComponent._onInitPanelLayout=function(){var _a=this._panel;if(_a){_a._setLayoutType(nexacro._PanelConst.LAYOUTSTYLE_DEFAULT);_a._setSizeInfoRefPanel(null,nexacro._PanelConst.SIZEINFO_REFSTYLE_NOLINK);_a._setGroupingSubPanel(null,nexacro._PanelConst.GROUPING_SUBSTYLE_NONE,nexacro._PanelConst.GROUPING_SUBPLACE_NONE);_a._setSlotVisibleType(nexacro._PanelConst.SLOT_VISIBLETYPE_HIDESLOT);_a._setSlotArrangeType(nexacro._PanelConst.SLOT_ARRANGETYPE_COLFIRST);_a._setSlotOverFlowType(nexacro._PanelConst.SLOT_OVERFLOWTYPE_SCROLL|nexacro._PanelConst.SLOT_OVERFLOWTYPE_FULLSLOT);_a._setSlotSelectorType(nexacro._PanelConst.SLOT_SELECTORTYPE_NONE);_a._setSlotAutoSizeType(nexacro._PanelConst.SLOT_AUTOSIZETYPE_DEFAULT);_a._setSlotSizeMoveType(nexacro._PanelConst.SLOT_SIZEMOVETYPE_NONE);_a._setSlotBandFixType(true,false,true);_a._setSlotTargetCount(1,1,1);_a._resetPanelColSize(0,0);_a._resetPanelRowSize(0,0);_a._setPanelLimitHeight(this._getPanelLimitHeight());}};_pComplexComponent._initSubPanelNCChildLayout=function(){if(this._nchead&&this._nchead._is_panel_layout){this._onInitSubPanelNCChildLayout(this._nchead,this.panel);}if(this._ncfoot&&this._ncfoot._is_panel_layout){this._onInitSubPanelNCChildLayout(this._ncfoot,this.panel);}if(this._nclead&&this._nclead._is_panel_layout){this._onInitSubPanelNCChildLayout(this._nclead,this.panel);}if(this._nctail&&this._nctail._is_panel_layout){this._onInitSubPanelNCChildLayout(this._nctail,this.panel);}};_pComplexComponent._initSubPanelChildLayout=function(){var _a=this._getChildren();var _b=_a?_a.length:0;for(var _d=0;_d<_b;_d++ ){var _c=_a[_d];if(_c&&_c._is_panel_layout){this._onInitSubPanelChildLayout(_c,this.panel);}}};_pComplexComponent._initSubPanelItemsLayout=function(){var _a=this._getItems();var _b=_a?_a.length:0;for(var _d=0;_d<_b;_d++ ){var _c=_a[_d];if(_c&&_c._is_panel_layout){this._onInitSubPanelItemsLayout(_c,this.panel);}}};_pComplexComponent._setChildSubLayoutInfo=function(_a){if(_a&&_a._is_panel_layout){this._onInitSubPanelChildLayout(_a,this.panel);}};_pComplexComponent._setItemSubLayoutInfo=function(_a,_b,_c){if(_a&&_a._is_panel_layout){this._onInitSubPanelItemsLayout(_a,this.panel,_b,_c);}};_pComplexComponent._onInitSubPanelNCChildLayout=function(_a,_b){};_pComplexComponent._onInitSubPanelChildLayout=function(_a,_b){};_pComplexComponent._onInitSubPanelItemsLayout=function(_a,_b){};_pComplexComponent._initPopupSubPanelNCChildLayout=function(_a,_b,_c){return this._onInitPopupSubPanelNCChildLayout(_a,_b,_c);};_pComplexComponent._initPopupSubPanelChildLayout=function(_a,_b,_c){return this._onInitPopupSubPanelChildLayout(_a,_b,_c);};_pComplexComponent._initPopupSubPanelItemsLayout=function(_a,_b,_c){return this._onInitPopupSubPanelItemsLayout(_a,_b,_c);};_pComplexComponent._createPanel=function(){};_pComplexComponent._clearPanel=function(){var _a=this._panel;if(_a){_a._clear();}};_pComplexComponent._onInitPopupSubPanelNCChildLayout=function(_a,_b,_c){};_pComplexComponent._onInitPopupSubPanelChildLayout=function(_a,_b,_c){};_pComplexComponent._onInitPopupSubPanelItemsLayout=function(_a,_b,_c){};_pComplexComponent._getPanel=function(){return this._panel;};_pComplexComponent._getPanelSlot=function(_a){var _b=this._getPanel();if(_b){return _b._getPanelSlot(_a);}return null;};_pComplexComponent._getPanelLimitHeight=function(){if(nexacro._Browser=="IE"||(nexacro._Browser=="Edge"&&nexacro._BrowserType=="Edge")){return nexacro._PanelConst.PANEL_MAXHEIGHT_IE;}if(nexacro._Browser=="Gecko"){return nexacro._PanelConst.PANEL_MAXHEIGHT_GECKO;}return nexacro._PanelConst.PANEL_MAXHEIGHT_DEFAULT;};_pComplexComponent._clearPanelSlot=function(){var _a=this._panel;if(_a){if(_a._isPartSlot()){_a._clearPanelSlot(this._getBindCount()+this._head_count+this._tail_count);}else{_a._clearPanelSlot();}}};_pComplexComponent._isRowFirst=function(){return this._panel?this._panel._isRowFirst():this._isColFirst!=true;};_pComplexComponent._isColFirst=function(){return this._panel?this._panel._isColFirst():this._isColFirst==true;};_pComplexComponent._resetPanelSlot=function(_a,_b,_c,_d,_e,_f){var _g=this._panel;if(_g){var _h;var _i,_j;var _k=this._is_levelbind&&this._databind!=null;var _l=this._is_format_layout&&this._formats!=null;var _m=this._is_child&&_a==this._children;var _n=this._is_items&&_a==this._items&&this._use_partitem;var _o=_g._panel_layout==0;var _p=_g._panel_idxstart?_g._panel_idxstart:0;var _q=_g._panel_lvlstart?_g._panel_lvlstart:0;var _r=nexacro._PanelSlotConst.STATUS_NONE;var _s=nexacro._PanelSlotConst.STATUS_NONE;var _t=false;var _u=false;switch(_g._panel_subgroup&nexacro._PanelConst.GROUPING_SUBSTYLE_GROUP_MASK){case nexacro._PanelConst.GROUPING_SUBSTYLE_GROUP_EXPAND:_r=nexacro._PanelSlotConst.STATUS_EXPAND;break;case nexacro._PanelConst.GROUPING_SUBSTYLE_GROUP_COLLAPSE:case nexacro._PanelConst.GROUPING_SUBSTYLE_GROUP_ACCORDION:_r=nexacro._PanelSlotConst.STATUS_COLLPASE;_t=true;break;case nexacro._PanelConst.GROUPING_SUBSTYLE_GROUP_POPUP:_r=nexacro._PanelSlotConst.STATUS_COLLPASE;_t=true;_u=true;break;}switch(_g._panel_subgroup&nexacro._PanelConst.GROUPING_SUBSTYLE_BAND_MASK){case nexacro._PanelConst.GROUPING_SUBSTYLE_BAND_EXPAND:_s=nexacro._PanelSlotConst.STATUS_EXPAND;break;case nexacro._PanelConst.GROUPING_SUBSTYLE_BAND_COLLAPSE:_s=nexacro._PanelSlotConst.STATUS_COLLPASE;break;case nexacro._PanelConst.GROUPING_SUBSTYLE_BAND_ACCORDION:_s=nexacro._PanelSlotConst.STATUS_COLLPASE;break;case nexacro._PanelConst.GROUPING_SUBSTYLE_BAND_POPUP:_s=nexacro._PanelSlotConst.STATUS_COLLPASE;break;}var _v=0;var _w=0;var _x=0;var _y=0;var _z=_a?_a.length:0;var _aa=this._getBindCount();var _ab=_aa?0:this._null_count;var _ac=0;var _ad;var _ae;if(_m){_v=0;_ac=_z;}else{_aa=_aa?_aa:_ab;_i=_b<0||_c<0;_j=_b<0||_c<0;if(_f){if(_f<0){if(_f< -_c){_v=_b-_d;if(_v<0){_v=0;}_ac=_v+_c+_d+_e;if(_ac>=_aa){_ac=_aa;}}else{_v=_b-_d+(_f+1);if(_v<0){_v=0;}_ac=_v+_c;if(_ac>=_aa){_ac=_aa;}}}if(_f>0){if(_f>_c){_v=_b-_d;if(_v<0){_v=0;}_ac=_v+_c+_d+_e;if(_ac>=_aa){_ac=_aa;}}else{_v=_b+_c-(_f-1);if(_v>=_aa){_v=_aa;}_ac=_v+_c;if(_ac>=_aa){_ac=_aa;}}}_w=_ab? -4:_v-(this._head_count?this._head_count:0);_x=0;if(_v>=0){_x=this._use_headitem?this._getPanelSlotTargetCount( -1):0;_x+=_w>0?_w* this._getPanelSlotTargetCount(0):0;}}else{_ad=this._use_headitem&&this._head_count?this._head_count:0;_ae=this._use_tailitem&&this._tail_count?this._tail_count:0;_v=(!_b||_b<0||_i||_j)?(_y-_ad):Math.max(_y+_b-_d,0);_ac=(!_c||_c<0||_i||_j)?(_aa+_ae):Math.min(_v+_c+_d+_e,_aa);_w=_ab? -4:_v;_x=0;if(!_i&&!_j){_x=_ad* this._getPanelSlotTargetCount( -1);_x+=_w>0?_w* this._getPanelSlotTargetCount(0):0;}}}if(!_g._panel_showslot){var _af;var _ag,_ah,_ai;if(_l){if(_u&&_k&&_t){for(;_x<_z&&_v<_ac;_v++ ,_w++ ){_ag=this._fetchLevelBindValue(_w);if(_ag==_q||_w<_p){_h=_g._getPanelSlot(_v,true);if(_h){_h._setSlotIndex(_w<_p? -1:_w);_h._setSlotLevel(_ag);_h._setSlotStatusSet(_r,_s);if(_o){_ah=this._fetchFormatsRowCols(_w);_af=_ah.length;_h._setSlotRowCols(_ah);}else{_ai=this._fetchFormatsPosition(_w);_af=_ai.length;_h._setSlotPosition(_ai);}if(_af>1){_h._setSlotTarget(_n?this._getItem(_w):this._getSubArray(_a,_x,_af));_x+=_af;}else{_h._setSlotTarget(_n?this._getItem(_w):_a[_x]);_x++ ;}}else{_x++ ;}}else if(_ag>_q){continue;}else{break;}}}else{for(;_x<_z&&_v<_ac;_v++ ,_w++ ){_h=_g._getPanelSlot(_v,true);if(_h){_h._setSlotIndex(_w);_h._setSlotStatusSet(_r,_s);if(_k){_ag=this._fetchLevelBindValue(_w);_h._setSlotLevel(_ag);_h._setSlotVisible(!_t||_ag<=_q);}if(_o){_ah=this._fetchFormatsRowCols(_w);_af=_ah.length;_h._setSlotRowCols(_ah);}else{_ai=this._fetchFormatsPosition(_w);_af=_ai.length;_h._setSlotPosition(_ai);}if(_af>1){_h._setSlotTarget(_n?this._getItem(_w):this._getSubArray(_a,_x,_af));_x+=_af;}else{_h._setSlotTarget(_n?this._getItem(_w):_a[_x]);_x++ ;}}else{_x++ ;}}}for(;_v<_ac;_v++ ){_h=_g._getPanelSlot(_v,true);if(_h){if(_o){_h._setSlotRowCols();}else{_h._setSlotPosition();}}}}else{if(_u&&_k&&_t){for(;_x<_z&&_v<_ac;_v++ ,_w++ ){_ag=this._fetchLevelBindValue(_w);if(_ag==_q||_w<_p){_h=_g._getPanelSlot(_v,true);if(_h){_h._setSlotIndex(_w<_p? -1:_w);_h._setSlotLevel(_ag);_h._setSlotStatusSet(_r,_s);if(_o){_h._setSlotRowCols();}else{_h._setSlotPosition();}_af=this._getPanelSlotTargetCount(_w);if(_af>1){_h._setSlotTarget(_n?this._getItem(_w):this._getSubArray(_a,_x,_af));_x+=_af;}else{_h._setSlotTarget(_n?this._getItem(_w):_a[_x]);_x++ ;}}else{_x++ ;}}else if(_ag>_q){continue;}else{break;}}}else{for(;_x<_z&&_v<_ac;_v++ ,_w++ ){_h=_g._getPanelSlot(_v,true);if(_h){_h._setSlotIndex(_w);_h._setSlotStatusSet(_r,_s);if(_k){_ag=this._fetchLevelBindValue(_w);_h._setSlotLevel(_ag);_h._setSlotVisible(!_t||_ag<=_q);}if(_o){_h._setSlotRowCols();}else{_h._setSlotPosition();}_af=this._getPanelSlotTargetCount(_w);if(_af>1){_h._setSlotTarget(_n?this._getItem(_w):this._getSubArray(_a,_x,_af));_x+=_af;}else{_h._setSlotTarget(_n?this._getItem(_w):_a[_x]);_x++ ;}}}}for(;_v<_ac;_v++ ){_h=_g._getPanelSlot(_v,true);if(_h){if(_o){_h._setSlotRowCols();}else{_h._setSlotPosition();}}}}}else{_h=new nexacro._PanelSlot(null,new nexacro._IconText("view"));if(_h){_g._addPanelSlot(_h);}}}};_pComplexComponent._showPanelItemSlot=function(_a,_b,_c,_d,_e,_f,_g,_h){var _i=this._panel;if(_i&&this._use_partitem&&_a){var _j=this._is_levelbind&&this._databind!=null;var _k=this._is_format_layout&&this._formats!=null;var _l=_i._panel_idxstart?_i._panel_idxstart:0;var _m=_i._panel_lvlstart?_i._panel_lvlstart:0;var _n=false;var _o=false;switch(_i._panel_subgroup&nexacro._PanelConst.GROUPING_SUBSTYLE_GROUP_MASK){case nexacro._PanelConst.GROUPING_SUBSTYLE_GROUP_EXPAND:break;case nexacro._PanelConst.GROUPING_SUBSTYLE_GROUP_COLLAPSE:case nexacro._PanelConst.GROUPING_SUBSTYLE_GROUP_ACCORDION:_n=true;break;case nexacro._PanelConst.GROUPING_SUBSTYLE_GROUP_POPUP:_n=true;_o=true;break;}var _p=0;var _q=0;var _r=0;var _s=0;var _t=_a.length;var _u=this._getBindCount();var _v=0;var _w=this._use_headitem&&this._head_count?this._head_count:0;_p=(!_b||_b<0)?_s:Math.max(_s+_b-_d,0);_v=(!_c||_c<0)?_u:Math.min(_p+_c+_d+_e,_u);_q=_p;_r=_w* this._getPanelSlotTargetCount( -1)+_q* this._getPanelSlotTargetCount(0);if(!_i._panel_showslot){var _x;var _y;if(_k){if(_o&&_j&&_n){for(;_r<_t&&_p<_v;_p++ ,_q++ ){_x=this._fetchLevelBindValue(_q);if(_x==_m||_q<_l){_y=_i._getPanelSlot(_p,true);if(_y){if(_g===false){_y._clearSlotTarget(this._delItem(_q,true));}else{_y._placeSlotTarget(this._getItem(_q,true));}_r+=this._getPanelSlotTargetCount(_q);}else{_r++ ;}}else if(_x>_m){continue;}else{break;}}}else{for(;_r<_t&&_p<_v;_p++ ,_q++ ){_y=_i._getPanelSlot(_p,true);if(_y){if(_g===false){_y._clearSlotTarget(this._delItem(_q,true));}else{_y._placeSlotTarget(this._getItem(_q,true));}_r+=this._getPanelSlotTargetCount(_q);}else{_r++ ;}}}}else{if(_o&&_j&&_n){for(;_r<_t&&_p<_v;_p++ ,_q++ ){_x=this._fetchLevelBindValue(_q);if(_x==_m||_q<_l){_y=_i._getPanelSlot(_p,true);if(_y){if(_g===false){_y._clearSlotTarget(this._delItem(_q,true));}else{_y._placeSlotTarget(this._getItem(_q,true));}_r+=this._getPanelSlotTargetCount(_q);}else{_r++ ;}}else if(_x>_m){continue;}else{break;}}}else{for(;_r<_t&&_p<_v;_p++ ,_q++ ){_y=_i._getPanelSlot(_p,true);if(_y){if(_g===false){_y._clearSlotTarget(this._delItem(_q,true));}else{_y._placeSlotTarget(this._getItem(_q,true));}_r+=this._getPanelSlotTargetCount(_q);}}}}}else{}}};_pComplexComponent._hidePanelItemSlot=function(_a,_b,_c,_d,_e,_f){if(this._use_partitem){var _g=0;var _h=_b-_d;var _i=_b+_c+_e;var _j=this._getBindCount();if(_h&&_g<_h){this._showPanelItemSlot(_a,_g,_h,0,0,0,false,0);}if(_j&&_i<_j){this._showPanelItemSlot(_a,_i,_j,0,0,0,false,0);}}};_pComplexComponent._makePanelItemSlot=function(_a,_b,_c,_d,_e,_f,_g){if(this._use_partitem&&_a&&_a.length){var _h=this._head_count?this._head_count:0;var _i=this._tail_count?this._tail_count:0;var _j=this._getBindCount();if(!_f){var _k=_c* this._add_partitem* this._acc_partitem;var _l=_b;var _m=_b+_c;var _n=_j;if(_l-_d>_h){var _o=_l-_k;var _p=_k-_d;if(_o<_h){_p+=_o;_o=0;}if(_p>_h){this._showPanelItemSlot(_a,_o,_p,0,0,0,true,0);this._setItemScrollPrevCount(_p+_d);this._resetItemScrollFullSize(_g);}}if(_m+_e<_n){var _q=_m+_e;var _r=_n-(_m+_k);var _s=_k-_e;if(_r<_i){_s+=_r;}if(_s>_i){this._showPanelItemSlot(_a,_q,_s,0,0,0,true,0);this._setItemScrollNextCount(_s+_e);this._resetItemScrollFullSize(_g);}}return true;}if(_f== -1){var _t=0;var _u=_h;if(_u>0){this._showPanelItemSlot(_a,_t,_u,0,0,0,true, -1);}return true;}if(_f== -2){var _v=_h+_j;var _w=_i;if(_w>0){this._showPanelItemSlot(_a,_v,_w,0,0,0,true, -2);}return true;}}};_pComplexComponent._makePanelItemTrackCover=function(_a,_b,_c,_d,_e,_f,_g){if(this._scrollmanager._setcoverbimg||!this._is_created){return;}if(this._use_partitem&&_a&&_a.length){var _h=this._onGetScrollCoverType();switch(_h){case "none":case "blur":break;case "auto":{}break;}}};_pComplexComponent._makePanelItemTrackBands=function(_a,_b,_c,_d,_e,_f,_g){if(this._scrollmanager._setbandslist||!this._is_created){return null;}if(this._use_partitem&&_a&&_a.length){var _h=0;var _i=this._getCtxtData( -3);var _j=this._getBindData(_h);if(!_i||!_i.length){return null;}var _k=this.onCreateItem(_i,_j,_h,true);if(_k){this._setItemIndex(_k,_h);this._setCtxtItemInfo(_k,_i,_h);this._setBindItemInfo(_k,_j,_h);this._setItemSubLayoutInfo(_k,_j,_h);this._createdItem(_k,this._getWindow());return _k.length?_k:[_k];}}return null;};_pComplexComponent._makePanelItemStickItems=function(_a,_b,_c,_d){if(this._scrollmanager._setstickitem){return null;}var _e=[];var _f=this._head_count&&this._use_headitem?this._head_count:0;if(_a&&_a.length){for(var _h=_b,_i=Math.min(_b+_c,_a.length);_h<_i;_h++ ){var _g=_a[_h];if(_g){_e.push(_h-_f);}}}return _e;};_pComplexComponent._trackPanelItemSlot=function(_a){if(this._scrollmanager){return this._scrollmanager._actionTrack(_a,this,this._callbackApper,this._callbackPause,this._callbackClose);}if(this._expandmanager){return this._expandmanager._actionTrack(_a,this,this._callbackApper,this._callbackPause,this._callbackClose);}};_pComplexComponent._readyPanelItemSlot=function(_a){if(this._scrollmanager){return this._scrollmanager._actionReady(_a,this,this._callbackReady);}if(this._expandmanager){return this._expandmanager._actionReady(_a,this,this._callbackReady);}};_pComplexComponent._apperPanelItemSlot=function(_a,_b){this._callbackApper(_b?_b:null);};_pComplexComponent._stickPanelItemSlot=function(_a){this._callbackStick(_a?true:false);};_pComplexComponent._callbackPause=function(){if(this._use_partitem){if(this._use_scrollmanager&&this._scrollmanager){this._scrollmanager._actionTrackCover("trackend");}{}}};_pComplexComponent._callbackClose=function(){if(this._use_partitem){if(this._use_scrollmanager&&this._scrollmanager){this._scrollmanager._actionTrackBands("trackend");}{}}};_pComplexComponent._callbackApper=function(_a){if(this._use_partitem){if(_a===undefined){_a=this._isRowFirst()?this._calcItemScrollInfo(this._hscroll_pos,true):this._calcItemScrollInfo(this._vscroll_pos,false);}if(_a!==0){var _b=this._getItemScrollViewStart();var _c=this._getItemScrollViewCount();var _d=this._getItemScrollPrevCount();var _e=this._getItemScrollNextCount();this._showPanelItemSlot(this._getItems(),_b,_c,_d,_e,_a);}}};_pComplexComponent._callbackReady=function(){if(this._use_partitem){var _a=this._isRowFirst();var _b=this._getItemScrollViewStart();var _c=this._getItemScrollViewCount();var _d=this._getItemScrollPrevCount();var _e=this._getItemScrollNextCount();if(this._use_headitem){this._makePanelItemSlot(this._getItems(),_b,_c,_d,_e, -1,_a);}if(this._use_tailitem){this._makePanelItemSlot(this._getItems(),_b,_c,_d,_e, -2,_a);}if(this._use_partitem){this._makePanelItemSlot(this._getItems(),_b,_c,_d,_e,0,_a);_d=this._getItemScrollPrevCount();_e=this._getItemScrollNextCount();this._hidePanelItemSlot(this._getItems(),_b,_c,_d,_e,0,_a);}this._resetLayoutTrack();this._resetScrollStatus();}};_pComplexComponent._callbackStick=function(_a){if(this._use_headitem||this._use_tailitem||this._use_fixitem){if(this._use_scrollmanager&&this._scrollmanager){if(_a){this._scrollmanager._showStickItemLead(this._vscroll_pos,this._hscroll_pos);this._scrollmanager._showStickItemTail(this._vscroll_pos,this._hscroll_pos);}else{this._scrollmanager._hideStickItemLead(this._vscroll_pos,this._hscroll_pos);this._scrollmanager._hideStickItemTail(this._vscroll_pos,this._hscroll_pos);}}{}}};_pComplexComponent._resetLayoutTrack=function(){if(!this._is_created){return;}if(this._use_scrollmanager&&this._scrollmanager){var _a=this._isRowFirst();var _b=this._getItemScrollViewStart();var _c=this._getItemScrollViewCount();var _d=this._getItemScrollPrevCount();var _e=this._getItemScrollNextCount();this._scrollmanager._resetLayoutBand();this._scrollmanager._resetLayoutBImg();if(this._use_scrollcover&&!this._scrollmanager._isInitTrackCover()){this._scrollmanager._initTrackCover(this,this._makePanelItemTrackCover(this._getItems(),_b,_c,_d,_e,0,_a),this._getContentsMaxWidth(),this._getContentsMaxHeight());}if(this._use_scrolltrack&&!this._scrollmanager._isInitTrackBands()){this._scrollmanager._initTrackBands(this,this._makePanelItemTrackBands(this._getItems(),_b,_c,_d,_e,0,_a),this._getClientWidth(),this._getClientHeight());}}};_pComplexComponent._resetLayoutStick=function(){var _a=this._isRowFirst();var _b=this._getItems();if(!_b||_b.length<=0){return;}var _c=this._getItemScrollFixLeadCount();var _d=this._getItemScrollFixTailCount();var _e=0;var _f=_b.length-_d-1;this._setsticksize=false;if(this._use_scrollstick&&!this._scrollmanager._isInitStickItems()){this._scrollmanager._initStickItems(this,this._makePanelItemStickItems(_b,_e,_c,_a),this._makePanelItemStickItems(_b,_f,_d,_a),this._getClientWidth(),this._getClientHeight());}};_pComplexComponent._recalcPanelChildSlot=function(){var _a=this._panel;if(_a){switch(_a._panel_layout){case 0:{_a._recalcPanelSlotRowCol(this._onGetChildAreaWidth(),this._onGetChildAreaHeight(),false);break;}case 1:{_a._recalcPanelSlotPosition(this._onGetChildAreaWidth(),this._onGetChildAreaHeight(),false);break;}default:{this._onRecalcPanelChildSlot();break;}}}};_pComplexComponent._recalcPanelItemSlot=function(_a){var _b=this._panel;if(_b){switch(_b._panel_layout){case 0:{_b._recalcPanelSlotRowCol(this._onGetItemsAreaWidth(),this._onGetItemsAreaHeight(),true,_a);break;}case 1:{_b._recalcPanelSlotPosition(this._onGetItemsAreaWidth(),this._onGetItemsAreaHeight(),true,_a);break;}default:{this._onRecalcPanelItemsSlot(_a);break;}}}};_pComplexComponent._onRecalcPanelChildLayout=function(_a){};_pComplexComponent._onRecalcPanelItemsLayout=function(_a){};_pComplexComponent._onRecalcPanelChildSlot=function(){};_pComplexComponent._onRecalcPanelItemsSlot=function(_a){};_pComplexComponent._setPanelCtxtInfo=function(_a,_b){if(_a){var _c=this._panel;var _d,_e,_f,_g;switch(_c._panel_layout){case 0:case 1:{_c._clearPanelSize();switch(_b){case 0:{var _h=_a._getRowSizes();var _i=_a._getColSizes();if(_h){_c._resetPanelRowSizeArray(_h.length,_h);}if(_i){_c._resetPanelColSizeArray(_i.length,_i);}_d=this._fetchFormatsRowCols( -1).length;_e=this._fetchFormatsRowCols(0).length;_f=this._fetchFormatsRowCols( -2).length;_c._setSlotTargetCount(_d,_e,_f);_c._setPanelFixedSlotCount(_d?1:0,_f?1:0);break;}case 1:{_d=this._fetchFormatsPosition( -1).length;_e=this._fetchFormatsPosition(0).length;_f=this._fetchFormatsPosition( -2).length;_g=this._fetchFormatsPosition( -4).length;_c._setSlotTargetCount(_d,_e?_e:_e+_g,_f);_c._setPanelFixedSlotCount(_d?1:0,_f?1:0);break;}default:{break;}}break;}default:{this._onSetPanelCtxtInfo(_a);break;}}}};_pComplexComponent._onSetPanelCtxtInfo=function(){};_pComplexComponent._setPanelSizeRefInfoLink=function(_a,_b){if(_a){var _c=this._panel;var _d=_a._panel;if(_c&&_d){_c._setSizeInfoRefPanel(_d,_b);}}};_pComplexComponent._setPanelGroupSubInfoLink=function(_a,_b){if(_a){var _c=this._panel;var _d=_a._panel;if(_c&&_d){_c._setGroupingSubPanel(_d,_b);}}};_pComplexComponent._setPanelGroupExpand=function(_a,_b,_c){var _d=this._panel;if(_d){var _e=this._head_count&&this._use_headitem?this._head_count:0;_d._setPanelSlotStatusExpand(_a+_e,_b);}if(_c!=false){this._recalcLayout(false);}};_pComplexComponent._setPanelGroupCollapase=function(_a,_b,_c){var _d=this._panel;if(_d){var _e=this._head_count&&this._use_headitem?this._head_count:0;_d._setPanelSlotStatusCollapse(_a+_e,_b);}if(_c!=false){this._recalcLayout(false);}};_pComplexComponent._setPanelGroupToggle=function(_a,_b,_c){var _d=this._panel;if(_d){var _e=this._head_count&&this._use_headitem?this._head_count:0;_d._setPanelSlotStatusToggle(_a+_e,_b);}if(_c!=false){this._recalcLayout(false);}};_pComplexComponent._isPanelSubGroupExpand=function(){return this._panel?(this._panel._panel_subgroup&nexacro._PanelConst.GROUPING_SUBSTYLE_GROUP_MASK)==nexacro._PanelConst.GROUPING_SUBSTYLE_GROUP_EXPAND:false;};_pComplexComponent._isPanelSubGroupCollapse=function(){return this._panel?(this._panel._panel_subgroup&nexacro._PanelConst.GROUPING_SUBSTYLE_GROUP_MASK)==nexacro._PanelConst.GROUPING_SUBSTYLE_GROUP_COLLAPSE:false;};_pComplexComponent._isPanelSubGroupPopup=function(){return this._panel?(this._panel._panel_subgroup&nexacro._PanelConst.GROUPING_SUBSTYLE_GROUP_MASK)==nexacro._PanelConst.GROUPING_SUBSTYLE_GROUP_POPUP:false;};_pComplexComponent._setPanelBandExpand=function(_a,_b,_c){var _d=this._panel;if(_d&&_d._panel_subgroup&&_a!==undefined){if(nexacro._isArray(_a)){for(var _e=0,_f=_a.length;_e<_f;_e++ ){_d._setPanelSlotStatusBandExpand(_a[_e]+this._head_count,_b);}}else{_d._setPanelSlotStatusBandExpand(_a+this._head_count,_b);}if(_c!=false){this._recalcLayout(false);}}};_pComplexComponent._setPanelBandCollapse=function(_a,_b,_c){var _d=this._panel;if(_d&&_d._panel_subgroup&&_a!==undefined){if(nexacro._isArray(_a)){for(var _e=0,_f=_a.length;_e<_f;_e++ ){_d._setPanelSlotStatusBandCollapse(_a[_e]+this._head_count,_b);}}else{_d._setPanelSlotStatusBandCollapse(_a+this._head_count,_b);}if(_c!=false){this._recalcLayout(false);}}};_pComplexComponent._setPanelBandToggle=function(_a,_b,_c){var _d=this._panel;if(_d&&_d._panel_subgroup&&_a!==undefined){if(nexacro._isArray(_a)){for(var _e=0,_f=_a.length;_e<_f;_e++ ){_d._setPanelSlotStatusBandToggle(_a[_e],_b);}}else{_d._setPanelSlotStatusBandToggle(_a,_b);}if(_c!=false){this._recalcLayout(false);}}};_pComplexComponent._setPanelBandPopup=function(_a,_b,_c){var _d=this._panel;if(_d&&_d._panel_subgroup&&_a!==undefined){var _e=this._head_count&&this._use_headitem?this._head_count:0;if(nexacro._isArray(_a)){for(var _f=0,_g=_a.length;_f<_g;_f++ ){_d._setPanelSlotStatusBandPopup(_a[_f]+_e,_b);}}else{_d._setPanelSlotStatusBandPopup(_a+_e,_b);}if(_c!=false){this._recalcLayout(false);}}};_pComplexComponent._setPanelBandClose=function(_a,_b,_c){var _d=this._panel;if(_d&&_d._panel_subgroup&&_a!==undefined){var _e=this._head_count&&this._use_headitem?this._head_count:0;if(nexacro._isArray(_a)){for(var _f=0,_g=_a.length;_f<_g;_f++ ){_d._setPanelSlotStatusBandClose(_a[_f]+_e,_b);}}else{_d._setPanelSlotStatusBandClose(_a+_e,_b);}if(_c!=false){this._recalcLayout(false);}}};_pComplexComponent._isPanelSubBandExpand=function(){return this._panel?(this._panel._panel_subgroup&nexacro._PanelConst.GROUPING_SUBSTYLE_BAND_MASK)==nexacro._PanelConst.GROUPING_SUBSTYLE_BAND_EXPAND:false;};_pComplexComponent._isPanelSubBandCollapse=function(){return this._panel?(this._panel._panel_subgroup&nexacro._PanelConst.GROUPING_SUBSTYLE_BAND_MASK)==nexacro._PanelConst.GROUPING_SUBSTYLE_BAND_COLLAPSE:false;};_pComplexComponent._isPanelSubBandPopup=function(){return this._panel?(this._panel._panel_subgroup&nexacro._PanelConst.GROUPING_SUBSTYLE_BAND_MASK)==nexacro._PanelConst.GROUPING_SUBSTYLE_BAND_POPUP:false;};_pComplexComponent._setPanelStartIndex=function(_a){if(this._panel){this._panel._panel_idxstart=_a;}};_pComplexComponent._setPanelStartLevel=function(_a){if(this._panel){this._panel._panel_lvlstart=_a;}};_pComplexComponent._initPanelSubStartInfo=function(_a,_b){this.__panel_idxstart=_a;this.__panel_lvlstart=_b;this._setPanelStartIndex(_a);this._setPanelStartLevel(_b);};_pComplexComponent._getPanelStartIndex=function(){if(this.__panel_idxstart){return this.__panel_idxstart;}return this._panel?this._panel._panel_idxstart:0;};_pComplexComponent._getPanelStartLevel=function(){if(this.__panel_lvlstart){return this.__panel_lvlstart;}return this._panel?this._panel._panel_lvlstart:0;};_pComplexComponent._getPanelLevelIndent=function(){return 0;};_pComplexComponent._getPanelSlotTargetCount=function(_a){return this._panel?this._panel._getSlotTargetCount(_a):1;};_pComplexComponent._createPanelPopup=function(_a,_b){var _c=this._createPopup(_a,_b);var _d=this._createPopupChild(_a,_b);if(_c){if(_d){_c._attach(_d);}_c.on_created();}if(_d){_d.on_created();}return _c;};_pComplexComponent._createPopup=function(_a,_b){var _c=this._onCreatePopup();if(_c&&_a){var _d=_a._slot_multi?0:1;var _e=this._popuplist?this._popuplist.length-1: -1;var _f=_a._getSlotIndex()+_d;var _g=_a._getSlotIndex()+_d;_c._initInfo(this,_a._getSlotTarget(),this,_e,_f,_g);_a._setSlotPopup(_c);this._setCurrentPopup(_c,_e,_f,_g);}return _c;};_pComplexComponent._destroyPopup=function(){if(this._popuplist){this._onDestroyPopup();this._clearPopup();}};_pComplexComponent._clearPopup=function(){if(this._popuplist){this._setCurrentPopup(null);var _a=this._popuplist;var _b=_a.length;for(var _c=_b-1;_c>=0;_c-- ){if(_a[_c]){_a[_c]._clear();_a[_c].destroy();delete _a[_c];}}this._popuplist.length=0;this._popuplist=null;}};_pComplexComponent._createPopupControl=function(_a){if(_a){if(_a.createComponent(true)){if(!this._popuplist){this._popuplist=[];}this._popuplist.push(_a);return _a;}}return null;};_pComplexComponent._onCreatePopup=function(){var _a=null;if(_a=this._createPopupControl(new nexacro._PanelPopupControl("panelpopup",0,0,0,0,null,null,null,null,null,null,this))){_a._type_name="popup"+this._type_name;return _a;}};_pComplexComponent._onDestroyPopup=function(){};_pComplexComponent._createPopupChild=function(_a,_b){var _c=this._onCreatePopupChild(_a,_b);if(_c){}return _c;};_pComplexComponent._destroyPopupChild=function(){if(this._grouplist){this._onDestroyPopupChild();this._clearPopupChild();}};_pComplexComponent._clearPopupChild=function(){if(this._grouplist){var _a=this._grouplist;var _b=_a.length;for(var _c=_b-1;_c>=0;_c-- ){if(_a[_c]){_a[_c].destroy();delete _a[_c];}}this._grouplist.length=0;this._grouplist=null;}};_pComplexComponent._createPopupChildControl=function(_a){if(_a){_a._setControl(_a._type_name);_a._setPopupContains(true);_a._initPopupSubLayouts(this);if(_a.onCreateComponent()){if(!this._grouplist){this._grouplist=[];}this._grouplist.push(_a);return _a;}}return null;};_pComplexComponent._createPopupCloneControl=function(_a){if(_a){_a._setControl(_a._type_name);_a._setPopupContains(true);_a._initComponentClone(this);_a._initPopupSubLayouts(this);if(_a.onCreateComponent()){if(!this._grouplist){this._grouplist=[];}this._grouplist.push(_a);return _a;}}return null;};_pComplexComponent._onCreatePopupChild=function(_a,_b){var _c=null;if(_c=this._createPopupCloneControl(new this.constructor("popupchild",0,0,0,0,null,null,null,null,null,null,this))){return _c;}};_pComplexComponent._onDestroyPopupChild=function(){};_pComplexComponent._onCloneProperities=function(_a){};_pComplexComponent.on_notify_popup_onpopup=function(_a,_b,_c){};_pComplexComponent.on_notify_popup_onclose=function(_a,_b,_c){var _d=this._getPanel();if(_d){if(_d._isGroupPopup()){_d._setPanelSlotStatusNoAction(_b,nexacro._PanelSlotConst.STATUS_COLLPASE);}if(_d._isBandPopup()){_d._setPanelSlotStatusBandNoAction(_b,nexacro._PanelSlotConst.STATUS_COLLPASE);}}};_pComplexComponent._setCurrentPopup=function(_a,_b,_c,_d){this.__current_popupcontrol=_a;this.__current_popupindex=_b;this.__current_startindex=_c;this.__current_startlevel=_d;};_pComplexComponent._getCurrentPopup=function(){return this.__current_popupcontrol;};_pComplexComponent._getCurrentPopupIndex=function(){return this.__current_popupindex;};_pComplexComponent._getCurrentPopupStart=function(){return this.__current_startindex;};_pComplexComponent._getCurrentPopupLevel=function(){return this.__current_startlevel;};_pComplexComponent._getPopupChildSize=function(_a){return this._onGetPopupChildSize(_a);};_pComplexComponent._getPopupChildPosition=function(_a){return this._onGetPopupChildPosition(_a);};_pComplexComponent._onGetPopupChildSize=function(_a){var _b=this.getPixelWidth();var _c=this.getPixelHeight();return [_b,_c];};_pComplexComponent._onGetPopupChildPosition=function(_a){var _b=_a._getOrigin(true);var _c=_a._getAttachedComponent();var _d=this._onGetItemIndentSize(_c);var _e=0+_d[0];var _f=_b.getPixelHeight()+_d[1];return [_e,_f];};_pComplexComponent._createPanelSelector=function(_a,_b,_c){var _d=this._createSelector(_a,_b);var _e=this._createSelectorAssist(_a,_b);if(_d){var _f=null;var _g=null;{_f=_g=this._getRawItem([_a,_b]);}_d._attachSelect(_f,_g);_d._attachAssist(_e);_d._createdSelector();_d._setEventHandler("onresize",this.on_notify_selector_onresize,this);}if(_e){_d._createdAssistor();}return _d;};_pComplexComponent._createSelector=function(_a,_b,_c){var _d=this._onCreateSelector(_c);if(_d){_d._initInfo(this,_a,_b);this._setCurrentSelector(_d);}return _d;};_pComplexComponent._createSelectorAssist=function(_a,_b,_c){var _d=this._onCreateSelectorAssist(_c);if(_d){}return _d;};_pComplexComponent._destroySelector=function(){if(this._selectlist){this._onDestroySelector();this._clearSelector();}};_pComplexComponent._destroySelectorAssist=function(){this._onDestroySelectorAssist();this._clearSelectorAssist();};_pComplexComponent._clearPanelSelector=function(){var _a=this._getPanel();if(_a){_a._clearPanelSelector();}};_pComplexComponent._clearSelector=function(){if(this._selectlist){this._setCurrentSelector(null);var _a=this._selectlist;var _b=_a.length;for(var _c=_b-1;_c>=0;_c-- ){if(_a[_c]){_a[_c]._clearSelector();_a[_c].destroy();delete _a[_c];}}this._selectlist.length=0;this._selectlist=null;}};_pComplexComponent._clearSelectorAssist=function(){if(this._assistlist){var _a=this._assistlist;var _b=_a.length;for(var _c=_b-1;_c>=0;_c-- ){if(_a[_c]){_a[_c].destroy();delete _a[_c];}}this._assistlist.length=0;this._assistlist=null;}};_pComplexComponent._createSelectControl=function(_a){if(_a){_a._setControl(_a._type_name);if(_a.createComponent(true)){if(!this._selectlist){this._selectlist=[];}this._selectlist.push(_a);return _a;}}return null;};_pComplexComponent._createSelectAssistControl=function(_a){if(_a){_a._setControl(_a._type_name);if(_a.createComponent(true)){if(!this._assistlist){this._assistlist=[];}this._assistlist.push(_a);return _a;}}return null;};_pComplexComponent._takeSelector=function(_a,_b){var _c=this._getPanel();if(_c&&_c._useSelector()){if(_a.length){if(this._use_partsselector){return _c._getPanelSelectorParts(_c._getPanelSelectorKey(_a),_b);}else{return _c._getPanelSelectorRange(_c._getPanelSelectorKey(_a),_b);}}else{return _c._getPanelSelector(_c._getPanelSelectorKey(_a),_b);}}return null;};_pComplexComponent._showSelector=function(_a,_b,_c){if(_b){var _d= -1;var _e=null;if(_a.length){if(this._use_multiselector){for(var _f=0,_g=_a.length;_f<_g;_f++ ){if(_e=this._takeSelector(_a[_f],_b)){_e._showSelector(_b);}}return;}if(this._use_partsselector){if(_e=this._takeSelector(_a,_b)){_e._showSelector(_b);}return;}_d=_a[_a.length-1];}else{_d=_a;}if(_e=this._takeSelector(_d,_b)){_e._showSelector(_b);}}else{this._hideSelector( -1,null);}if(_c){this.on_notify_selector_onchange(_a,_b);}};_pComplexComponent._hideSelector=function(_a,_b){this._clearSelector();this._clearSelectorAssist();};_pComplexComponent._setCurrentSelector=function(_a){this.__current_selectcontrol=_a;};_pComplexComponent._getCurrentSelect=function(){return this.__current_selectcontrol;};_pComplexComponent._onCreateSelector=function(){var _a=this._panel?this._panel._getSlotSelectorType():nexacro._PanelSelectConst.TYPE_AREA;var _b=this._createSelectControl(new nexacro._PanelSelectControl("panelselector",_a,this));if(_b){}return _b;};_pComplexComponent._onCreateSelectorAssist=function(){var _a=null;return _a;};_pComplexComponent._onDestroySelector=function(){};_pComplexComponent._onDestroySelectorAssist=function(){};_pComplexComponent.on_notify_selector_onchange=function(_a,_b){this._on_basic_onselectorchange(_a,_b);this._on_fire_onselectorchange(_a,_b);this._on_default_onselectorchange(_a,_b);};_pComplexComponent._on_basic_onselectorchange=function(_a,_b){};_pComplexComponent._on_default_onselectorchange=function(_a,_b){};_pComplexComponent._on_fire_onselectorchange=function(_a,_b){};_pComplexComponent.on_notify_selector_onresize=function(_a,_b){this._on_basic_onselectorresize(_a,_b);this._on_fire_onselectorresize(_a,_b);this._on_default_onselectorresize(_a,_b);};_pComplexComponent._on_basic_onselectorresize=function(_a,_b){};_pComplexComponent._on_default_onselectorresize=function(_a,_b){};_pComplexComponent._on_fire_onselectorresize=function(_a,_b){};_pComplexComponent._layoutflag=0x0007;_pComplexComponent._setLayoutFlag=function(_a){this._layoutflag=_a;};_pComplexComponent._setLayoutContent=function(_a){_a?this._layoutflag|=1:this._layoutflag&=~1;};_pComplexComponent._setLayoutAllowNC=function(_a){_a?this._layoutflag|=2:this._layoutflag&=~2;};_pComplexComponent._setLayoutUnFixNC=function(_a){_a?this._layoutflag|=4:this._layoutflag&=~4;};_pComplexComponent._setLayoutAutoFit=function(_a){_a?this._layoutflag|=8:this._layoutflag&=~8;};_pComplexComponent._isContentLayout=function(){return this._layoutflag&1;};_pComplexComponent._isAllowNCLayout=function(){return this._layoutflag&2;};_pComplexComponent._isUnFixNCLayout=function(){return this._layoutflag&4;};_pComplexComponent._isAutoFitLayout=function(){return this._layoutflag&8;};_pComplexComponent._beginRecalcLayout=function(){return !(this.__recalcLayout?false:this.__recalcLayout=true);};_pComplexComponent._finalRecalcLayout=function(){return !(this.__recalcLayout=false);};_pComplexComponent._recalcLayout=function(_a){if(this._beginRecalcLayout()){return;}if(this._is_created||_a){var _b=false;if(this._isContentLayout()){if(this._isAllowNCLayout()){_b=this._resetNCChild(true);}if(_b||_a){this._onRecalcLayout(_a);}}if(this._isUnFixNCLayout()){_b=this._resetNCChild(false);if(_b){this._onRecalcLayout(false);}}if(_b){_b=this._resetNCChild(false);if(_b){this._onRecalcLayout(false);}}if(_b){_b=this._resetNCChild(false);if(_b){this._onRecalcLayout(false);}}}if(this._finalRecalcLayout()){return;}};_pComplexComponent._onRecalcLayout=function(_a){if(this._is_format_layout&&this._ctxtdata){if(this._is_panel_layout&&this._panel){if(_a||_a==undefined){this._clearPanelSlot();}this._recalcFormatPanelLayout(_a);if(this._is_child&&this._children){this._recalcPanelChildLayout(_a);}if(this._is_items&&this._items){this._recalcPanelItemsLayout(_a);}}else{if(this._is_child&&this._children){this._onRecalcFormatChildLayout(_a);}if(this._is_items&&this._items){this._onRecalcFormatItemsLayout(_a);}}}else{if(this._is_panel_layout&&this._panel){if(_a||_a==undefined){this._clearPanelSlot();}if(this._is_child&&this._children){this._recalcPanelChildLayout(_a);}if(this._is_items&&this._items){this._recalcPanelItemsLayout(_a);}}else{if(this._is_child&&this._children){this._onRecalcChildLayout(_a);}if(this._is_items&&this._items){this._onRecalcItemsLayout(_a);}}}if(this._use_container_multi){this._onRecalcContainerSize();}if(this._use_scrollmanager&&this._scrollmanager){this._scrollmanager._recalcLayout();}if(this._use_expandmanager&&this._expandmanager){this._expandmanager._recalcLayout();}};_pComplexComponent._recalcFormatPanelLayout=function(_a){var _b=this._ctxtdata;var _c=this._panel;if(_b&&_c){}};_pComplexComponent._onRecalcFormatChildLayout=function(_a){var _b=this._ctxtdata;if(_b){var _c=this._getChildren();var _d=_c?_c.length:0;{for(var _f=0;_f<_d;_f++ ){var _e=_c[_f];if(_e&&_e._update_position){_e._update_position(true,true);}}}this._updateChildScrollInfo(true);}};_pComplexComponent._onRecalcFormatItemsLayout=function(_a){var _b=this._ctxtdata;if(_b){this._updateItemScrollInfo("reset",true);}};_pComplexComponent._recalcPanelChildLayout=function(_a){var _b=this._panel;if(_b){if(_b._panel_layout>=0){if(_a||_a==undefined){var _c=this._getChildren();this._resetPanelSlot(_c, -1, -1);}this._recalcPanelChildSlot();}else{this._onRecalcPanelChildLayout(_a);}this._updateChildScrollInfo(true);}};_pComplexComponent._recalcPanelItemsLayout=function(_a){var _b=this._panel;if(_b){if(_b._panel_layout>=0){if(_a||_a===undefined){var _c=this._getItems();if(!_b._isPartSlot()){this._resetPanelSlot(_c, -1, -1);}else{this._calcItemScrollInfo( -1,_b._isRowFirst());var _d=this._getItemScrollViewStart();var _e=this._getItemScrollViewCount();var _f=this._getItemScrollPrevCount();var _g=this._getItemScrollNextCount();this._resetPanelSlot(_c,_d,_e,_f,_g);}}this._recalcPanelItemSlot();}else{this._onRecalcPanelItemsLayout(_a);}if(_a){this._resetItemScrollInfo();}}};_pComplexComponent._onRecalcChildLayout=function(_a){var _b;var _c;var _d,_e;var _f,_g,_h;var _i=this._getChildren();var _j=_i.length;var _k=this._getLeadChild();var _l=this._getClientLeft();var _m=this._getClientTop();var _n=this._getClientWidth();var _o=this._getClientHeight();if(_j<=0){return;}else if(_j==1){_c=_i[0];_c.move(_l,_m,_n,_o,null,null);return;}else{if(_k){var _p;if(_n>_o){_p=_n/2;_g=_j-1;_h=_o;_f=_o* _g;_d=_l;if(_p<_f){_h=_p/_g;}else{_p=_n-_f;}for(_b=0;_b<_j;_b++ ){_c=_i[_b];if(_c){if(_c==_k){_c.move(_d,_m,_p,_o,null,null);_d+=_p;}else{_c.move(_d,_m,_h,_o,null,null);_d+=_h;}}}}else{_p=_o/2;_g=_j-1;_h=_n;_f=_n* _g;_e=_m;if(_p<_f){_h=_p/_g;}else{_p=_o-_f;}for(_b=0;_b<_j;_b++ ){_c=_i[_b];if(_c){if(_c==_k){_c.move(_l,_e,_n,_p,null,null);_e+=_p;}else{_c.move(_l,_e,_n,_h,null,null);_e+=_h;}}}}}else{if(_n>_o){_h=_n/_j;_d=_l;for(_b=0;_b<_j;_b++ ,_d+=_h){_c=_i[_b];if(_c){_c.move(_d,_m,_h,_o,null,null);}}}else{_h=_o/_j;_e=_m;for(_b=0;_b<_j;_b++ ,_e+=_h){_c=_i[_b];if(_c){_c.move(_l,_e,_n,_h,null,null);}}}}}this._updateChildScrollInfo(true);};_pComplexComponent._onRecalcItemsLayout=function(_a){var _b;var _c;var _d=this._getItems();var _e=_d?_d.length:0;var _f=this._getClientLeft();var _g=this._getClientTop();var _h=this._getClientWidth();var _i=this._getClientHeight();var _j,_k;var _l;if(_e<=0){return;}else{if(_h>_i){this._isColFirst=false;_l=_h/_e;_j=_f;for(_b=0;_b<_e;_b++ ,_j+=_l){_c=_d[_b]?_d[_b]:this._getPartItem(_b);if(_c){_c.move(_j,_g,_l,_i,null,null);}}}else{this._isColFirst=true;_l=_i/_e;_k=_g;for(_b=0;_b<_e;_b++ ,_k+=_l){_c=_d[_b]?_d[_b]:this._getPartItem(_b);if(_c){_c.move(_f,_k,_h,_l,null,null);}}}return;}};_pComplexComponent._onRecalcContainerSize=function(){var _a=this._getPanel();var _b=this.getElement();if(_b&&_a){_b._setInnerElementScrollMaxTops(_a._getPanelLimitOverHeight());}};_pComplexComponent._onChangeContainerRect=function(_a,_b){nexacro.SimpleComponent.prototype._onChangeContainerRect.call(this,_a,_b);};_pComplexComponent._getChildren=function(){return this._children;};_pComplexComponent._getChild=function(_a){return this._children?this._children[_a]:null;};_pComplexComponent._getLeadChild=function(){return this._leadchild?this._leadchild:(this._children&&this._children.length?this._children[0]:null);};_pComplexComponent._getCurrChild=function(){return this._currchild;};_pComplexComponent._getPrevChild=function(_a,_b,_c){var _d=this._children;if(!_d||!_a){return null;}var _e=_d.indexOf(_a);for(var _i=_e-1;_i>=0;_i-- ){var _f=_d[_i];if(!_f){continue;}if(!_c&&!_b){return _f;}var _g=!_b||_f._isFocusAcceptable();var _h=!_c||_f._isEditableComponent();if(_g&&_h){return _f;}}};_pComplexComponent._getNextChild=function(_a,_b,_c){var _d=this._children;if(!_d||!_a){return null;}var _e=_d.indexOf(_a);for(var _i=_e+1,_j=_d.length;_i<_j;_i++ ){var _f=_d[_i];if(!_f){continue;}if(!_c&&!_b){return _f;}var _g=!_b||_f._isFocusAcceptable();var _h=!_c||_f._isEditableComponent();if(_g&&_h){return _f;}}};_pComplexComponent._getLastChild=function(){var _a=this._children;if(_a){return _a[_a.length-1];}return null;};_pComplexComponent._setLeadChild=function(_a){this._leadchild=_a;};_pComplexComponent._setCurrChild=function(_a){this._currchild=_a;};_pComplexComponent._onGetChildAreaWidth=function(){return this._getClientWidth();};_pComplexComponent._onGetChildAreaHeight=function(){return this._getClientHeight();};_pComplexComponent._addChildCollection=function(_a,_b){if(this._childlst){this._childlst[_a]=_b;}};_pComplexComponent._findChildCollection=function(_a){return this._childlst?this._childlst[_a]:null;};_pComplexComponent._findChildCollectIndex=function(_a){return this._children?this._children.indexOf(_a): -1;};_pComplexComponent._findChild=function(_a){var _b=this[_a];if(_b){return _b;}else{return this._findChildCollection(_a);}};_pComplexComponent._findChildIndex=function(_a){return this._findChildCollectIndex(_a);};_pComplexComponent._getChildId=function(_a){return _a?_a.id?_a.id:_a.name:"";};_pComplexComponent._createChild=function(){if(this._is_child&&this._children){{this.onCreateChild(this._getCtxtData());}}};_pComplexComponent._createdChild=function(_a){if(this._is_child&&this._children){this.onCreatedChild(_a);}};_pComplexComponent._updateChild=function(_a){if(this._is_child&&this._children){this.onUpdateChild(_a);}};_pComplexComponent._destroyChild=function(){if(this._is_child&&this._children){this.onDestroyChild();this._clearChild();}};_pComplexComponent._clearChild=function(){if(this._is_child&&this._children){if(this._childlst){this._childlst={};}var _a=this._children;var _b=_a.length;for(var _c=_b-1;_c>=0;_c-- ){if(_a[_c]){_a[_c].destroy();delete _a[_c];}}this._children.length=0;this._children=[];}};_pComplexComponent.createChildControl=function(_a){if(_a){_a._setControl(_a._type_name);if(_a.createComponent(true)){this._children.push(_a);}return _a;}return null;};_pComplexComponent.createNCChild=function(_a){if(_a){_a._is_nc_control=true;if(_a.createComponent(true)){return _a;}}return null;};_pComplexComponent.createNCChildControl=function(_a){if(_a){_a._is_nc_control=true;_a._setControl();if(_a.createComponent(true)){return _a;}}return null;};_pComplexComponent.createCloneChildControl=function(_a){if(_a){_a._setControl(_a._type_name);_a._initComponentClone(this);if(_a.onCreateComponent()){this._children.push(_a);return _a;}}return null;};_pComplexComponent.createChildCtxtControl=function(_a){if(_a){var _b=_a._items;if(_b){var _c,_d;var _e;var _f=[];if(nexacro._isArray(_b)){for(_c=0,_d=_b.length;_c<_d;_c++ ){_e=this.createCtxtControl(_b[_c],_c,true);_f.push(this.createChildControl(_e));}return _f;}else{_e=this.createCtxtControl(_b);return this.createChildControl(_e);}}}return null;};_pComplexComponent.onCreatedChild=function(_a){{var _b=this._getChildren();var _c=_b?_b.length:0;for(var _d=0;_d<_c;_d++ ){_b[_d].on_created(_a);}}};_pComplexComponent.onCreateChild=function(_a){if(this._is_format_layout&&_a){var _b=this.createChildCtxtControl(_a);var _c=_b;return _c;}else{if(this.child=this.createChildControl(new nexacro.Button("child",0,0,0,0,null,null,null,null,null,null,this))){this.child._setEventHandler("onclick",this.on_notify_child_onclick,this);this.child._setEventHandler("onsetfocus",this.on_notify_child_onsetfocus,this);this.child._setEventHandler("onkillfocus",this.on_notify_child_onkillfocus,this);}}};_pComplexComponent.onUpdateChild=function(_a){};_pComplexComponent.onDestroyChild=function(){};_pComplexComponent.on_notify_child_onclick=function(_a,_b){this.on_fire_onclick(_b.button,_b.alt_key,_b.ctrl_key,_b.shift_key,_b.screenX,_b.screenY,_b.canvasX,_b.canvasY,_b.clientX,_b.clientY,this,_b.fromobject,_b.meta_key);};_pComplexComponent.on_notify_child_ondblclick=function(_a,_b){this.on_fire_ondblclick(_b.button,_b.alt_key,_b.ctrl_key,_b.shift_key,_b.screenX,_b.screenY,_b.canvasX,_b.canvasY,_b.clientX,_b.clientY,this,_b.fromobject,_b.meta_key);};_pComplexComponent.on_notify_child_onsetfocus=function(_a,_b){this.on_fire_onsetfocus(_b.oldcomponent,_b.oldreferencecomponent);};_pComplexComponent.on_notify_child_onkillfocus=function(_a,_b){this.on_fire_onkillfocus(_b.newcomponent,_b.newreferencecomponent);};_pComplexComponent._getItems=function(){return this._items;};_pComplexComponent._getItem=function(_a,_b){var _c=this._getItems();var _d=_c.length;if(_c&&_d){var _e;var _f;var _g;var _h=this._head_count&&this._use_headitem?this._head_count:0;var _i=this._tail_count&&this._use_tailitem?this._tail_count:0;var _j=this._body_count?this._body_count:1;var _k=_a* _j+_h;if(_a>=0&&_a<_d){if(this._use_partitem){if(_k>=_d||!_c[_k]){if(_b){this._createPartItem(_a);}}if(this._body_count>1){_e=new Array(_j);for(_f=0,_g=_j;_f<_g;_f++ ,_k++ ){_e[_f]=_c[_k];}return _e;}else{return _c[_k];}}else{if(this._body_count>1){_e=new Array(_j);for(_f=0,_g=_j;_f<_g;_f++ ,_k++ ){_e[_f]=_c[_k];}return _e;}else{return _c[_k];}}}if(_a== -1&&this._use_headitem&&_h){if(_h>1){_e=new Array(_h);for(_f=0,_g=_h;_f<_g;_f++ ){_e[_f]=_c[_f];}return _e;}else{return _c[0];}}if(_a== -2&&this._use_tailitem&&_i){_k=_d-_i;if(_i>1){_e=new Array(_i);for(_f=0;_k<_d;_f++ ,_k++ ){_e[_f]=_c[_k];}return _e;}else{return _c[_k];}}}return null;};_pComplexComponent._getItemChildByIndex=function(_a,_b,_c){var _d=this._getItem(_a);if(_d){if(nexacro._isArray(_d)){_d=_d[_b];}if(_d){if(_d._is_child&&_d._getChild){return _d._getChild(_c);}if(_d._is_items&&_d._getItem){return _d._getItem(_c);}}}return null;};_pComplexComponent._getItemChildById=function(_a,_b,_c){var _d=this._getItem(_a);if(_d){if(nexacro._isArray(_d)){for(var _e=0;_e<_d.length;_e++ ){if(_d[_e]&&_d[_e]._band==_b){_d=_d[_e];}}}if(_d){if(_d._is_child&&_d._getChild){return _d._findChild(_c);}}}return null;};_pComplexComponent._getItemChildInPopup=function(_a,_b,_c){var _d=this._getPanelSlot(_a);if(_d){var _e=_d._getSlotPopup();if(_e){var _f=_e._getAttachedComponent();if(_f&&_f._getChild){return _f._getChild(_c);}}}return null;};_pComplexComponent._getRawItem=function(_a){if(_a.length){return this._getRawItemInItems(this._getItem(_a[0]),_a[1]);}else{return this._getRawItemInItems(this._getItem(_a),0);}};_pComplexComponent._getRawItemInItems=function(_a,_b){var _c=_a?_a.length:0;if(_c){if(_b&&_b<_c){return _a[_b];}else{return _a[0];}}return _a;};_pComplexComponent._delItem=function(_a,_b){var _c=this._getItems();var _d=_c.length;if(_c&&_d){var _e;var _f;var _g=this._head_count&&this._use_headitem?this._head_count:0;var _h=this._tail_count&&this._use_tailitem?this._tail_count:0;var _i=this._body_count?this._body_count:1;var _j=_a* _i+_g;if(_a>=0&&_a<_d){if(_i>1){for(_e=0,_f=_i;_e<_f;_e++ ,_j++ ){if(_c[_j]){if(_c[_j].destroy){_c[_j].destroy();}_c[_j]=null;}}}else{if(_c[_j]){if(_c[_j].destroy){_c[_j].destroy();}_c[_j]=null;}}return _i;}if(_a== -1&&this._use_headitem&&_g){_j=0;if(_g>1){for(_e=0,_f=_g;_e<_f;_e++ ,_j++ ){if(_c[_j]){if(_c[_j].destroy){_c[_j].destroy();}_c[_j]=null;}}}else{if(_c[_j]){if(_c[_j].destroy){_c[_j].destroy();}_c[_j]=null;}}return _g;}if(_a== -2&&this._use_tailitem&&_h){_j=_d-_h;if(_h>1){for(_e=0;_j<_d;_e++ ,_j++ ){if(_c[_j]){if(_c[_j].destroy){_c[_j].destroy();}_c[_j]=null;}}}else{if(_c[_j]){if(_c[_j].destroy){_c[_j].destroy();}_c[_j]=null;}}return _h;}}return 0;};_pComplexComponent._getItemsCount=function(){if(this._is_databind){return this._items.length;}else{return this._onGetItemsCount();}};_pComplexComponent._onGetItemsCount=function(){return this.itemcount?this.itemcount:0;};_pComplexComponent._onGetItemsAreaWidth=function(){return Math.max(this._getClientWidth(),0);};_pComplexComponent._onGetItemsAreaHeight=function(){return Math.max(this._getClientHeight(),0);};_pComplexComponent._createItems=function(){if(this._is_items&&this._items){if(this._is_databind){this._createBindItems();}else{this._createRepeatItems();}}};_pComplexComponent._createdItems=function(_a){if(this._is_items&&this._items){this.onCreatedItems(_a);}};_pComplexComponent._createPartItemList=function(_a){if(this._is_items&&this._items){this._items.length=_a>0?_a* (this._body_count?this._body_count:1):0;}};_pComplexComponent._createPartItem=function(_a){{var _b=this._getBindData(_a);var _c=this._getCtxtData(_a);var _d=this.onCreateItem(_c,_b,_a);if(_d){this._setItemIndex(_d,_a);this._setCtxtItemInfo(_d,_c,_a);this._setBindItemInfo(_d,_b,_a);this._setItemSubLayoutInfo(_d,_b,_a);this._createdItem(_d,this._getWindow());this._setItemZIndex(_d,0);this._setItemIndentSize(_d,this._onGetIndentSize());}}};_pComplexComponent._createdItem=function(_a,_b){if(_a){if(nexacro._isArray(_a)){for(var _d=0,_e=_a.length;_d<_e;_d++ ){var _c=_a[_d];if(_c){_c.onCreated(_b);}}}else{_a.onCreated(_b);}}};_pComplexComponent._updateItems=function(_a,_b,_c){if(this._is_items&&this._items){if(_a>=0){var _d,_e;var _f,_g;for(_d=_a,_f=!_b||_b<0?this._getItemsCount():_a+_b;_d<_f;_d++ ){var _h=this._getItem(_d);var _i=this._getBindData(_d);if(_h){this._setBindItemInfo(_h,_i,_d);if(nexacro._isArray(_h)){for(_e=0,_g=_h.length;_e<_g;_e++ ){var _j=_h[_e];if(_j&&_j.onUpdateItem){_j.onUpdateItem(_d,_c);}}}else{if(_h&&_h.onUpdateItem){_h.onUpdateItem(_d,_c);}}}}}}};_pComplexComponent._updateItem=function(_a,_b,_c){if(_a){this._setBindItemInfo(_a,this._getBindData(_b),_b);if(nexacro._isArray(_a)){for(var _e=0;_e<_a.length;_e++ ){var _d=_a[_e];if(_d&&_d.onUpdateItem){_d.onUpdateItem(_b,_c);}}}else{if(_a&&_a.onUpdateItem){_a.onUpdateItem(_b,_c);}}}};_pComplexComponent._destroyItems=function(){if(this._is_items&&this._items){this.onDestroyItems();this._clearItems();}};_pComplexComponent._clearItems=function(){if(this._is_items&&this._items){var _a=this._getItems();var _b=_a.length;for(var _c=_b-1;_c>=0;_c-- ){if(_a[_c]){_a[_c].destroy();delete _a[_c];}}_a.length=0;}};_pComplexComponent._createBindItems=function(){{var _a,_b;var _c;var _d,_e;var _f;var _g,_h,_i;if(this._use_headitem){_e=this._getCtxtData( -1);_f=this.onCreateItemBegin(_e);if(_f){this._setItemIndex(_f, -1);this._setCtxtItemInfo(_f,_e, -1);this._head_count=nexacro._isArray(_f)?_f.length:1;}}var _j=this._getBindCount();if(_j){if(this._use_partitem){this._createPartItemList(_j);}else if(this._isPanelSubGroupPopup()){_h=this._getPanelStartIndex();_i=this._getPanelStartLevel();for(_a=_h,_c=_j,_b=0;_a<_c;_a++ ){_d=this._getBindData(_a);if(!_d){continue;}_g=_d._getLevelValue();if(_g==_i||_g==undefined){_e=this._getCtxtData(_a);_f=this.onCreateItem(_e,_d,_a);if(_f){this._setItemIndex(_f,_b++ );this._setCtxtItemInfo(_f,_e,_a);this._setBindItemInfo(_f,_d,_a);this._setItemSubLayoutInfo(_f,_d,_a);this._setItemIndentSize(_f,this._onGetIndentSize());}}else if(_g>_i){continue;}else{break;}}}else{for(_a=0,_c=_j;_a<_c;_a++ ){_d=this._getBindData(_a);_e=this._getCtxtData(_a);_f=this.onCreateItem(_e,_d,_a);if(_f){this._setItemIndex(_f,_a);this._setCtxtItemInfo(_f,_e,_a);this._setBindItemInfo(_f,_d,_a);this._setItemSubLayoutInfo(_f,_d,_a);this._setItemIndentSize(_f,this._onGetIndentSize());}}}}else if(this._use_nullitem){_e=this._getCtxtData( -4);_f=this.onCreateItemNull(_e);if(_f){this._setItemIndex(_f, -4);this._setCtxtItemInfo(_f,_e, -4);this._null_count=nexacro._isArray(_f)?_f.length:1;}}{_e=this._getCtxtData( -2);_f=this.onCreateItemFinal(_e);if(_f){this._setItemIndex(_f, -2);this._setCtxtItemInfo(_f,_e, -2);this._tail_count=nexacro._isArray(_f)?_f.length:1;}}}};_pComplexComponent._createRepeatItems=function(){{var _a;var _b;var _c;var _d;{_c=this._getCtxtData( -1);this.onCreateItemBegin(_c);}for(_a=0,_b=this._getItemsCount();_a<_b;_a++ ){_c=this._getCtxtData(_a);_d=this.onCreateItem(_c,null,_a);if(_d){this._setItemSubLayoutInfo(_d,null,_a);}}{_c=this._getCtxtData( -2);this.onCreateItemFinal(_c);}}};_pComplexComponent.createItemNCControl=function(_a,_b,_c){if(_a){_a._is_nc_control=true;_a._setControl(_a._type_name);if(_a.createComponent(true)){return _a;}}return null;};_pComplexComponent.createItemControl=function(_a,_b,_c){if(_a){var _d=_a._getItemTypeName();_a._setControl(_d);if(_a.createComponent(true)){if(this._use_partitem&&_b>= -2){var _e=_b?_b:0;var _f=_c?_c:0;var _g=this._items.length;var _h=this._head_count?this._head_count:0;var _i=this._body_count?this._body_count:1;var _j=this._tail_count?this._tail_count:0;switch(_e){case  -1:_e=(this._use_headitem?_f: -1);break;case  -2:_e=(this._use_tailitem?(_g-_j+_f): -1);break;default:_e=(this._use_headitem?_h:0)+(_e* _i)+_f;break;}if(_e>=_g){this._items.length=_e+1;}if(_e>=0){this._items[_e]=_a;}}else{this._items.push(_a);}}return _a;}return null;};_pComplexComponent.createItemCtxtControl=function(_a,_b,_c){if(_a){var _d;var _e;var _f,_g;if(nexacro._isArray(_a)){_f=[];for(_d=0,_e=_a.length;_d<_e;_d++ ){_g=this.createCtxtControl(_a[_d],_b);_f.push(_c?this.createItemNCControl(_g,_b,_d):this.createItemControl(_g,_b,_d));}return _f;}else{_g=this.createCtxtControl(_a,_b);return _c?this.createItemNCControl(_g,_b):this.createItemControl(_g,_b);}}return null;};_pComplexComponent.onCreatedItems=function(_a){var _b=this._getItems();var _c=_b?_b.length:0;for(var _e=0;_e<_c;_e++ ){var _d=_b[_e];if(_d){_d.onCreated(_a);}}};_pComplexComponent._getItemTypeName=function(){return this._type_name;};_pComplexComponent._setItemIndex=function(_a,_b){if(nexacro._isArray(_a)){for(var _c=0,_d=_a.length;_c<_d;_c++ ){this._onSetItemIndex(_a[_c],_b);}}else{this._onSetItemIndex(_a,_b);}};_pComplexComponent._getItemIndex=function(_a){return this._onGetItemIndex(_a);};_pComplexComponent._setItemSubIndex=function(_a,_b){if(nexacro._isArray(_a)){for(var _c=0,_d=_a.length;_c<_d;_c++ ){this._setItemSubIndex(_a[_c],_b);}}else{this._onSetItemSubIndex(_a,_b);}};_pComplexComponent._getItemSubIndex=function(_a){return this._onGetItemSubIndex(_a);};_pComplexComponent._setItemId=function(_a,_b){if(nexacro._isArray(_a)){for(var _c=0,_d=_a.length;_c<_d;_c++ ){this._onSetItemId(_a[_c],_b);}}else{this._onSetItemId(_a,_b);}};_pComplexComponent._getItemId=function(_a){return this._onGetItemId?this._onGetItemId(_a):_a?_a.id?_a.id:_a.name:"";};_pComplexComponent._setItemValue=function(_a,_b){if(nexacro._isArray(_a)){for(var _c=0,_d=_a.length;_c<_d;_c++ ){this._onSetItemValue(_a[_c],_b);}}else{this._onSetItemValue(_a,_b);}};_pComplexComponent._getItemValue=function(_a){return this._onGetItemValue(_a);};_pComplexComponent._setItemZIndex=function(_a,_b){if(nexacro._isArray(_a)){for(var _c=0,_d=_a.length;_c<_d;_c++ ){this._onSetItemZIndex(_a[_c],_b);}}else{this._onSetItemZIndex(_a,_b);}};_pComplexComponent._setItemIndentSize=function(_a,_b){if(nexacro._isArray(_a)){for(var _c=0,_d=_a.length;_c<_d;_c++ ){this._onSetItemIndentSize(_a[_c],_b);}}else{this._onSetItemIndentSize(_a,_b);}};_pComplexComponent._getItemLeft=function(_a,_b){return this._onGetItemLeft(_a,_b?_b:this._panel?this._panel._getDefSlotStat():nexacro._PanelSlotConst.STATUS_NONE);};_pComplexComponent._getItemTop=function(_a,_b){return this._onGetItemTop(_a,_b?_b:this._panel?this._panel._getDefSlotStat():nexacro._PanelSlotConst.STATUS_NONE);};_pComplexComponent._getItemWidth=function(_a,_b){return this._onGetItemWidth(_a,_b?_b:this._panel?this._panel._getDefSlotStat():nexacro._PanelSlotConst.STATUS_NONE);};_pComplexComponent._getItemHeight=function(_a,_b){return this._onGetItemHeight(_a,_b?_b:this._panel?this._panel._getDefSlotStat():nexacro._PanelSlotConst.STATUS_NONE);};_pComplexComponent._getItemArrWidth=function(_a,_b,_c){return this._onGetItemArrWidth(_a,_b?_b:this._panel?this._panel._getDefSlotStat():nexacro._PanelSlotConst.STATUS_NONE,_c);};_pComplexComponent._getItemArrHeight=function(_a,_b,_c){return this._onGetItemArrHeight(_a,_b?_b:this._panel?this._panel._getDefSlotStat():nexacro._PanelSlotConst.STATUS_NONE,_c);};_pComplexComponent._getItemRect=function(_a,_b,_c){return this._onGetItemRect(_a,_b,_c?_c:this._panel?this._panel._getDefSlotStat():nexacro._PanelSlotConst.STATUS_NONE);};_pComplexComponent._getItemChildRect=function(_a,_b,_c){return this._onGetItemChildRect(_a,_b,_c);};_pComplexComponent._getItemViewCountRow=function(_a){var _b;var _c=this._getItemHeight(0);if(_c<=0){return 0;}var _d=this._getClientHeight();if(_d<=0){return 0;}if(_a){_b=Math.floor(_d/_c);return _b>0?_b:1;}else{_b=Math.ceil(_d/(_c* this._getItemViewCountCol(false)));return _b>0?_b:0;}};_pComplexComponent._getItemViewCountCol=function(_a){var _b;var _c=this._getItemWidth(0);if(_c<=0){return 0;}var _d=this._getClientWidth();if(_d<=0){return 0;}if(_a){_b=Math.round(_d/(_c* this._getItemViewCountRow(true)));return _b>0?_b:0;}else{_b=Math.floor(_d/_c);return _b>0?_b:1;}};_pComplexComponent._getItemViewIndexRow=function(_a,_b){var _c;var _d=this._getItemHeight(0,_b);if(_d>0){_c=Math.floor(_a/_d)* this._getItemViewCountCol(false);return _c>0?_c:0;}else{return 0;}};_pComplexComponent._getItemViewIndexCol=function(_a,_b){var _c;var _d=this._getItemWidth(0);if(_d>0){_c=Math.floor(_a/_d)* this._getItemViewCountRow(true);return _c>0?_c:0;}else{return 0;}};_pComplexComponent._showItem=function(_a,_b){if(!_b){return;}var _c=this._getPanel();if(_c){if(_c._isColFirst()){var _d=this.getVScrollPos();var _e=this._getItemTop(_a, -9);var _f=this._getItemHeight(_a, -9);var _g=_e+_f;var _h=this._getClientHeight();if(_h<=_f){this.scrollTo(0,_e);this._updateItemScrollInfo("itemshow",true);return;}else{if(_e<_d){this.scrollTo(0,_e);this._updateItemScrollInfo("itemshow",true);return;}if(_g>_d+_h){this.scrollTo(0,_g-_h);this._updateItemScrollInfo("itemshow",true);return;}}}else{var _i=this.getHScrollPos();var _j=this._getItemLeft(_a);var _k=this._getItemWidth(_a);var _l=this._getClientWidth();if(_j<_i||_j>_i+_l){this.scrollTo(_j,0);this._updateItemScrollInfo("itemshow",true);return;}if(_j+_k>_i+_l){this.scrollTo(_j+_k-_l,0);this._updateItemScrollInfo("itemshow",true);return;}}}};_pComplexComponent._isShowBand=function(_a,_b,_c){var _d=this._getPanel();if(_d){var _e=_d._getPanelSlot(_a);if(_e){var _f=_e._getSlotStatusBand();var _g=_e._getSlotTarget();if(_g){var _h=_b;var _i=_h+_c;var _j=0;var _k=0;if(nexacro._isArray(_g)){for(var _m=0;_m<_g.length;_m++ ){var _l=_g[_m];if(_f>0){if(_m==0){_j=_l.getOffsetTop();}if(_m==(_g.length-1)){_k=_l.getOffsetBottom();}}else{if(_m==0){_j=_l.getOffsetTop();_k=_l.getOffsetBottom();break;}}}}else{_j=_g.getOffsetTop();_k=_g.getOffsetBottom();}if(_h<_j&&_i>_k){return true;}}}}return false;};_pComplexComponent._focusItem=function(_a){var _b=this._getItem(_a);if(_b&&_b.length){_b=_b[0];}if(_b&&_b.setFocus){_b.setFocus(true,true);}this._showItem(_a,true);};_pComplexComponent._focusItemChild=function(_a,_b,_c){var _d=this._getItemChildByIndex(_a,_b,_c);if(_d&&_d.setFocus){_d.setFocus(true,true);}};_pComplexComponent.onCreateItem=function(_a,_b,_c,_d){var _e;var _f;var _g;if(this._is_format_layout&&_a){_g=this.createItemCtxtControl(_a,_c,_d);if(_g){if(nexacro._isArray(_g)){for(_e=0,_f=_g.length;_e<_f;_e++ ){var _h=_g[_e];if(!_h){continue;}_h._setEventHandler("onclick",this.on_notify_item_onclick,this);}}else{_g._setEventHandler("onclick",this.on_notify_item_onclick,this);}}return _g;}else{_g=this.createItemControl(new nexacro.Button("item",0,0,0,0,null,null,null,null,null,null,this),_c);if(_g){_g.set_text("text");_g._setEventHandler("onclick",this.on_notify_item_onclick,this);}return _g;}};_pComplexComponent.onCreateItemBegin=function(_a,_b,_c){if(this._is_format_layout&&_a){var _d=this.createItemCtxtControl(_a, -1,_c);if(_d){_d._setEventHandler("onclick",this.on_notify_item_onclick,this);}return _d;}};_pComplexComponent.onCreateItemFinal=function(_a,_b,_c){if(this._is_format_layout&&_a){var _d=this.createItemCtxtControl(_a, -2,_c);if(_d){_d._setEventHandler("onclick",this.on_notify_item_onclick,this);}return _d;}};_pComplexComponent.onCreateItemNull=function(_a,_b){{var _c=this.createItemCtxtControl(_a, -4,_b);if(_c){}return _c;}};_pComplexComponent.onUpdateItem=function(_a,_b){};_pComplexComponent.onDestroyItems=function(){return;};_pComplexComponent._onSetItemIndex=function(_a,_b){return _a?_a._itemindex=_b:undefined;};_pComplexComponent._onGetItemIndex=function(_a){return _a?_a._itemindex:undefined;};_pComplexComponent._onSetItemSubIndex=function(_a,_b){return _a?_a._itemsubidx=_b:undefined;};_pComplexComponent._onGetItemSubIndex=function(_a){return _a?_a._itemsubidx:undefined;};_pComplexComponent._onSetItemId=function(_a,_b){return _a?_a._itemid=_b:"";};_pComplexComponent._onGetItemId=function(_a){return _a?_a._itemid?_a._itemid:_a.id?_a.id:_a.name:"";};_pComplexComponent._onSetItemValue=function(_a,_b){return _a?_a._itemvalue=_b:undefined;};_pComplexComponent._onGetItemValue=function(_a){return _a?_a._itemvalue:undefined;};_pComplexComponent._onSetItemZIndex=function(_a,_b){return _a&&_a._control_element?_a._control_element.setElementZIndex(_b):0;};_pComplexComponent._onSetItemIndentSize=function(_a,_b){return _a?_a._itemindentsize=_b:undefined;};_pComplexComponent._onGetItemIndentSize=function(_a){return _a._itemindentsize?_a._itemindentsize:[0,0,0,0,0,0];};_pComplexComponent._onGetIndentSize=function(){return this.indentsize?this.indentsize:0;};_pComplexComponent._onGetItemLeft=function(_a,_b){var _c=0;var _d=this._getItem(_a);if(_d){if(nexacro._isArray(_d)){var _e,_f;var _g;switch(_b){case  -9:{for(_e=0,_f=_d.length;_e<_f;_e++ ){_g=_d[_e];if(_g){_c=_g.visible?Math.max(_c,_g.getOffsetLeft()):_c;}}break;}case  -1:case 2:{for(_e=0,_f=1;_e<_f;_e++ ){_g=_d[_e];if(_g){_c=Math.max(_c,_g.getOffsetLeft());}}break;}case 1:default:{for(_e=0,_f=_d.length;_e<_f;_e++ ){_g=_d[_e];if(_g){_c=Math.max(_c,_g.getOffsetLeft());}}break;}}}else{_c=_d.getOffsetLeft();}}return _c;};_pComplexComponent._onGetItemTop=function(_a,_b){var _c;var _d=this._getItem(_a);if(_d){if(nexacro._isArray(_d)){var _e,_f;var _g;switch(_b){case  -9:{for(_e=0,_f=_d.length;_e<_f;_e++ ){_g=_d[_e];if(_g){_c=_c!==undefined?_g.visible?Math.min(_c,_g.getOffsetTop()):_c:_g.getOffsetTop();}}break;}case  -1:case 2:{for(_e=0,_f=1;_e<_f;_e++ ){_g=_d[_e];if(_g){_c=_c!==undefined?Math.min(_c,_g.getOffsetTop()):_g.getOffsetTop();}}break;}case 1:default:{for(_e=0,_f=_d.length;_e<_f;_e++ ){_g=_d[_e];if(_g){_c=_c!==undefined?Math.min(_c,_g.getOffsetTop()):_g.getOffsetTop();}}break;}}}else{_c=_d.getOffsetTop();}}return _c;};_pComplexComponent._onGetItemWidth=function(_a,_b){var _c=this._getPanel();if(_c){if(_b== -9){_b=_c._getPanelSlotStatusBand(_a);}switch(_c._panel_layout){case 0:{switch(_b){case  -1:case 2:{return this._panel._getPanelColSize(_a,1);}case 1:default:{return this._panel._getPanelColSize(_a, -1);}}}case 1:{var _d=this._panel._getPanelSlot(_a,true);switch(_b){case  -1:case 2:{return _d._getSlotMinWidth();}case 1:default:{return _d._getSlotMaxWidth();}}}}}var _e=0;var _f=this._getItem(_a);if(_f){var _g,_h;if(nexacro._isArray(_f)){switch(_b){case  -9:{for(_g=0,_h=_f.length;_g<_h;_g++ ){_e=_f[_g].visible?Math.max(_e,_f[_g].getOffsetRight()-_f[_g].getOffsetLeft()):_e;}break;}case  -1:case 2:{for(_g=0,_h=1;_g<_h;_g++ ){_e=Math.max(_e,_f[_g].getOffsetRight()-_f[_g].getOffsetLeft());}break;}case 1:default:{for(_g=0,_h=_f.length;_g<_h;_g++ ){_e=Math.max(_e,_f[_g].getOffsetRight()-_f[_g].getOffsetLeft());}break;}}}else{_e=_f.getOffsetRight()-_f.getOffsetLeft();}}return _e;};_pComplexComponent._onGetItemHeight=function(_a,_b){var _c=this._getPanel();if(_c){if(_b== -9){_b=_c._getPanelSlotStatusBand(_a);}switch(_c._panel_layout){case 0:{switch(_b){case  -1:case 2:{return this._panel._getPanelRowSize(_a,1);}case 1:default:{return this._panel._getPanelRowSize(_a, -1);}}}case 1:{var _d=this._panel._getPanelSlot(_a,true);switch(_b){case  -1:case 2:{return _d._getSlotMinHeight();}case 1:default:{return _d._getSlotMaxHeight();}}}}}var _e=0;var _f=this._getItem(_a);if(_f){var _g,_h;if(nexacro._isArray(_f)){var _i=_f[0].getOffsetTop();switch(_b){case  -9:{for(_g=0,_h=_f.length;_g<_h;_g++ ){_e=_f[_g].visible?Math.max(_e,_e+_f[_g].getOffsetBottom()-_i):_e;}break;}case  -1:case 2:{for(_g=0,_h=1;_g<_h;_g++ ){_e=Math.max(_e,_f[_g].getOffsetBottom()-_i);}break;}case 1:default:{for(_g=0,_h=_f.length;_g<_h;_g++ ){_e=Math.max(_e,_e+_f[_g].getOffsetBottom()-_i);}break;}}}else{_e=_f.getOffsetBottom()-_f.getOffsetTop();}}return _e;};_pComplexComponent._onGetItemArrWidth=function(_a,_b,_c){var _d=this._getPanel();if(_d){if(_b== -9){_b=_d._getPanelSlotStatusBand(_a);}switch(_d._panel_layout){case 0:{switch(_b){case  -1:case 2:{return this._panel._getPanelColSize(_a,1);}case 1:default:{return this._panel._getPanelColSize(_a, -1);}}}case 1:{var _e=this._panel._getPanelSlot(_a);if(!_e||!_e._isSetSlotCalcSize()){this._resetPanelSlot(this._getItems(),_a,1,0,0,0);_e._calcSlotPosition(0,0,0,0,_c,0);}switch(_b){case  -1:case 2:{return _e._getSlotMinWidth();}case 1:default:{return _e._getSlotMaxWidth();}}}}}return this._onGetItemWidth(_a,_b);};_pComplexComponent._onGetItemArrHeight=function(_a,_b,_c){var _d=this._getPanel();if(_d){if(_b== -9){_b=_d._getPanelSlotStatusBand(_a);}switch(_d._panel_layout){case 0:{switch(_b){case  -1:case 2:{return this._panel._getPanelRowSize(_a,1);}case 1:default:{return this._panel._getPanelRowSize(_a, -1);}}}case 1:{var _e=_d._getPanelSlot(_a,true);if(!_e||!_e._isSetSlotCalcSize()){this._resetPanelSlot(this._getItems(),_a,1,0,0,0);_e._calcSlotPosition(0,0,0,0,0,_c);}switch(_b){case  -1:case 2:{return _e._getSlotMinHeight();}case 1:default:{return _e._getSlotMaxHeight();}}}}}return this._onGetItemHeight(_a,_b);};_pComplexComponent._onGetItemRect=function(_a,_b,_c){var _d={left:0,top:0,right:0,bottom:0,width:0,height:0};var _e=this._getItem(_a);if(_e){var _f,_g;var _h;if(nexacro._isArray(_e)){var _i=(_b!=undefined)?true:false;switch(_c){case  -9:{_d.left=Infinity;_d.top=Infinity;for(_f=_b?_b:0,_g=_i?_f+1:_e.length;_f<_g;_f++ ){_h=_e[_f];if(_h&&_h.visible){_d.left=Math.min(_d.left,_h.getOffsetLeft());_d.top=Math.min(_d.top,_h.getOffsetTop());_d.right=Math.max(_d.right,_h.getOffsetRight());_d.bottom=Math.max(_d.bottom,_d.bottom+_h.getOffsetBottom());}}break;}case  -1:case 2:{_i=true;}case 1:default:{_d.left=Infinity;_d.top=Infinity;for(_f=_b?_b:0,_g=_i?_f+1:_e.length;_f<_g;_f++ ){_h=_e[_f];if(_h){_d.left=Math.min(_d.left,_h.getOffsetLeft());_d.top=Math.min(_d.top,_h.getOffsetTop());_d.right=Math.max(_d.right,_h.getOffsetRight());_d.bottom=Math.max(_d.bottom,_d.bottom+_h.getOffsetBottom());}}break;}}if(_d.left==Infinity){_d.left=0;}if(_d.top==Infinity){_d.top=0;}}else{_d.left=_e.getOffsetLeft();_d.top=_e.getOffsetTop();_d.right=_e.getOffsetRight();_d.bottom=_e.getOffsetBottom();}_d.width=_d.right-_d.left;_d.height=_d.bottom-_d.top;}return _d;};_pComplexComponent._onGetItemChildRect=function(_a,_b,_c){var _d=this._onGetItemRect(_a,_b);var _e={left:0,top:0,right:0,bottom:0,width:0,height:0};var _f=this._getItemChildByIndex(_a,_b,_c);if(_f){_e.left=_f.getOffsetLeft()+_d.left;_e.top=_f.getOffsetTop()+_d.top;_e.right=_f.getOffsetRight()+_d.left;_e.bottom=_f.getOffsetBottom()+_d.top;_e.width=_e.right-_e.left;_e.height=_e.bottom-_e.top;}return _e;};_pComplexComponent.on_notify_item_onclick=function(_a,_b){this._on_basic_onitemclick(_a,_b);this._on_fire_onitemclick(_a,_b);this._on_default_onitemclick(_a,_b);};_pComplexComponent._on_basic_onitemclick=function(_a,_b){};_pComplexComponent._on_default_onitemclick=function(_a,_b){};_pComplexComponent._on_fire_onitemclick=function(_a,_b){if(this.onitemclick&&this.onitemclick._has_handlers){var _c=this._getItemIndex(_b.fromobject);var _d=this._getItemId(_b.fromobject);var _e=this._getItemValue(_b.fromobject);return this.onitemclick._fireEvent(this,new nexacro.ItemClickEventInfo(this,"onitemclick",_c,_d,_e,_b.button,_b.alt_key,_b.ctrl_key,_b.shift_key,_b.screenX,_b.screenY,_b.canvasX,_b.canvasY,_b.clientX,_b.clientY,this,_b.from_refer_comp,_b.meta_key));}return true;};_pComplexComponent._initFormatsLayout=function(){{this._onInitFormatsLayout();}};_pComplexComponent._initSubFormatsLayout=function(){{if(this._is_child){this._initSubFormatChildLayout();}if(this._is_items){this._initSubFormatItemsLayout();}}};_pComplexComponent._onInitFormatsLayout=function(){var _a=this._formats;if(_a){_a._initFormats(nexacro._FormatsConst.FORMATMODE_XML,nexacro._FormatsConst.FORMATTYPE_ROWCOL,nexacro._FormatsConst.FORMATBIND_BIND|nexacro._FormatsConst.FORMATBIND_EXPR,["head"],["body"],["tail"],["mark"],["null"],["mark","null"],{"Band":"nexacro.ComplexComponent"});}};_pComplexComponent._initSubFormatChildLayout=function(){var _a=this._getChildren();var _b=_a?_a.length:0;for(var _d=0;_d<_b;_d++ ){var _c=_a[_d];if(_c&&_c._is_format_layout){this._onInitSubFormatChildLayout(_c,this.panel);}}};_pComplexComponent._initSubFormatItemsLayout=function(){var _a=this._getItems();var _b=_a?_a.length:0;for(var _d=0;_d<_b;_d++ ){var _c=_a[_d];if(_c&&_c._is_format_layout){this._onInitSubFormatItemsLayout(_c,this.panel);}}};_pComplexComponent._onInitSubFormatChildLayout=function(_a,_b){};_pComplexComponent._onInitSubFormatItemsLayout=function(_a,_b){};_pComplexComponent._setFormats=function(_a){if(this._is_format_layout&&this._formats){if(_a){this._parseFormats(_a);}else{this._clearFormats();}}};_pComplexComponent._createFormats=function(){if(this._is_format_layout&&this.formats){this._onCreateFormats();this._onChangeFormat(this.formatid);}else{this._onCreateCtxtInfo();}};_pComplexComponent._createdFormats=function(){return this._createFormats();};_pComplexComponent._clearFormats=function(){if(this._is_format_layout&&this.formats){this._onClearFormats();this._onChangeFormat(this.formatid);}else{this._onClearFormats();this._clearCtxtBaseInfo();}};_pComplexComponent._updateFormats=function(){this._clearFormats();this._createFormats();};_pComplexComponent._parseFormats=function(_a){this._onClearFormats();this._onParseFormats(_a);};_pComplexComponent._changeFormatId=function(_a){if(this._is_format_layout&&this.formats){this._onChangeFormat(_a);}};_pComplexComponent._clearFormatId=function(_a){};_pComplexComponent._onGetStrFormats=function(){return this.formats;};_pComplexComponent._onCreateFormats=function(){if(this._formats&&!this._formats._format_parsed){this._parseFormats(this._onGetStrFormats());}};_pComplexComponent._onParseFormats=function(_a){if(this._formats){this._formats._parseFormats(_a,this._databind);}};_pComplexComponent._onChangeFormat=function(_a){var _b=this._formats;if(_b&&_b._format_parsed){var _c=nexacro._nvl(_a,this._formats._default_id);if(_b._getCurrentID()==_c){return;}this._clearCtxtBaseInfo();_b._setCurrentID(_c);var _d=_b._getCurrentItem();var _e=_b._format_type;if(_d){this._setCtxtBaseInfo(_d,_e);}var _f=this._getPanel();if(_f){this._setPanelCtxtInfo(_d,_e);}this._applyBindInfos();this._applyValue();}};_pComplexComponent._onCreateCtxtInfo=function(){if(this._is_panel_layout&&this._panel){var _a=this._panel;this._null_ctxts=this._use_nullitem?this._onGetContextDataNull():null;this._head_count=_a._getSlotTargetCount( -1);this._body_count=_a._getSlotTargetCount(0);this._tail_count=_a._getSlotTargetCount( -2);if(!this._head_count||this._head_count<0){this._head_count=0;}if(!this._body_count||this._body_count<0){this._body_count=0;}if(!this._tail_count||this._tail_count<0){this._tail_count=0;}this._null_count=this._use_nullitem&&nexacro._isArray(this._null_ctxts)?this._null_ctxts.length:(this._null_ctxts?1:undefined);}else{this._onClearCtxtInfo();}};_pComplexComponent._onClearFormats=function(_a){if(this._ctxtdata){this._clearCtxtBaseInfo();}if(this._formats){this._formats._clear();}};_pComplexComponent._onClearCtxtInfo=function(){this._head_count=0;this._body_count=0;this._tail_count=0;};_pComplexComponent._fetchFormatsRowCols=function(_a){var _b=[ -1, -1,1,1];var _c=this._getCtxtBaseInfo();if(!_c){return [_b];}var _d=this._getCtxtData(_a);if(!_d){return [_b];}if(nexacro._isArray(_d)){var _e=Array(_d.length);for(var _f=0,_g=_d.length;_f<_g;_f++ ){_e[_f]=_d[_f]?_c._getArrPos(_d[_f]):_b;}return _e;}else{return [_d?_c._getArrPos(_d):_b];}};_pComplexComponent._fetchFormatsPosition=function(_a){var _b=[0,0,0,0,0,0];var _c=this._getCtxtBaseInfo();if(!_c){return [_b];}var _d=this._getCtxtData(_a);if(!_d){return [_b];}if(nexacro._isArray(_d)){var _e=Array(_d.length);for(var _f=0,_g=_d.length;_f<_g;_f++ ){_e[_f]=_d[_f]?_c._getArrPos(_d[_f]):_b;}return _e;}else{return [_d?_c._getArrPos(_d):_b];}};_pComplexComponent._setCtxtBaseInfo=function(_a,_b){if(!this._is_format_layout){this._is_format_layout=true;}this._clearCtxtBaseInfo();if(_a){this._ctxtdata=_a;this._body_cache=[];this._body_ctxts=this._onGetContextDataBody();this._head_ctxts=this._use_headitem?this._onGetContextDataHead():null;this._tail_ctxts=this._use_tailitem?this._onGetContextDataTail():null;this._mark_ctxts=this._use_markitem?this._onGetContextDataMark():null;this._null_ctxts=this._use_nullitem?this._onGetContextDataNull():null;this._body_count=!this._is_levelbind&&nexacro._isArray(this._body_ctxts)?this._body_ctxts.length:(this._body_ctxts?1:undefined);this._head_count=this._use_headitem&&nexacro._isArray(this._head_ctxts)?this._head_ctxts.length:(this._head_ctxts?1:undefined);this._tail_count=this._use_tailitem&&nexacro._isArray(this._tail_ctxts)?this._tail_ctxts.length:(this._tail_ctxts?1:undefined);this._mark_count=this._use_markitem&&nexacro._isArray(this._mark_ctxts)?this._mark_ctxts.length:(this._mark_ctxts?1:undefined);this._null_count=this._use_nullitem&&nexacro._isArray(this._null_ctxts)?this._null_ctxts.length:(this._null_ctxts?1:undefined);}this._onSetCtxtBaseInfo();};_pComplexComponent._clearCtxtBaseInfo=function(){this._onClearCtxtBaseInfo();if(this._body_cache){this._body_cache=null;}if(this._body_ctxts){this._body_ctxts=null;}if(this._head_ctxts){this._head_ctxts=null;}if(this._tail_ctxts){this._tail_ctxts=null;}if(this._mark_ctxts){this._mark_ctxts=null;}if(this._null_ctxts){this._null_ctxts=null;}if(this._body_count){this._body_count=0;}if(this._head_count){this._head_count=0;}if(this._tail_count){this._tail_count=0;}if(this._mark_count){this._mark_count=0;}if(this._null_count){this._null_count=0;}if(this._ctxtdata){this._ctxtdata=null;}};_pComplexComponent._getCtxtBaseInfo=function(){if(this._ctxtdata){return this._ctxtdata;}else{return null;}};_pComplexComponent._getCtxtData=function(_a){if(_a==undefined){return this._onGetContextData();}if(_a>=0){return this._body_ctxts?this._is_levelbind?this._onGetContextDataLevel(_a):this._body_ctxts:this._onGetContextDataBody(_a);}if(_a== -1){return this._head_ctxts?this._head_ctxts:this._onGetContextDataHead();}if(_a== -2){return this._tail_ctxts?this._tail_ctxts:this._onGetContextDataTail();}if(_a== -3){return this._mark_ctxts?this._mark_ctxts:this._onGetContextDataMark();}if(_a== -4){return this._null_ctxts?this._null_ctxts:this._onGetContextDataNull();}};_pComplexComponent._setCtxtItemInfo=function(_a,_b,_c,_d){if(_a&&_b){var _e,_f,_g;if(nexacro._isArray(_a)){if(nexacro._isArray(_b)){for(_e=0,_f=_a.length,_g=_b.length;_e<_f;_e++ ){this._setCtxtItemInfo(_a[_e],_b[_e%_g],_c,_e);}}else{for(_e=0,_f=_a.length;_e<_f;_e++ ){this._setCtxtItemInfo(_a[_e],_b,_c,_e);}}}else{var _h=nexacro._isArray(_b)?_b[0]:_b;var _i=_h._setts;var _j=_h._items;var _k=_a._children;if(_a._setItemId){_a._setItemId(_a,_h._id);}if(_a._setItemSubIndex){_a._setItemSubIndex(_a,_d);}if(_i){for(var _n in _i){var _l=_i[_n];var _m=_h[_n];if(!_l){continue;}if(Array.isArray(_m)){_l.apply(_a,_m);}else{_l.call(_a,_m);}}}if(_j&&_k){for(_e=0,_f=_k.length,_g=_j.length;_e<_f;_e++ ){this._setCtxtItemInfo(_k[_e],_j[_e%_g],_c,_e);}}}}};_pComplexComponent.createCtxtControl=function(_a,_b,_c){if(_a){var _d;if(_c){_d=_a._id;}else{_d=_b!=undefined?_a._id+_b:_a._id;}var _e=_a._pos?_a._pos:null;var _f=null;var _g=_a._construc;if(!_g){_g=_a._construc=nexacro._getTypeConstructor(_a._typename,"nexacro.ComplexComponent");}if(_g){if(_e){_f=new _g(_d,_e[0],_e[1],_e[2],_e[3],_e[4],_e[5],null,null,null,null,this);}else{_f=new _g(_d,0,0,0,0,null,null,null,null,null,null,this);}}if(_f){if(_c){this._addChildCollection(_d,_f);}if(_f._setCtxtBaseInfo){_f._setCtxtBaseInfo(_a);}this.onCreateCtxtControl(_f,_a,_b);}return _f;}};_pComplexComponent._onSetCtxtBaseInfo=function(){};_pComplexComponent._onClearCtxtBaseInfo=function(){this._ctxtdata=null;};_pComplexComponent.onCreateCtxtControl=function(_a,_b,_c){if(_a&&_b){if(_a._setAddedCreateInfo){_a._setAddedCreateInfo(this,_b,_c);}if(_a._setEventHandler){_a._setEventHandler("onclick",this.on_notify_item_onclick,this);}}return _a;};_pComplexComponent._onGetContextData=function(){return this._ctxtdata;};_pComplexComponent._onGetBandIndexByLevel=function(_a){return this._fetchLevelBindValue(_a);};_pComplexComponent._onGetContextDataBand=function(_a,_b){if(this._ctxtdata){if(!this._ctxtdata._getBand||!_a||_a.length<=0){return null;}var _c=[];for(var _e=0,_f=_a.length;_e<_f;_e++ ){var _d=this._ctxtdata._getBand(_a[_e],false);if(_d){_c.push(_d);}}if(!_c.length){_a=this._ctxtdata._getBands();if(_a&&_a.length){_c.push(_a[0]);}}return _c;}return null;};_pComplexComponent._onGetContextDataHead=function(_a){return this._formats?this._onGetContextDataBand(this._formats._head_bands,_a):null;};_pComplexComponent._onGetContextDataTail=function(_a){return this._formats?this._onGetContextDataBand(this._formats._tail_bands,_a):null;};_pComplexComponent._onGetContextDataBody=function(_a){return this._formats?this._onGetContextDataBand(this._formats._body_bands,_a):null;};_pComplexComponent._onGetContextDataMark=function(_a){return this._formats?this._onGetContextDataBand(this._formats._mark_bands,_a):null;};_pComplexComponent._onGetContextDataNull=function(_a){return this._formats?this._onGetContextDataBand(this._formats._null_bands,_a):null;};_pComplexComponent._onGetContextDataLevel=function(_a){var _b=this._onGetBandIndexByLevel(_a)%this._body_ctxts.length;return this._body_ctxts[_b];};_pComplexComponent._getContextSize=function(_a,_b){return this._ctxtdata?[this._getContextWidth(_a),this._getContextHeight(_b)]:[0,0];};_pComplexComponent._getContextWidth=function(_a){if(this._ctxtdata&&this._ctxtdata.__ap){var _b=this._ctxtdata.__ap;var _c=_a!==undefined?_a:this.parent?this.parent._getClientWidth():this._getClientWidth();var _d=_b[0];if(_d!=0&& -1<_d&&_d<1){_d=Math.floor(_d* 100* _c);}var _e=_b[2];if(_e!=0&& -1<_e&&_e<1){_e=Math.floor(_e* 100* _c);}var _f=_b[4];if(_f!=0&& -1<_f&&_f<1){_f=Math.floor(_f* 100* _c);}if(_e===undefined){if(_d!==undefined&&_f!=undefined){_e=_c-_f-_d;}}return _e;}return 10;};_pComplexComponent._getContextHeight=function(_a){if(this._ctxtdata&&this._ctxtdata.__ap){var _b=this._ctxtdata.__ap;var _c=_a!==undefined?_a:this.parent?this.parent._getClientHeight():this._getClientHeight();var _d=_b[1];if(_d!=0&& -1<_d&&_d<1){_d=Math.floor(_d* 100* _c);}var _e=_b[3];if(_e!=0&& -1<_e&&_e<1){_e=Math.floor(_e* 100* _c);}var _f=_b[5];if(_f!=0&& -1<_f&&_f<1){_f=Math.floor(_f* 100* _c);}if(_e===undefined){if(_d!==undefined&&_f!=undefined){_e=_c-_f-_d;}}return _e;}return 5;};_pComplexComponent.formats="";_pComplexComponent.formatid="";_pComplexComponent._initBind=function(){if(this._is_databind){this._databind=new nexacro._BindData(this._is_valuebind,this._is_databind,this._is_xmlbind,this._is_jsonbind,this._is_fullbind,this._is_levelbind,this._is_dataexpr,this._is_fullexpr);this._databind._initExprTarget(this);}};_pComplexComponent._initBindInfo=function(_a){if(this._is_databind&&this._databind){this._setBindDataSource();if(!this._is_format_layout||_a){this._applyBindInfos();this._applyValue();}}};_pComplexComponent._applyBindInfos=function(){this._setBindInfos(this._onGetCodeBindInfo(),this._onGetLevelBindInfo(),this._onGetGroupBindInfo(),this._onGetDataBindInfos());};_pComplexComponent._clearBindInfo=function(){if(this._is_databind&&this._databind){this._clearBindInfos(true);this._clearBindDataSource();}};_pComplexComponent._resetBindInfo=function(){this._clearBindInfo();this._initBindInfo(true);};_pComplexComponent._clearBind=function(){if(this._databind){this._databind._clear();delete this._databind;this._databind=null;}};_pComplexComponent._getBindDataSet=function(){if(this._databind){return this._databind._getBindDataSetObj();}};_pComplexComponent._getBindDataCtx=function(_a){if(this._databind){return this._databind._getBindDataCtxObj(_a);}};_pComplexComponent._setBindDataSource=function(){this._clearBindDataSource();if(this._databind){if(this._is_xmlbind||this._is_jsonbind){return this._databind._setBindDataCtx(this._onGetBindDataSource(),this._onGetBindDataKey(),this);}else{return this._databind._setBindDataSet(this._onGetBindDataSource(),this);}}};_pComplexComponent._clearBindDataSource=function(){if(this._databind){if(this._is_xmlbind||this._is_jsonbind){return this._databind._clearBindDataCtx(this);}else{return this._databind._clearBindDataSet(this);}}};_pComplexComponent._setCodeColumn=function(){if(this._databind){return this._databind._setCodeColumn(this._onGetCodeColumn(),this._onGetCodeProp());}};_pComplexComponent._clearCodeColumn=function(){if(this._databind){return this._databind._clearCodeColumn();}};_pComplexComponent._setLevelColumn=function(){if(this._databind){return this._databind._setLevelColumn(this._onGetLevelColumn(),this._onGetLevelProp());}};_pComplexComponent._clearLevelColumn=function(){if(this._databind){return this._databind._clearLevelColumn();}};_pComplexComponent._setGroupColumn=function(){if(this._databind){return this._databind._setGroupColumn(this._onGetGroupColumn(),this._onGetGroupProp());}};_pComplexComponent._clearGroupColumn=function(){if(this._databind){return this._databind._clearGroupColumn();}};_pComplexComponent._setDataColumn=function(){if(this._databind){return this._databind._setDataColumn(this._onGetDataColumns(),this._onGetDataProps());}};_pComplexComponent._clearDataColumn=function(){if(this._databind){return this._databind._clearDataColumn();}};_pComplexComponent._getBindCount=function(){if(this._databind){return this._databind._getBindRowCount();}else{return 0;}};_pComplexComponent._getBindCurrentPos=function(){if(this._databind){return this._databind._getBindRowCurrent();}else{return  -1;}};_pComplexComponent._getBindItem=function(_a){return this._getItem(_a);};_pComplexComponent.createCodeBindInfo=function(_a,_b,_c){var _d=new nexacro._BindInfo();_d.baseid="";_d.target=nexacro._nvl(_a,false)?_a.split('.'):null;_d.setter=nexacro._nvl(_b,false)?"set_"+_b:"set_"+this._onGetBindableProperties();_d.bindid=nexacro._nvl(_c,false)?_c:this._onGetCodeProp();return _d;};_pComplexComponent.createLevelBindInfo=function(_a,_b,_c){var _d=new nexacro._BindInfo();_d.baseid="";_d.target=nexacro._nvl(_a,false)?_a.split('.'):null;_d.setter=nexacro._nvl(_b,false)?"set_"+_b:"";_d.bindid=nexacro._nvl(_c,false)?_c:this._onGetLevelProp();return _d;};_pComplexComponent.createGroupBindInfo=function(_a,_b,_c){var _d=new nexacro._BindInfo();_d.baseid="";_d.target=nexacro._nvl(_a,false)?_a.split('.'):null;_d.setter=nexacro._nvl(_b,false)?"set_"+_b:"";_d.bindid=nexacro._nvl(_c,false)?_c:this._onGetGroupProp();return _d;};_pComplexComponent.createDataBindInfo=function(_a,_b,_c,_d){var _e=new nexacro._BindInfo();_e.baseid=_a;_e.target=nexacro._nvl(_b,false)?_b.split('.'):null;_e.setter=nexacro._nvl(_c,false)?"set_"+_c:"set_text";_e.bindid=nexacro._nvl(_d,false)?_d:this._onGetDataProps()[0];return _e;};_pComplexComponent.createDataExprInfo=function(_a,_b,_c,_d){var _e=new nexacro._BindInfo();_e.baseid=_a;_e.target=nexacro._nvl(_b,false)?_b.split('.'):null;_e.setter=nexacro._nvl(_c,false)?"set_"+_c:"set_text";_e.exprid=nexacro._nvl(_d,false)?_d:this._onGetExprProp();return _e;};_pComplexComponent.createItemBindInfo=function(_a,_b){return this.createDataBindInfo(null,null,_a,_b);};_pComplexComponent.createItemSubControlBindInfo=function(_a,_b,_c){return this.createDataBindInfo(null,_a,_b,_c);};_pComplexComponent.createItemExprInfo=function(_a,_b){return this.createDataExprInfo(null,null,_a,_b);};_pComplexComponent.createItemSubControlExprInfo=function(_a,_b,_c){return this.createDataExprInfo(null,_a,_b,_c);};_pComplexComponent._setBindInfos=function(_a,_b,_c,_d){if(this._databind){return this._databind._setBindInfos(_a,_b,_c,_d);}};_pComplexComponent._clearBindInfos=function(_a){if(this._databind){return this._databind._clearBindInfos(_a);}};_pComplexComponent._getBindInfo=function(_a,_b){if(this._databind){return this._databind._getBindInfo(_a,_b);}};_pComplexComponent._getCodeBindInfo=function(){if(this._databind){return this._databind._getBindInfo(0);}};_pComplexComponent._getLevelBindInfo=function(){if(this._databind){return this._databind._getBindInfo(1);}};_pComplexComponent._getGroupBindInfo=function(){if(this._databind){return this._databind._getBindInfo(2);}};_pComplexComponent._getDataBindInfo=function(_a){if(this._databind){return this._databind._getBindInfo(_a+2);}};_pComplexComponent._fetchCodeBindValue=function(_a){return this._databind._fetchCodeBindValue(_a);};_pComplexComponent._fetchLevelBindValue=function(_a){return this._databind._fetchLevelBindValue(_a);};_pComplexComponent._fetchGroupBindValue=function(_a){return this._databind._fetchGroupBindValue(_a);};_pComplexComponent._fetchDataBindValue=function(_a,_b){return this._databind._fetchDataBindValue(_a,_b);};_pComplexComponent._fetchBindDataCtxObj=function(){return this._databind._fetchBindDataCtxObj();};_pComplexComponent._fetchBindDataCtxStr=function(){return this._databind._fetchBindDataCtxStr();};_pComplexComponent._fetchBindDataCtxRow=function(_a){return this._databind._getBindRow(_a);};_pComplexComponent._fetchBindDataCtx=function(_a,_b){return this._databind._fetchBindValue(_a,_b);};_pComplexComponent._getBindData=function(_a){if(this._databind){return this._databind._getBindData(_a);}};_pComplexComponent._getBindColumn=function(_a,_b){return this._databind._getBindColumn(_a,_b);};_pComplexComponent._getBindRow=function(_a){return this._databind._getBindRow(_a);};_pComplexComponent._setBindData=function(_a,_b,_c){if(this._databind){return this._databind._setBindData(_a,_b,_c);}};_pComplexComponent._setBindColumn=function(_a,_b,_c){if(this._databind){return this._databind._setBindColumn(_a,_b,_c);}};_pComplexComponent._setBindColumnByID=function(_a,_b,_c){if(this._databind){return this._databind._setBindColumn(_a,_b,_c);}};_pComplexComponent._appendBindRow=function(_a,_b){if(this._databind){return this._databind._appendBindRow(_a,_b);}};_pComplexComponent._insertBindRow=function(_a,_b){if(this._databind){return this._databind._insertBindRow(_a,_b);}};_pComplexComponent._subsetBindRow=function(_a,_b,_c){if(this._databind){return _c?this._databind._subaddBindRow(_a,_b):this._databind._subinsBindRow(_a,_b);}};_pComplexComponent._deleteBindRow=function(_a){if(this._databind){return this._databind._deleteBindRow(_a);}};_pComplexComponent._moveBindRow=function(_a,_b){if(this._databind){return this._databind._moveBindRow(_a,_b);}};_pComplexComponent._exchangeBindRow=function(_a,_b){if(this._databind){return this._databind._exchangeBindRow(_a,_b);}};_pComplexComponent._searchBindRow=function(_a,_b){if(this._databind){return this._databind._searchBindRow(this._databind._getBindColIndex(_a),_b);}};_pComplexComponent._getBindBase=function(_a,_b){return _b>=0?_a[_b]:null;};_pComplexComponent._getBindFunc=function(_a,_b){return _a[_b];};_pComplexComponent._getBindComp=function(_a,_b){if(nexacro._isArray(_b)){var _c=_a;for(var _d=0,_e=_b.length;_d<_e&&_c;_d++ ){_c=_c._findChild?_c._findChild(_b[_d]):_c[_b[_d]];}return _c;}else{return _a._findChild?_a._findChild(_b):_a[_b];}};_pComplexComponent._setBindItemInfo=function(_a,_b,_c,_d){if(_a&&_b){var _e,_f;var _g=_b._getBindInfos();var _h=_b._chkBindInfos();var _i,_j,_k,_l,_m;if(nexacro._isArray(_a)){for(_e=_h,_f=_g.length;_e<_f;_e++ ){_i=_g[_e];if(!_i){continue;}_j=nexacro._nvl(_i.baseid,false)?this._getBindBase(_a,_i.basesq):null;if(!_j){continue;}_k=nexacro._nvl(_i.target,false)?this._getBindComp(_j,_i.target):_j;if(!_k){continue;}_l=nexacro._nvl(_i.setter,false)?this._getBindFunc(_k,_i.setter):null;if(!_l){continue;}_m=_i.values;if(nexacro._isArray(_m)){_l.apply(_k,_m);}else{_l.call(_k,_m);}}}else if(_d){for(_e=_h,_f=_g.length;_e<_f;_e++ ){_i=_g[_e];if(!_i||_i.basesq!=_d){continue;}_k=nexacro._nvl(_i.target,false)?this._getBindComp(_a,_i.target):_a;if(!_k){continue;}_l=nexacro._nvl(_i.setter,false)?this._getBindFunc(_k,_i.setter):null;if(!_l){continue;}_m=_i.values;if(nexacro._isArray(_m)){_l.apply(_k,_m);}else{_l.call(_k,_m);}}}else{for(_e=_h,_f=_g.length;_e<_f;_e++ ){_i=_g[_e];if(!_i){continue;}_k=nexacro._nvl(_i.target,false)?this._getBindComp(_a,_i.target):_a;if(!_k){continue;}_l=nexacro._nvl(_i.setter,false)?this._getBindFunc(_k,_i.setter):null;if(!_l){continue;}_m=_i.values;if(nexacro._isArray(_m)){_l.apply(_k,_m);}else{_l.call(_k,_m);}}}}};_pComplexComponent._onGetBindableProperties=function(){return "value";};_pComplexComponent._onGetBindDataSource=function(){if(this._is_fullbind){return this.binddataset?this.binddataset:this.binddatasource;}if(this._is_databind){return this.innerdataset?this.innerdataset:this.binddatasource;}return null;};_pComplexComponent._onGetBindDataKey=function(){return "*";};_pComplexComponent._onGetCodeColumn=function(){return this.codecolumn?this.codecolumn:"#rowindex";};_pComplexComponent._onGetLevelColumn=function(){return this.levelcolumn?this.levelcolumn:"#rowlevel";};_pComplexComponent._onGetGroupColumn=function(){return this.groupcolumn?this.groupcolumn:"#rowgroup";};_pComplexComponent._onGetDataColumns=function(){return [this.datacolumn?this.datacolumn:"#nodename"];};_pComplexComponent._onGetCodeProp=function(){return this._is_fullbind?"#rowindex":"codecolumn";};_pComplexComponent._onGetLevelProp=function(){return this._is_fullbind?"#rowlevel":"levelcolumn";};_pComplexComponent._onGetGroupProp=function(){return this._is_fullbind?"#rowgroup":"groupcolumn";};_pComplexComponent._onGetDataProps=function(){return ["datacolumn"];};_pComplexComponent._onGetCodeBindInfo=function(){return this._is_databind&&!this._is_fullbind?this.createCodeBindInfo():null;};_pComplexComponent._onGetLevelBindInfo=function(){return this._is_databind&&this._is_levelbind?this.createLevelBindInfo():null;};_pComplexComponent._onGetGroupBindInfo=function(){return this._is_databind&&this._is_levelbind?this.createGroupBindInfo():null;};_pComplexComponent._onGetDataBindInfos=function(){if(this._is_databind){if(this._is_fullbind){return this._onGetFullBindInfos();}var _a=this.createDataBindInfo();if(_a){return [_a];}}return null;};_pComplexComponent._onGetFullBindInfos=function(){if(this._formats){var _a=this._formats._getBindInfos();if(_a&&_a.length){return nexacro._clone(_a);}}return null;};_pComplexComponent._onInitBindSource=function(_a,_b,_c){if(this._is_created){if(this._is_databind){this._resetBindInfo();}this._clearItems();}nexacro.SimpleComponent.prototype._onInitBindSource.call(this);};_pComplexComponent._onChangeBindSource=function(_a,_b,_c,_d){if(this._is_created){if(this._is_databind){this._resetBindInfo();this._recreateItems();}}nexacro.SimpleComponent.prototype._onChangeBindSource.call(this,_a,_b,_c,_d);};_pComplexComponent._callback_onload=function(_a,_b){if(this._is_databind&&this._is_created){this._resetBindInfo();this._recreateItems();}};_pComplexComponent._callback_onvaluechanged=function(_a,_b){if(this._is_databind&&this._is_created){this._updateItems(_b.row,1,_b);}};_pComplexComponent._callback_oncolumnchanged=function(_a,_b){};_pComplexComponent._callback_onrowsetchanged=function(_a,_b){if(this._is_databind&&this._is_created){if(this._databind._isDataSetEnableEvent()){this._resetBindInfo();this._recreateItems();}}};_pComplexComponent._callback_onrowposchanged=function(_a,_b){};_pComplexComponent.innerdataset=null;_pComplexComponent.codecolumn="";_pComplexComponent.datacolumn="";_pComplexComponent.levelcolumn="";_pComplexComponent.groupcolumn="";_pComplexComponent.multiselect=false;_pComplexComponent.rangeselect=false;_pComplexComponent.selectscrollmode="default";_pComplexComponent._use_selector=false;_pComplexComponent._use_multiselector=false;_pComplexComponent._use_partsselector=false;_pComplexComponent.getSelectCount=function(){return this._onGetMultiSelectCount();};_pComplexComponent.getSelectList=function(){return this._onGetMultiSelectList();};_pComplexComponent.getSelectIndex=function(){return this._onGetCurrentSelect();};_pComplexComponent.setSelect=function(_a,_b){var _c=this._onGetSelectArgument(_a,_b);if(this.multiselect){this._onClearMultiSelectList();return this._onSetCurrentSelect(_c);}else{return this._onSetCurrentSelect(_c);}};_pComplexComponent.addSelect=function(_a,_b){var _c=this._onGetSelectArgument(_a,_b);return this._onAddMultiSelect(_c);};_pComplexComponent.popSelect=function(){return this._onPopMultiSelect();};_pComplexComponent.clearSelect=function(){return this._onClearMultiSelectList();};_pComplexComponent.isAboveSelected=function(_a,_b){return this._onCheckAboveMultiSelectList(_a,_b);};_pComplexComponent._onInitSelect=function(_a,_b,_c,_d,_e){if(this._selectinfo){if(!_a){if(this._is_items){_a=nexacro._SelectConst.SELECTTYPE_ITEM;}else{_a=nexacro._SelectConst.SELECTTYPE_COMP;}}this._selectinfo._initSelect(_a,_b,_c,_d,_e);}};_pComplexComponent._onGetSelectArgument=function(_a,_b){if(this._use_partsselector){return !nexacro._isNull(_b)&&!nexacro._isArray(_a)?[_a,_b]:_a;}else{return _a;}};_pComplexComponent._onGetMultiSelectCount=function(){if(this._selectinfo){return this._selectinfo._getMultiSelectCount();}};_pComplexComponent._onGetMultiSelectList=function(){if(this._selectinfo){return this._selectinfo._getMultiSelectList();}};_pComplexComponent._onAddMultiSelect=function(_a){if(this._selectinfo){return this._selectinfo._addMultiSelect(_a);}};_pComplexComponent._onPopMultiSelect=function(){if(this._selectinfo){return this._selectinfo._popMultiSelect();}};_pComplexComponent._onClearMultiSelectList=function(){if(this._selectinfo){return this._selectinfo._clearMultiSelectList();}};_pComplexComponent._onCheckAboveMultiSelectList=function(_a,_b){if(this._selectinfo){return this._selectinfo._checkAboveMultiSelectList(_a,_b);}};_pComplexComponent._setItemPartsSelect=function(_a,_b){if(_a&&_a.setSelect){_a.setSelect(_b);}};_pComplexComponent._setItemArraySelect=function(_a,_b){if(_a){if(nexacro._isArray(_a)){for(var _c=0,_d=_a.length;_c<_d;_c++ ){this._setItemPartsSelect(_a[_c],_b);}}else{this._setItemPartsSelect(_a,_b);}}};_pComplexComponent._setItemRangeSelect=function(_a,_b){if(_a){if(nexacro._isArray(_a)){for(var _d=0,_e=_a.length;_d<_e;_d++ ){var _c=_a[_d];if(!_c){continue;}if(_c.length){for(var _f=_c[0],_g=_c[_c.length-1];_f<_g;_f++ ){this._setItemArraySelect(this._getItem(_c[_f]));}}}}else{this._setItemArraySelect(this._getItem(_a));}}};_pComplexComponent._setItemSelect=function(_a,_b,_c){if(_a==null){return;}var _d,_e;if(_a.length){if(this.rangeselect){if(this._use_multiselector){for(_d=0,_e=_a.length;_d<_e;_d++ ){this._setItemRangeSelect(_a[_d],_b);this._showSelector(_a[_d],_b);}if(_c!=false){this._showItem(_a[_a.length-1],_b);}return;}if(this._use_partsselector){return;}else{for(_d=0,_e=_a.length;_d<_e;_d++ ){this._setItemRangeSelect(_a[_d],_b);}if(this._use_selector){this._showSelector(_a[_a.length-1],_b);}if(_c!=false){this._showItem(_a[_a.length-1],_b);}return;}}else{if(this._use_multiselector){for(_d=0,_e=_a.length;_d<_e;_d++ ){this._setItemArraySelect(this._getItem(_a[_d]),_b);this._showSelector(_a[_d],_b);}if(_c!=false){this._showItem(_a[_a.length-1],_b);}return;}if(this._use_partsselector){if(this._use_selector){this._setItemPartsSelect(this._getRawItem(_a),_b);this._showSelector(_a,_b);}else{this._setItemPartsSelect(this._getRawItem(_a),_b);}return;}else{for(_d=0,_e=_a.length;_d<_e;_d++ ){this._setItemArraySelect(this._getItem(_a[_d]),_b);}if(this._use_selector){this._showSelector(_a[_a.length-1],_b);}if(_c!=false){this._showItem(_a[_a.length-1],_b);}return;}}}if(_a== -9){var _f=this._getItemsCount();var _g=this._getBindCount()-1;if(this.rangeselect){var _h=[0,_f-1];if(this._use_selector){this._setItemRangeSelect(_h,_b);this._showSelector(_h,_b);}else{this._setItemRangeSelect(_h,_b);}}else{if(this._use_multiselector){for(_d=0;_d<_f;_d++ ){this._setItemArraySelect(this._getItem(_d),_b);this._showSelector(_d,_b);}}else{for(_d=0;_d<_f;_d++ ){this._setItemArraySelect(this._getItem(_d),_b);}if(this._use_selector){this._showSelector(_f-1,_b);}}}if(_c!=false){this._showItem(_g,_b);}return;}else{if(this.rangeselect){this._setItemRangeSelect(_a,_b);}else{this._setItemArraySelect(this._getItem(_a),_b);}if(this._use_selector){this._showSelector(_a,_b);}if(_c!=false){this._showItem(_a,_b);}return;}};_pComplexComponent._findNextSelectIndex=function(_a,_b,_c,_d){var _e=this._getPanel();if(!_e){return;}var _f=this._getBindCount()-1;if(_f<=0){return;}var _g=_e._isColFirst()?this._getItemViewCountCol(false):1;var _h=_e._isRowFirst()?this._getItemViewCountRow(true):1;var _i=_g* _h;var _j=this.getSelectIndex();if(_j===undefined||_j===null){_j= -1;}var _k=_j.length?_j[0]:_j;if(_k===undefined||_k===null||_k<0){_k= -1;}var _l=_k;switch(_a){case nexacro.Event.KEY_TAB:if(_d){_l=(_k-_g);}else{_l=(_k+_g);}break;case nexacro.Event.KEY_UP:_l=(_k-_g);break;case nexacro.Event.KEY_DOWN:_l=(_k+_g);break;case nexacro.Event.KEY_LEFT:_l=(_k-_h);break;case nexacro.Event.KEY_RIGHT:_l=(_k+_h);break;case nexacro.Event.KEY_PAGE_UP:_l=(_k-_i);break;case nexacro.Event.KEY_PAGE_DOWN:_l=(_k+_i);break;}if(_l<0||_l>_f){_l=_k;}return _l!=_k?_l:_k;};_pComplexComponent._findNextSelectItem=function(_a,_b,_c,_d){var _e=this.getSelectIndex();var _f=this._findNextSelectIndex(_a,_b,_c,_d);return _f!=_e?this._getItem(_f):null;};_pComplexComponent._findNextSelectChild=function(_a,_b,_c,_d){var _e=this._getCurrChild();var _f=_e;if(_a==nexacro.Event.KEY_TAB){if(_d){_f=this._getPrevChild(this._getCurrChild(),true);}else{_f=this._getNextChild(this._getCurrChild(),true);}}return _f!=_e?_f:null;};_pComplexComponent._checkActionKeyInfo=function(_a,_b,_c,_d,_e,_f){var _g="custom";if(_f&&_e){if(_f._checkProcessedKey&&_f._checkProcessedKey(_a,_b,_c,_d,_f,_f)){return _g;}if(_e._checkProcessedKey&&_e._checkProcessedKey(_a,_b,_c,_d,_e,_f)){return _g;}}var _h=this._is_expandable&&this._is_nc_expand?"expand":"";var _i=this._is_scrollable&&this._is_nc_scroll?"scroll":"";var _j=this._is_items&&this._use_select?"select":"";switch(_a){case nexacro.Event.KEY_TAB:_g=_j;break;case nexacro.Event.KEY_DOWN:case nexacro.Event.KEY_UP:case nexacro.Event.KEY_LEFT:case nexacro.Event.KEY_RIGHT:case nexacro.Event.KEY_PAGE_UP:case nexacro.Event.KEY_PAGE_DOWN:if(!_b&&_c&&!_d){_g=_i;}else{_g=_j;}break;case 69:if(_b&&_c&&!_d){_g=_h;}break;}return _g;};_pComplexComponent._selectItemKeyInfo=function(_a,_b,_c,_d){switch(_a){case nexacro.Event.KEY_DOWN:case nexacro.Event.KEY_UP:case nexacro.Event.KEY_LEFT:case nexacro.Event.KEY_RIGHT:case nexacro.Event.KEY_PAGE_UP:case nexacro.Event.KEY_PAGE_DOWN:var _e=this._findNextSelectIndex(_a,_b,_c,_d);if(_e==null||_e<0){return false;}if(_d){this.addSelect(_e);}this.setSelect(_e);this._focusItem(_e);break;case nexacro.Event.KEY_TAB:if(this._is_child){var _f=this._findNextSelectChild(_a,_b,_c,_d);if(_f==null){return false;}_f.setFocus();}else{var _g=this._findNextSelectIndex(_a,_b,_c,_d);if(_g==null||_g<0){return false;}this.setSelect(_g);}break;case nexacro.Event.KEY_ENTER:break;}return true;};_pComplexComponent._scrollItemKeyInfo=function(_a,_b,_c,_d){var _e=this._getItemScrollViewStart();var _f=nexacro._PanelSlotConst.STATUS_CURRENT;switch(_a){case nexacro.Event.KEY_UP:{if(_c){this.scrollBy(0, -this._getItemHeight(_e-1,_f));}break;}case nexacro.Event.KEY_DOWN:{if(_c){this.scrollBy(0,this._getItemHeight(_e,_f));}break;}case nexacro.Event.KEY_LEFT:{if(_c){this.scrollBy( -this._getItemWidth(_e-1,_f),0);}break;}case nexacro.Event.KEY_RIGHT:{if(_c){this.scrollBy(this._getItemWidth(_e,_f),0);}break;}case nexacro.Event.KEY_PAGE_UP:{if(_c){this.scrollBy(0, -this._getClientHeight());}break;}case nexacro.Event.KEY_PAGE_DOWN:{if(_c){this.scrollBy(0,this._getClientHeight());}break;}}this._updateItemScrollInfo("itemshow",true);};_pComplexComponent._expandItemKeyInfo=function(_a,_b,_c,_d){var _e=nexacro._ExpandConst.EXPANDSTAT_EXPAND;var _f=nexacro._ExpandConst.EXPANDMODE_INDEX;var _g=new nexacro.Event(this,"expand");if(this._expandmanager){this._expandmanager.setExpand(_e,_f,_g);}else{this._onExpandExpand(this,_f,_g);}};_pComplexComponent._customItemKeyInfo=function(_a,_b,_c,_d){};_pComplexComponent._on_basic_onselect=function(_a,_b){if(this._selectinfo){switch(this._selectinfo._selecttype){case 0x08:{if(this._items){this._setItemSelect(_a,false);this._setItemSelect(_b,true);}return;}case 0xFF:{return;}}}nexacro.SimpleComponent.prototype._on_basic_onselect.call(this,_a,_b);};_pComplexComponent.on_apply_prop_enable=function(_a){nexacro.SimpleComponent.prototype.on_apply_prop_enable.call(this,_a);if(this._is_scrollable==true){if(this.vscrollbar){this.vscrollbar._setEnable(_a);}if(this.hscrollbar){this.hscrollbar._setEnable(_a);}}if(this._is_expandable==true){if(this.expandbar){this.expandbar._setEnable(_a);}}};_pComplexComponent.readonly=false;_pComplexComponent._initOverflow=function(){if(this._is_scrollable){if(nexacro._Browser=="IE"||(nexacro._Browser=="Edge"&&nexacro._BrowserType=="Edge")){this._use_native_scroll=true;this._use_translate_scroll=false;this._use_translate_move=false;this._use_container_move=true;this._use_container_multi=false;}else{this._use_native_scroll=false;this._use_translate_scroll=true;this._use_translate_move=true;this._use_container_move=true;this._use_container_multi=false;}}};_pComplexComponent._createScroll=function(){if(this._is_nc_scroll){this._createScrollManager();}};_pComplexComponent._createScrollManager=function(){if(this._use_scrollmanager){this._scrollmanager=new nexacro._ScrollManager(this);}};_pComplexComponent._createScrollControl=function(){};_pComplexComponent._createdScroll=function(_a){};_pComplexComponent._destroyScroll=function(){this._destroyScrollManager();this._destroyScrollControl();};_pComplexComponent._destroyScrollManager=function(){if(this._scrollmanager){this._scrollmanager._clear();delete this._scrollmanager;this._scrollmanager=null;}};_pComplexComponent._clearScrollManager=function(){if(this._scrollmanager){this._scrollmanager._clearScrollInfo();this._scrollmanager._clearScrollPart();}};_pComplexComponent._destroyScrollControl=function(){if(this.hscrollbar){this.hscrollbar.destroy();this.hscrollbar=null;}if(this.vscrollbar){this.vscrollbar.destroy();this.vscrollbar=null;}};_pComplexComponent._resetScroll=function(_a){var _b=this._checkScrollControl();this._recalcScrollSize(_a);this._resetScrollControl(_a);this._resetScrollManager(_a);var _c=this._checkScrollControl();return _b!=_c;};_pComplexComponent._recalcScrollSize=function(_a){this._onRecalcScrollSize(_a);};_pComplexComponent._resetScrollControl=function(_a){this._onResetScrollBar(_a);};_pComplexComponent._checkScrollControl=function(_a){var _b=this.hscrollbar;var _c=this.vscrollbar;return (_b&&_b.visible&&_b._height)<<1|(_c&&_c.visible&&_c._width);};_pComplexComponent._getScrollType=function(){var _a=this.scrolltype;if(_a==""||nexacro._isNull(_a)){_a=this._default_scrolltype;}return _a;};_pComplexComponent._getScrollBarType=function(){var _a=this.scrollbartype;if(_a==""||nexacro._isNull(_a)){_a=this._default_scrollbartype;}return _a;};_pComplexComponent._getScrollEvtType=function(){var _a=this.scrolleventthrottle;if(_a==""||nexacro._isNull(_a)){_a=this._default_scrolleventthrottle;}return _a;};_pComplexComponent._getScrollCoverType=function(){var _a=this.scrollcovertype;if(_a==""||nexacro._isNull(_a)){_a=this._default_scrollcovertype;}return _a;};_pComplexComponent._getScrollTrackType=function(){var _a=this.scrolltracktype;if(_a==""||nexacro._isNull(_a)){_a=this._default_scrolltracktype;}return _a;};_pComplexComponent._getScrollTrackLoct=function(){var _a=this.scrolltrackalign;if(_a==""||nexacro._isNull(_a)){_a=this._default_scrolltrackalign;}return _a;};_pComplexComponent._getScrollTrackBand=function(){var _a=[];if(this._is_format_layout&&this._formats){_a=this._formats._mark_bands;}return _a;};_pComplexComponent._getScrollApperTime=function(){return this._timeout_apper?this._timeout_apper:300;};_pComplexComponent._getScrollCoverTime=function(){return this._timeout_cover?this._timeout_cover:300;};_pComplexComponent._getScrollTrackTime=function(){return this._timeout_track?this._timeout_track:600;};_pComplexComponent._getScrollReadyTime=function(){return this._timeout_ready?this._timeout_ready:300;};_pComplexComponent._getScrollStickType=function(){var _a=this.scrollsticktype;if(_a==""||nexacro._isNull(_a)){_a=this._default_scrollsticktype;}return _a;};_pComplexComponent._getScrollStickTime=function(){return this._timeout_stick?this._timeout_stick:0;};_pComplexComponent._resetScrollManager=function(_a){if(this._use_scrollmanager&&_a){if(!this._scrollmanager){this._createScrollManager();}var _b=this._scrollmanager;_b._setScrollContext(this.control_elem);_b._setScrollInfo(null,null);_b._setScrollControl(this.hscrollbar,this.vscrollbar);_b._setScrollLayout(this._isRowFirst(),this._onGetScrollDirType(),this._onGetScrollPosType(),this._onGetScrollCtrlSet(),this._onGetScrollVisible(),this._onGetHScrollLayout(),this._onGetVScrollLayout());_b._setScrollEvent(this,this._onGetScrollEvtType());if(this._use_scrollcover){_b._setScrollTrackCover(this._onGetScrollCoverType());}if(this._use_scrolltrack){_b._setScrollTrackBands(this._onGetScrollTrackBand(),this._onGetScrollTrackType(),this._onGetScrollTrackLoct());}if(this._use_scrollcover||this._use_scrolltrack){_b._setScrollTrackTimes(this._onGetScrollApperTime(),this._onGetScrollCoverTime(),this._onGetScrollTrackTime(),this._onGetScrollReadyTime());}if(this._use_scrollstick){_b._setScrollStick(this._onGetScrollStickType(),this._onGetScrollStickTime());}this._resetScrollStatus();}};_pComplexComponent._resetScrollStatus=function(){if(this._use_scrollmanager&&this._scrollmanager){this._scrollmanager.setScroll(0);this._scrollmanager.setScroll(1);}};_pComplexComponent._setNCScrollBarSize=function(_a,_b,_c,_d,_e){var _f=this._control_element;if(_f&&this._is_scrollable){_f.setElementScrollbarSize(_a,_b,_c,_d,this._getScrollType());}};_pComplexComponent._setContentsScrollInfo=function(_a,_b){};_pComplexComponent._setPanelPrevOverWidth=function(_a){if(this._panel){this._panel._setPanelPrevOverWidth(_a);}};_pComplexComponent._setPanelNextOverWidth=function(_a){if(this._panel){this._panel._setPanelNextOverWidth(_a);}};_pComplexComponent._setPanelPrevOverHeight=function(_a){if(this._panel){this._panel._setPanelPrevOverHeight(_a);}};_pComplexComponent._setPanelNextOverHeight=function(_a){if(this._panel){this._panel._setPanelNextOverHeight(_a);}};_pComplexComponent._getItemScrollViewStart=function(){return this._is_items?this._onGetItemScrollViewStart():0;};_pComplexComponent._getItemScrollViewCount=function(){return this._is_items?this._onGetItemScrollViewCount():0;};_pComplexComponent._getItemScrollPrevCount=function(){return this._is_items?this._onGetItemScrollPrevCount():0;};_pComplexComponent._getItemScrollNextCount=function(){return this._is_items?this._onGetItemScrollNextCount():0;};_pComplexComponent._getItemScrollFullStart=function(){return this._is_items?this._onGetItemScrollFullStart():0;};_pComplexComponent._getItemScrollFullCount=function(){return this._is_items?this._onGetItemScrollFullCount():0;};_pComplexComponent._getItemScrollFixLeadCount=function(){return this._is_items?this._onGetItemScrollFixLeadCount():0;};_pComplexComponent._getItemScrollFixTailCount=function(){return this._is_items?this._onGetItemScrollFixTailCount():0;};_pComplexComponent._setItemScrollViewStart=function(_a){if(this._use_scrollmanager&&this._scrollmanager){this._scrollmanager._setPartItemViewStart(_a);}};_pComplexComponent._setItemScrollViewCount=function(_a){if(this._use_scrollmanager&&this._scrollmanager){this._scrollmanager._setPartItemViewCount(_a);}};_pComplexComponent._setItemScrollPrevCount=function(_a){if(this._use_scrollmanager&&this._scrollmanager){this._scrollmanager._setPartItemPrevCount(_a);}};_pComplexComponent._setItemScrollNextCount=function(_a){if(this._use_scrollmanager&&this._scrollmanager){this._scrollmanager._setPartItemNextCount(_a);}};_pComplexComponent._setItemScrollFullStart=function(_a){if(this._use_scrollmanager&&this._scrollmanager){this._scrollmanager._setPartItemFullStart(_a);}};_pComplexComponent._setItemScrollFullCount=function(_a){if(this._use_scrollmanager&&this._scrollmanager){this._scrollmanager._setPartItemFullCount(_a);}};_pComplexComponent._setItemScrollFixLeadCount=function(_a){if(this._use_scrollmanager&&this._scrollmanager){this._scrollmanager._setItemScrollFixLeadCount(_a);}};_pComplexComponent._setItemScrollFixTailCount=function(_a){if(this._use_scrollmanager&&this._scrollmanager){this._scrollmanager._setItemScrollFixTailCount(_a);}};_pComplexComponent._resetItemScrollFullSize=function(_a){var _b=this._getItemScrollViewStart();var _c=this._getItemScrollViewCount();var _d=this._getItemScrollPrevCount();var _e=this._getItemScrollNextCount();this._setItemScrollFullStart(_b-_d);this._setItemScrollFullCount(_b+_c+_e);var _f=this._getItemScrollFullCount();var _g=this._getItemViewCountRow(_a);var _h=this._getItemViewCountCol(_a);var _i,_j,_k;var _l,_m;var _n,_o;if(_a){_i=this._getItemWidth(0);_j=(_b-_d)/_g;_k=(_f-(_b+_c+_e))/_g;_l=_i* _j;_n=_i* _k;this._setPanelPrevOverWidth(_l>0?_l:0);this._setPanelNextOverWidth(_n>0?_n:0);this._setPanelPrevOverHeight(0);this._setPanelNextOverHeight(0);}else{_i=this._getItemHeight(0);_j=(_b-_d)/_h;_k=(_f-(_b+_c+_e))/_h;_m=_i* _j;_o=_i* _k;this._setPanelPrevOverHeight(_m>0?_m:0);this._setPanelNextOverHeight(_o>0?_o:0);this._setPanelPrevOverWidth(0);this._setPanelNextOverWidth(0);}};_pComplexComponent._calcItemScrollViewStart=function(_a,_b,_c,_d){if(this._use_scrollmanager&&this._scrollmanager){if(_d){var _e=this._getItemWidth(0);if(_e<=0){return 0;}else{return Math.floor(_a/_e)* (_b?_b:1);}}else{var _f=this._getItemHeight(0);if(_f<=0){return 0;}else{return Math.floor(_a/_f)* (_c?_c:1);}}}};_pComplexComponent._calcItemScrollViewCount=function(_a,_b,_c,_d){if(this._use_scrollmanager&&this._scrollmanager){if(_d){var _e=this._getClientWidth();var _f=this._getItemArrWidth(0, -9,_e);if(_e<=0||_f<=0){return 0;}else{return Math.ceil(_e/_f)* (_b?_b:1);}}else{var _g=this._getClientHeight();var _h=this._getItemArrHeight(0, -9,_g);if(_g<=0||_h<=0){return 0;}else{return Math.ceil(_g/_h)* (_c?_c:1);}}}};_pComplexComponent._calcItemScrollInfo=function(_a,_b){if(this._use_scrollmanager&&this._scrollmanager){var _c=this._getItemViewCountRow(_b);var _d=this._getItemViewCountCol(_b);if(!_c||!_d){return undefined;}var _e=this._getBindCount();var _f=this._getItemScrollViewStart();var _g=this._getItemScrollViewCount();var _h=this._getItemScrollPrevCount();var _i=this._getItemScrollNextCount();var _j=0;if(_f<0){_f=0;}if(_a>=0&&_g>=0){var _k=this._calcItemScrollViewStart(_a,_c,_d,_b);var _l=_k-_f;if(_l==0){return 0;}_f=_k;_h+=_l;_i-=_l;_j=_i<0||_h<0?_l:0;if(_j){if(_h<=0){_j=_h-1;}if(_i<=0){_j= -_i+1;}_h=_g;var _m=_f-_h;if(_m<=0){_h+=_m;}if(_h<=0){_h=0;}_i=_g;var _n=_e-(_f+_g+_i);if(_n<=0){_i+=_n;}if(_i<=0){_i=0;}}}else{var _o=0;var _p=0;{if(_g<0){if(_c<=0){_c=1;}if(_d<=0){_d=1;}_g=this._calcItemScrollViewCount( -1,_c,_d,_b);_i=_g* this._add_partitem;_h=0;}else{_g=_c* _d;_h=_i=_g* this._add_partitem;}_o=_f-_h;_p=_g+_h+_i;}if(_o<0){_p+=_o;_h+=_o;if(_h<0){_h=0;}_o=0;}_j=(_o+_p)-_e;if(_j>0){_i-=_j;if(_i<0){_i=0;}}_j=undefined;}this._setItemScrollViewStart(_f);this._setItemScrollViewCount(_g);this._setItemScrollPrevCount(_h);this._setItemScrollNextCount(_i);this._resetItemScrollFullSize(_b);return _j;}return 0;};_pComplexComponent._getScrollTrackIndex=function(_a){var _b=this._isRowFirst();var _c=this._getItemScrollViewCount();var _d=this._getItemViewCountRow(_b);var _e=this._getItemViewCountCol(_b);var _f;var _g;if(_b){_f=this._scrollmanager&&this._scrollmanager.hscrollinfo?this._scrollmanager.hscrollinfo.pos:this._hscroll_pos;_g=this._calcItemScrollViewStart(_f,_d,_e,_b);return _g;}else{_f=this._scrollmanager&&this._scrollmanager.vscrollinfo?this._scrollmanager.vscrollinfo.pos:this._vscroll_pos;_g=this._calcItemScrollViewStart(_f,_d,_e,_b);switch(_a){case nexacro._ScrollConst.SCROLLTRACKPOS_TOP:case nexacro._ScrollConst.SCROLLTRACKPOS_TRACKTOP:{return _g;}case nexacro._ScrollConst.SCROLLTRACKPOS_BOTTOM:case nexacro._ScrollConst.SCROLLTRACKPOS_TRACKBOTTOM:{return _g+_c;}case nexacro._ScrollConst.SCROLLTRACKPOS_MIDDLE:case nexacro._ScrollConst.SCROLLTRACKPOS_TRACKMIDDLE:{return _g+Math.round(_c/2);}}}};_pComplexComponent._changeItemHScrollInfo=function(_a,_b,_c){if(this._use_scrollmanager&&this._scrollmanager&&this._is_panel_layout&&this._panel){{if(this._is_items){var _d=this._scrollmanager._getItemScrollFixLeadCount();var _e=this._scrollmanager._getItemScrollFixTailCount();if(_d||_e){if(_a== -1){this._stickPanelItemSlot("stickinit");}}}else{}}}else{}};_pComplexComponent._changeItemVScrollInfo=function(_a,_b,_c){if(this._use_scrollmanager&&this._scrollmanager&&this._is_panel_layout&&this._panel){{if(this._is_items){var _d=this._scrollmanager._getItemScrollFixLeadCount();var _e=this._scrollmanager._getItemScrollFixTailCount();if(_d||_e){if(_a== -1){this._stickPanelItemSlot("stickinit");}}}else{}}}else{}};_pComplexComponent._updateItemHScrollInfo=function(_a,_b,_c){if(this._use_scrollmanager&&this._scrollmanager&&this._is_panel_layout&&this._panel){if(this._panel._isRowFirst()){if(this._panel._isPartSlot()){var _d=this._scrollmanager.isTracking();if(_d){if(_b){this._trackPanelItemSlot(_b);}if(_c){this._readyPanelItemSlot(_b);}}else{var _e=this._calcItemScrollInfo(_a,false);if(_b){this._apperPanelItemSlot(_b,_e);}if(_c){this._readyPanelItemSlot(_b);}}}else{}}}else{}};_pComplexComponent._updateItemVScrollInfo=function(_a,_b,_c){if(this._use_scrollmanager&&this._scrollmanager&&this._is_panel_layout&&this._panel){if(this._panel._isColFirst()){if(this._panel._isPartSlot()){var _d=this._scrollmanager.isTracking();if(_d){if(_b){this._trackPanelItemSlot(_b);}if(_c){this._readyPanelItemSlot(_b);}}else{var _e=this._calcItemScrollInfo(_a,false);if(_b){this._apperPanelItemSlot(_b,_e);}if(_c){this._readyPanelItemSlot(_b);}}}else{}}}else{}};_pComplexComponent._updateItemScrollInfo=function(_a,_b){if(this._isColFirst()){this._updateItemVScrollInfo(this._vscroll_pos,_a,_b);this._changeItemVScrollInfo(this._vscroll_pos,_a,_b);}else{this._updateItemHScrollInfo(this._hscroll_pos,_a,_b);this._changeItemVScrollInfo(this._hscroll_pos,_a,_b);}};_pComplexComponent._resetItemScrollInfo=function(){var _a="trackinit";if(this._isColFirst()){this._updateItemVScrollInfo( -1,_a,true);this._changeItemVScrollInfo( -1,_a,true);}else{this._updateItemHScrollInfo( -1,_a,true);this._changeItemHScrollInfo( -1,_a,true);}};_pComplexComponent._updateChildScrollInfo=function(_a){};_pComplexComponent._resetChildScrollInfo=function(){};_pComplexComponent._onVScrollReady=function(_a,_b,_c){return this._on_ready_onvscroll(_a,_c);};_pComplexComponent._onVScrollStart=function(_a,_b,_c){return this._on_start_onvscroll(_a,_c);};_pComplexComponent._onVScrollScroll=function(_a,_b,_c){this._on_scroll_onvscroll(_a,_c);this._on_basic_onvscroll(_a,_c);this._on_fire_onvscroll(_a,_c);this._on_default_onvscroll(_a,_c);this._on_change_onvscroll(_a,_c);};_pComplexComponent._onVScrollUpdate=function(_a,_b,_c){this._on_update_onvscroll(_a,_c);this._on_basic_onvscroll(_a,_c);this._on_fire_onvscroll(_a,_c);this._on_default_onvscroll(_a,_c);this._on_change_onvscroll(_a,_c);};_pComplexComponent._onVScrollFinish=function(_a,_b,_c){return this._on_finish_onvscroll(_a,_c);};_pComplexComponent._onHScrollReady=function(_a,_b,_c){return this._on_ready_onhscroll(_a,_c);};_pComplexComponent._onHScrollStart=function(_a,_b,_c){return this._on_start_onhscroll(_a,_c);};_pComplexComponent._onHScrollScroll=function(_a,_b,_c){this._on_scroll_onhscroll(_a,_c);this._on_basic_onhscroll(_a,_c);this._on_fire_onhscroll(_a,_c);this._on_default_onhscroll(_a,_c);this._on_change_onhscroll(_a,_c);};_pComplexComponent._onHScrollUpdate=function(_a,_b,_c){this._on_update_onhscroll(_a,_c);this._on_basic_onhscroll(_a,_c);this._on_fire_onhscroll(_a,_c);this._on_default_onhscroll(_a,_c);this._on_change_onhscroll(_a,_c);};_pComplexComponent._onHScrollFinish=function(_a,_b,_c){return this._on_finish_onhscroll(_a,_c);};_pComplexComponent.on_notify_vscroll_onscroll=function(_a,_b){if(this._use_scrollmanager&&this._scrollmanager){var _c=this._scrollmanager._convertScrollEventStat(_b.type);var _d=nexacro._ScrollConst.SCROLLCTRL_VERT;this._scrollmanager.setScroll(_c,_d,null,_b);}else{this._scrollTo(this._hscroll_pos,_b.pos,false,false,_b.type,_b._evtkind);}};_pComplexComponent.on_notify_hscroll_onscroll=function(_a,_b){if(this._use_scrollmanager&&this._scrollmanager){var _c=this._scrollmanager._convertScrollEventStat(_b.type);var _d=nexacro._ScrollConst.SCROLLCTRL_HORZ;this._scrollmanager.setScroll(_c,_d,_b,null);}else{this._scrollTo(_b.pos,this._vscroll_pos,false,false,_b.type,_b._evtkind);}return true;};_pComplexComponent._apply_scrolltype_scrollbartype=function(){if(this.scrolltype=="none"){this._setLayoutAllowNC(false);this._setLayoutUnFixNC(false);}else{var _a=this._getHScrollBarType();var _b=this._getVScrollBarType();if(_a==_b){switch(_b){case "auto":{this._setLayoutAllowNC(true);this._setLayoutUnFixNC(true);break;}case "none":{this._setLayoutAllowNC(false);this._setLayoutUnFixNC(false);break;}default:{this._setLayoutAllowNC(true);this._setLayoutUnFixNC(false);break;}}}else{if(_a=="auto"||_b=="auto"){this._setLayoutAllowNC(true);this._setLayoutUnFixNC(true);}else{this._setLayoutAllowNC(true);this._setLayoutUnFixNC(false);}}}};_pComplexComponent.on_apply_scrolltype=function(){this._apply_scrolltype_scrollbartype();nexacro.SimpleComponent.prototype.on_apply_scrolltype.call(this);if(this._is_created){this._recalcLayout();}};_pComplexComponent.on_apply_scrollbartype=function(){this._apply_scrolltype_scrollbartype();nexacro.SimpleComponent.prototype.on_apply_scrollbartype.call(this);if(this._is_created){this._recalcLayout();}};_pComplexComponent._onGetScrollPosType=function(){return this._getScrollType();};_pComplexComponent._onGetScrollDirType=function(){return this._getScrollType();};_pComplexComponent._onGetScrollEvtType=function(){return this._getScrollEvtType();};_pComplexComponent._onGetScrollCtrlSet=function(){return this._getScrollBarType();};_pComplexComponent._onGetScrollVisible=function(){return this._getScrollBarType();};_pComplexComponent._onGetHScrollLayout=function(){return this._getScrollBarType();};_pComplexComponent._onGetVScrollLayout=function(){return this._getScrollBarType();};_pComplexComponent._onGetScrollCoverType=function(){return this._getScrollCoverType();};_pComplexComponent._onGetScrollTrackBand=function(){return this._getScrollTrackBand();};_pComplexComponent._onGetScrollTrackType=function(){return this._getScrollTrackType();};_pComplexComponent._onGetScrollTrackLoct=function(){return this._getScrollTrackLoct();};_pComplexComponent._onGetScrollApperTime=function(){return this._getScrollApperTime();};_pComplexComponent._onGetScrollCoverTime=function(){return this._getScrollCoverTime();};_pComplexComponent._onGetScrollTrackTime=function(){return this._getScrollTrackTime();};_pComplexComponent._onGetScrollReadyTime=function(){return this._getScrollReadyTime();};_pComplexComponent._onGetScrollStickType=function(){return this._getScrollStickType();};_pComplexComponent._onGetScrollStickTime=function(){return this._getScrollStickTime();};_pComplexComponent._onRecalcScrollSize=function(_a){if(this._is_scrollable){this._setContentsMaxSize(this._getContentsMaxWidth(_a),this._getContentsMaxHeight(_a),_a);this._setNCScrollBarSize(this._getHScrollBarSize(),this._getVScrollBarSize(),this._getHScrollBarType(),this._getVScrollBarType(),_a);}};_pComplexComponent._onGetItemScrollViewStart=function(){if(this._use_scrollmanager&&this._scrollmanager){return this._scrollmanager._getPartItemViewStart();}else{return 0;}};_pComplexComponent._onGetItemScrollViewCount=function(){if(this._use_scrollmanager&&this._scrollmanager){return this._scrollmanager._getPartItemViewCount();}else{if(this._is_databind){return this._getBindCount();}if(this._items){return this._items.length;}return 0;}};_pComplexComponent._onGetItemScrollPrevCount=function(){return (this._use_scrollmanager&&this._scrollmanager)?this._scrollmanager._getPartItemPrevCount():0;};_pComplexComponent._onGetItemScrollNextCount=function(){return (this._use_scrollmanager&&this._scrollmanager)?this._scrollmanager._getPartItemNextCount():0;};_pComplexComponent._onGetItemScrollFullStart=function(){return (this._use_scrollmanager&&this._scrollmanager)?this._scrollmanager._getPartItemFullStart():this._onGetItemScrollViewStart();};_pComplexComponent._onGetItemScrollFullCount=function(){return (this._use_scrollmanager&&this._scrollmanager)?this._scrollmanager._getPartItemFullCount():this._onGetItemScrollViewCount();};_pComplexComponent._onGetItemScrollFixLeadCount=function(){var _a=0;if(this._use_scrollmanager&&this._scrollmanager){_a=this._scrollmanager._getItemScrollFixLeadCount();}if(_a!= -1){return _a;}if(this._panel){_a=this._panel._getPanelFixedSlotCountLead();}if(this._use_scrollmanager&&this._scrollmanager){_a=this._scrollmanager._setItemScrollFixLeadCount(_a);}return _a;};_pComplexComponent._onGetItemScrollFixTailCount=function(){var _a=0;if(this._use_scrollmanager&&this._scrollmanager){_a=this._scrollmanager._getItemScrollFixTailCount();}if(_a!= -1){return _a;}if(this._panel){_a=this._panel._getPanelFixedSlotCountTail();}if(this._use_scrollmanager&&this._scrollmanager){_a=this._scrollmanager._setItemScrollFixTailCount(_a);}return _a;};_pComplexComponent._on_fire_onvscroll=function(_a,_b){return this._fire_event(this.onvscroll,_a,_b);};_pComplexComponent._on_fire_onhscroll=function(_a,_b){return this._fire_event(this.onhscroll,_a,_b);};_pComplexComponent._on_basic_onvscroll=function(_a,_b){};_pComplexComponent._on_default_onvscroll=function(_a,_b){this._control_element.setElementVScrollPos(_b.pos);};_pComplexComponent._on_ready_onvscroll=function(_a,_b){this._updateItemVScrollInfo(_b.pos,"trackinit",true);};_pComplexComponent._on_start_onvscroll=function(_a,_b){this._updateItemVScrollInfo(_b.pos,"trackstart",false);};_pComplexComponent._on_scroll_onvscroll=function(_a,_b){this._updateItemVScrollInfo(_b.pos,"trackmove",false);};_pComplexComponent._on_update_onvscroll=function(_a,_b){this._updateItemVScrollInfo(_b.pos,"trackmove",true);};_pComplexComponent._on_change_onvscroll=function(_a,_b){this._changeItemVScrollInfo(_b.pos,"trackchange",false);};_pComplexComponent._on_finish_onvscroll=function(_a,_b){this._updateItemVScrollInfo(_b.pos,"trackend",true);};_pComplexComponent._on_basic_onhscroll=function(_a,_b){};_pComplexComponent._on_default_onhscroll=function(_a,_b){this._control_element.setElementHScrollPos(_b.pos);};_pComplexComponent._on_ready_onhscroll=function(_a,_b){this._updateItemHScrollInfo(_b.pos,"trackinit",true);};_pComplexComponent._on_start_onhscroll=function(_a,_b){this._updateItemHScrollInfo(_b.pos,"trackmove",false);};_pComplexComponent._on_scroll_onhscroll=function(_a,_b){this._updateItemHScrollInfo(_b.pos,"trackmove",false);};_pComplexComponent._on_update_onhscroll=function(_a,_b){this._updateItemHScrollInfo(_b.pos,"trackmove",true);};_pComplexComponent._on_change_onhscroll=function(_a,_b){this._changeItemHScrollInfo(_b.pos,"trackchange",false);};_pComplexComponent._on_finish_onhscroll=function(_a,_b){this._updateItemHScrollInfo(_b.pos,"trackend",true);};_pComplexComponent._default_expandtype="none";_pComplexComponent._default_expandbartype=false;_pComplexComponent._default_expandbarsize=[17,17];_pComplexComponent._createExpand=function(){if(this._is_nc_expand){this._createExpandManager();}};_pComplexComponent._createExpandManager=function(){if(this._use_expandmanager){this._expandmanager=new nexacro._ExpandManager();this._expandmanager._setExpandLayout(this._onGetExpandDirType(),this._onGetExpandActType(),this._onGetExpandCtrlSet(),this._onGetExpandVisible(),this._onGetExpandArrange());this._expandmanager._setExpandEvent(this);}};_pComplexComponent._createExpandControl=function(){};_pComplexComponent._createExpandBar=function(_a,_b){var _c;var _d;var _e;if(this._use_expandmanager&&this._expandmanager){_c=this._expandmanager.ctrlsettype;_d=this._expandmanager.ctrlvisible;_e=this._expandmanager.expandmode;}else{_c=nexacro._ExpandConst.EXPANDCTRLSET_CONVERT[_a];_d=nexacro._ExpandConst.EXPANDVISIBLE_CONVERT[_a];}if(nexacro._isNull(_c)){_c=nexacro._ExpandConst.EXPANDCTRLSET_CONVERT[this._default_expandbartype];}if(nexacro._isNull(_d)){_d=nexacro._ExpandConst.EXPANDVISIBLE_CONVERT[this._default_expandbartype];}var _f=this._getClientWidth();var _g=this._getClientHeight();switch(_c){case nexacro._ExpandConst.EXPANDCTRLSET_CHECK:{if(this.expandbar&&this.expandbar._type_name!="CheckBox"){this._destroyExpandBar();}if(this.expandbar==null){this.expandbar=this.createNCChildControl(new nexacro.CheckBox("expandbar",_f,0,_b[0],_b[1],null,null,null,null,null,null,this));}break;}case nexacro._ExpandConst.EXPANDCTRLSET_BUTTON:default:{if(this.expandbar&&this.expandbar._type_name!="Button"){this._destroyExpandBar();}if(this.expandbar==null){this.expandbar=this.createNCChildControl(new nexacro.Button("expandbar",_f,0,_b[0],_b[1],null,null,null,null,null,null,this));}break;}case nexacro._ExpandConst.EXPANDCTRLSET_CUSTOM:{var _h=this._createExpandBarCustom("expandbar",_f,0,_b[0],_b[1]);if(_h._is_subcontrol){this.expandbar=this.createNCChild(_h);}else{this.expandbar=this.createNCChildControl(_h);}break;}}switch(_e){case nexacro._ExpandConst.EXPANDACTTYPE_CLICK:{this.expandbar._setEventHandler("onclick",this.on_notify_expand_onclick,this);break;}case nexacro._ExpandConst.EXPANDACTTYPE_NONE:default:{break;}}var _i=this._control_element.hscroll_limit>0;var _j=this._control_element.vscroll_limit>0;var _k=_i||_j;switch(_d){case nexacro._ExpandConst.EXPANDVISIBLE_AUTO:{this.expandbar.set_visible(_k);this.expandbar.set_enable(_k);break;}case nexacro._ExpandConst.EXPANDVISIBLE_FIXED:{this.expandbar.set_enable(_k);break;}case nexacro._ExpandConst.EXPANDVISIBLE_CONST:default:{break;}}var _l=_f;var _m=0;var _n= +_b[0];var _o= +_b[1];if(_n>_f){_n=_f;}if(_o>_g){_o=_g;}else if(_o<_g){_m=(_g-_o)/2;}this.expandbar.move(_l,_m,_n,_o,null,null);if(!this.expandbar._is_created){this.expandbar.on_created(this._getWindow());}};_pComplexComponent._createExpandBarCustom=function(){};_pComplexComponent._createdExpand=function(_a){};_pComplexComponent._createdExpandControl=function(_a){};_pComplexComponent._createdExpandBar=function(_a){};_pComplexComponent._destroyExpand=function(){this._destroyExpandManager();this._destroyExpandControl();};_pComplexComponent._destroyExpandManager=function(){if(this._expandmanager){this._expandmanager._clear();delete this._expandmanager;this._expandmanager=null;}};_pComplexComponent._clearExpandManager=function(){if(this._expandmanager){this._expandmanager._clearExpandInfo();}};_pComplexComponent._destroyExpandControl=function(){this._destroyExpandBar();};_pComplexComponent._destroyExpandBar=function(){if(this.expandbar){this.expandbar.destroy();this.expandbar=null;}};_pComplexComponent._resetExpand=function(_a){var _b=this._checkExpandControl();this._recalcExpandSize(_a);this._resetExpandControl(_a);this._resetExpandManager(_a);var _c=this._checkExpandControl();return _b!=_c;};_pComplexComponent._recalcExpandSize=function(_a){this._onRecalcExpandSize(_a);};_pComplexComponent._resetExpandControl=function(_a){this._onResetExpandBar(_a);};_pComplexComponent._resetExpandManager=function(_a){if(this._use_expandmanager&&!_a){if(!this._expandmanager){this._createExpandManager();}this._expandmanager.setExpand(0);this._expandmanager._setExpandControl(this.expandbar);this._expandmanager._setExpandContext(this._control_element);this._expandmanager._setExpandInfo(null);}};_pComplexComponent._getExpandType=function(){var _a=this.expandtype;if(_a==""||nexacro._isNull(_a)){_a=this._default_expandtype;}return _a;};_pComplexComponent._getExpandActType=function(){var _a=this._getExpandType();if(nexacro._ExpandConst.EXPANDACTTYPE_CONVERT[_a]){return _a;}else{return "click";}};_pComplexComponent._getExpandDirType=function(){var _a=this.expanddirtype;if(nexacro._ExpandConst.EXPANDDIRTYPE_CONVERT[_a]){return _a;}else{return "none";}};_pComplexComponent._getExpandBarType=function(){var _a=this.expandbartype;if(_a==""||nexacro._isNull(_a)){_a=this._default_expandbartype;}return _a;};_pComplexComponent._getExpandArrange=function(){var _a=this._getExpandBarType();if(nexacro._ExpandConst.EXPANDARRANGE_CONVERT[_a]){return _a;}else{return "default";}};_pComplexComponent._getExpandVisible=function(){var _a=this._getExpandBarType();if(nexacro._ExpandConst.EXPANDVISIBLE_CONVERT[_a]){return _a;}else{return "const";}};_pComplexComponent._getExpandBarSize=function(){var _a=this.expandbarsize;if(!nexacro._isNull(_a)){_a=_a.split(" ");_a.length==1?_a.push(_a[0]):void 0;return _a;}return this._default_expandbarsize;};_pComplexComponent._checkExpandControl=function(_a){return this.expandbar&&this.expandbar.visible;};_pComplexComponent._setNCExpandBarSize=function(_a,_b,_c){var _d=this._control_element;if(_d&&this._is_expandable){_d.setElementExpandbarSize(_a,_b,this._getExpandDirType(),this._getExpandVisible(),this._getExpandArrange());}};_pComplexComponent._getContentsExpandIndex=function(){return nexacro._isNull(this._contents_expanded)? -1:this._contents_expanded;};_pComplexComponent._getContentsExpandSizes=function(){return this._contents_expanded&&this._contents_expanded.length?this._contents_expanded:[ -1, -1];};_pComplexComponent._setContentsExpandIndex=function(_a,_b){this._contents_expanded=_a;};_pComplexComponent._setContentsExpandSizes=function(_a,_b){this._contents_expanded=_a;};_pComplexComponent._getItemExpandIndex=function(_a,_b,_c){return this._is_items?this._onGetItemExpandIndex(_a,_b,_c): -1;};_pComplexComponent._getItemExpandSizes=function(_a,_b,_c){return this._is_child?this._onGetItemExpandSizes(_a,_b,_c):[ -1, -1];};_pComplexComponent._onExpandReady=function(_a,_b,_c){return this._on_ready_onexpand(_a,_c);};_pComplexComponent._onExpandFinish=function(_a,_b,_c){return this._on_finish_onexpand(_a,_c);};_pComplexComponent._onExpandUpdate=function(_a,_b,_c){return this._on_update_onexpand(_a,_c);};_pComplexComponent._onExpandExpand=function(_a,_b,_c){this._on_basic_onexpand(_a,_c);this._on_fire_onexpand(_a,_c);this._on_default_onexpand(_a,_c);};_pComplexComponent.on_notify_expand_onclick=function(_a,_b){this._on_fire_onexpandclick(_a,_b);if(this._use_expandmanager){var _c=nexacro._ExpandConst.EXPANDSTAT_EXPAND;var _d=nexacro._ExpandConst.EXPANDMODE_INDEX;this._expandmanager.setExpand(_c,_d,_b);}else{this._onExpandExpand(_a,_b);}return true;};_pComplexComponent._onGetExpandDirType=function(){return this._getExpandDirType();};_pComplexComponent._onGetExpandActType=function(){return this._getExpandActType();};_pComplexComponent._onGetExpandCtrlSet=function(){return this._getExpandBarType();};_pComplexComponent._onGetExpandVisible=function(){return this._getExpandVisible();};_pComplexComponent._onGetExpandArrange=function(){return this._getExpandArrange();};_pComplexComponent._onRecalcExpandSize=function(_a){var _b=this._getContentsMaxWidth(_a);var _c=this._getContentsMaxHeight(_a);if(this._is_expandable){this._setContentsMaxSize(_b,_c,_a);this._setNCExpandBarSize(this._getExpandBarSize(),this._getExpandBarType(),_a);}if(this._is_items){this._setContentsExpandIndex(this._getItemExpandIndex(_b,_c,_a),_a);}if(this._is_child){this._setContentsExpandSizes(this._getItemExpandSizes(_b,_c,_a),_a);}};_pComplexComponent._onResetExpandBar=function(_a){var _b=this._control_element;if(_b){var _c=this._getExpandBarSize();var _d=this._getExpandBarType();var _e=_d!="none";if(_e){this._createExpandBar(_d,_c);}else{this._destroyExpandBar();}if(this.expandbar){if(!this.expandbar._is_created){this.expandbar.on_created(this._getWindow());}}}};_pComplexComponent._onGetItemExpandIndex=function(_a,_b,_c){if(this._is_databind){return this._getBindCount();}if(this._items){return this._items.length;}return  -1;};_pComplexComponent._onGetItemExpandSizes=function(_a,_b,_c){if(this._children){return [ -1, -1];}return [ -1, -1];};_pComplexComponent._on_fire_onexpand=function(_a,_b){if(this.onexpand&&this.onexpand._has_handlers){_b.fromobject=this;this.onexpand._fireEvent(this,_b);}return true;};_pComplexComponent._on_fire_onexpandclick=function(_a,_b){if(this.onexpandclick&&this.onexpandclick._has_handlers){_b.fromobject=this;this.onexpandclick._fireEvent(this,_b);}return true;};_pComplexComponent._on_basic_onexpand=function(_a,_b){};_pComplexComponent._on_default_onexpand=function(_a,_b){};_pComplexComponent._on_ready_onexpand=function(_a,_b){};_pComplexComponent._on_finish_onexpand=function(_a,_b){};_pComplexComponent._on_update_onexpand=function(_a,_b){};_pComplexComponent._onGetDlgCode=function(_a,_b,_c,_d){return {want_tab:true,want_return:true,want_escape:true,want_chars:true,want_arrows:true};};_pComplexComponent._getDlgCode=function(_a,_b,_c,_d){return this._onGetDlgCode(_a,_b,_c,_d);};_pComplexComponent._onGetDragData=function(){return this.getSelectedText();};_pComplexComponent._onGetTabstop=function(){if(nexacro._enableaccessibility){var _a=this.accessibility;if(_a&&_a.enable&&_a.role=="link"){return true;}}return false;};_pComplexComponent._onGetFocusAcceptable=function(){return nexacro._enableaccessibility;};_pComplexComponent._onHotkey=function(_a,_b,_c,_d){this.click();};_pComplexComponent._onInitStatus=function(){};_pComplexComponent._spreadStatus=function(_a,_b){if(this._is_child){this._onSpreadStatusChild(_a,_b);}if(this._is_items){this._onSpreadStatusItems(_a,_b);}};_pComplexComponent._onSpreadStatusChild=function(_a,_b){var _c=this._getChildren();if(_c){var _d=0;var _e=_c.length;var _f,_g;var _h="_changeStatus";for(var _i=_d,_j=_e;_i<_j;_i++ ){if(!(_f=_c[_i])){continue;}if(!(_g=_f[_h])){continue;}_g.call(_f,_a,_b);}}};_pComplexComponent._onSpreadStatusItems=function(_a,_b){var _c=this._getItems();if(_c){var _d=0;var _e=_c.length;var _f,_g;var _h="_changeStatus";for(var _i=_d,_j=_e;_i<_j;_i++ ){if(!(_f=_c[_i])){continue;}if(!(_g=_f[_h])){continue;}_g.call(_f,_a,_b);_f._spreadStatus(_a,_b);}}};_pComplexComponent.onInitProperties=function(){this.property1=true;};_pComplexComponent.onApplyProperties=function(){this.on_apply_property1();};_pComplexComponent.onClearProperties=function(){this.on_clear_property1();};_pComplexComponent.set_property1=function(_a){if(this.property1!=_a){this.property1=nexacro._toBoolean(_a);this.on_apply_property1();}};_pComplexComponent.on_apply_property1=function(){if(!this._is_created){return;}};_pComplexComponent.on_clear_property1=function(){};_pComplexComponent.click=function(){this.on_fire_event1("none",false,false,false, -1, -1, -1, -1, -1, -1,this,this);};_pComplexComponent.getAMethod=function(){return this._A;};_pComplexComponent.setAStatus=function(_a){var _b=this._A;this._A=_a;this._changeUserStatus("Status1",_a);return _b;};_pComplexComponent._initEvents=function(){nexacro.SimpleComponent.prototype._initEvents.call(this);if(this._is_nc_scroll){this._event_list["onhscroll"]=1;this._event_list["onvscroll"]=1;}if(this._is_nc_expand){this._event_list["onexpand"]=1;this._event_list["onexpandclick"]=1;}};_pComplexComponent._fire_event=function(_a,_b,_c){var _d=true;if(_a&&_a._has_handlers){_c.fromobject=this;_d=_a._fireEvent(this,_c);_c.fromobject=_b;}return _d;};_pComplexComponent.on_fire_sys_onlbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.onlbuttondown&&this.onlbuttondown._has_handlers){var _n=new nexacro.MouseEventInfo(this,"onlbuttondown",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);return this.onlbuttondown._fireSysEvent(this,_n);}return false;};_pComplexComponent.on_fire_user_onlbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.onlbuttondown&&this.onlbuttondown._has_handlers){var _n=new nexacro.MouseEventInfo(this,"onlbuttondown",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);return this.onlbuttondown._fireUserEvent(this,_n);}return false;};_pComplexComponent.on_fire_sys_onmouseup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.onmouseup&&this.onmouseup._has_handlers){return this.onmouseup._fireSysEvent(this,new nexacro.MouseEventInfo(this._getRootComponent(_k),"onmouseup",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m));}return false;};_pComplexComponent.on_fire_user_onmouseup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.onmouseup&&this.onmouseup._has_handlers){return this.onmouseup._fireUserEvent(this,new nexacro.MouseEventInfo(this._getRootComponent(_k),"onmouseup",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m));}return false;};_pComplexComponent._setVScrollDefaultAction=function(_a){var _b=nexacro.SimpleComponent.prototype._setVScrollDefaultAction.call(this,_a);if(_b){this._updateItemVScrollInfo(this._vscroll_pos,"trackwheel",true);this._changeItemVScrollInfo(this._vscroll_pos,"trackwheel",false);}return _b;};_pComplexComponent._setHScrollDefaultAction=function(_a){var _b=nexacro.SimpleComponent.prototype._setHScrollDefaultAction.call(this,_a);if(_b){this._updateItemHScrollInfo(this._hscroll_pos,"trackwheel",true);this._changeItemVScrollInfo(this._hscroll_pos,"trackwheel",false);}return _b;};_pComplexComponent.on_slidestart_basic_action=function(_a,_b,_c,_d,_e,_f,_g,_h){var _i=nexacro.SimpleComponent.prototype.on_slidestart_basic_action.call(this,_a,_b,_c,_d,_e,_f,_g,_h);this._updateItemScrollInfo("slidestart",true);return _i;};_pComplexComponent.on_slide_basic_action=function(_a,_b,_c,_d,_e,_f,_g,_h){var _i=nexacro.SimpleComponent.prototype.on_slide_basic_action.call(this,_a,_b,_c,_d,_e,_f,_g,_h);this._updateItemScrollInfo("slidemove",false);return _i;};_pComplexComponent.on_slideend_basic_action=function(_a,_b,_c,_d,_e,_f,_g,_h){var _i=nexacro.SimpleComponent.prototype.on_slideend_basic_action.call(this,_a,_b,_c,_d,_e,_f,_g,_h);this._updateItemScrollInfo("slideend",true);return _i;};_pComplexComponent.on_flingstart_basic_action=function(_a,_b,_c,_d,_e,_f,_g,_h){var _i=nexacro.SimpleComponent.prototype.on_flingstart_basic_action.call(_a,_b,_c,_d,_e,_f,_g,_h);this._updateItemScrollInfo("trackstart",true);return _i;};_pComplexComponent.on_fling_basic_action=function(_a,_b,_c,_d,_e,_f,_g,_h){var _i=nexacro.SimpleComponent.prototype.on_fling_basic_action.call(this,_a,_b,_c,_d,_e,_f,_g,_h);this._updateItemScrollInfo("trackmove",false);return _i;};_pComplexComponent.on_flingend_basic_action=function(_a,_b,_c,_d,_e,_f,_g,_h){var _i=nexacro.SimpleComponent.prototype.on_flingend_basic_action.call(this,_a,_b,_c,_d,_e,_f,_g,_h);this._updateItemScrollInfo("trackend",true);return _i;};_pComplexComponent.on_keydown_basic_action=function(_a,_b,_c,_d,_e,_f){return nexacro.SimpleComponent.prototype.on_keydown_basic_action.call(this,_a,_b,_c,_d,_e,_f);};_pComplexComponent.on_keydown_default_action=function(_a,_b,_c,_d,_e,_f){return nexacro.SimpleComponent.prototype.on_keydown_default_action.call(this,_a,_b,_c,_d,_e,_f);};_pComplexComponent.on_fire_user_onkeydown=function(_a,_b,_c,_d,_e,_f,_g){return nexacro.SimpleComponent.prototype.on_fire_user_onkeydown.call(this,_a,_b,_c,_d,_e,_f,_g);};_pComplexComponent.on_fire_sys_onkeydown=function(_a,_b,_c,_d,_e,_f,_g){switch(this._checkActionKeyInfo(_a,_b,_c,_d,_e,_f,_g)){case "select":this._selectItemKeyInfo(_a,_b,_c,_d);break;case "scroll":this._scrollItemKeyInfo(_a,_b,_c,_d);break;case "expand":this._expandItemKeyInfo(_a,_b,_c,_d);break;case "custom":this._customItemKeyInfo(_a,_b,_c,_d);break;}return nexacro.SimpleComponent.prototype.on_fire_sys_onkeydown.call(this,_a,_b,_c,_d,_e,_f,_g);};_pComplexComponent.on_keyup_basic_action=function(_a,_b,_c,_d,_e,_f){return nexacro.SimpleComponent.prototype.on_keyup_basic_action.call(this,_a,_b,_c,_d,_e,_f);};_pComplexComponent.on_keyup_default_action=function(_a,_b,_c,_d,_e,_f){return nexacro.SimpleComponent.prototype.on_keyup_default_action.call(this,_a,_b,_c,_d,_e,_f);};_pComplexComponent.on_fire_user_onkeyup=function(_a,_b,_c,_d,_e,_f,_g){return nexacro.SimpleComponent.prototype.on_fire_user_onkeyup.call(this,_a,_b,_c,_d,_e,_f,_g);};_pComplexComponent.on_fire_sys_onkeyup=function(_a,_b,_c,_d,_e,_f,_g){return nexacro.SimpleComponent.prototype.on_fire_sys_onkeyup.call(this,_a,_b,_c,_d,_e,_f,_g);};_pComplexComponent._onGetAccessibilityLabel=function(){var _a=this.text?this.text:this.value;return _a;};_pComplexComponent._onGetAccessibilityAdditionalRole=function(){return " addrole";};delete _pComplexComponent;}if(!nexacro._ListViewCellControl){nexacro.ListViewCellInfo=function(_a,_b,_c,_d,_e){nexacro.CellInfo.call(this,_a,_b,_c,_d,_e);};var _pListViewCellInfo=nexacro._createPrototype(nexacro.CellInfo,nexacro.ListViewCellInfo);nexacro.ListViewCellInfo.prototype=_pListViewCellInfo;_pListViewCellInfo._type_name="ListViewCellInfo";_pListViewCellInfo._use_displaytype_controls=["buttoncontrol","checkboxcontrol","imagecontrol","combocontrol","calendarcontrol","editcontrol","maskeditcontrol","textareacontrol","progressbarcontrol"];_pListViewCellInfo._addPropertyMap("_pListViewCellInfo",[["left","left",false,null,false],["top","top",false,null,false],["width","width",false,null,false],["height","height",false,null,false],["right","right",false,null,false],["bottom","bottom",false,null,false],["minwidth","minwidth",false,null,false],["minheight","minheight",false,null,false],["maxwidth","maxwidth",false,null,false],["maxheight","maxheight",false,null,false]],true);_pListViewCellInfo._syncPosition=function(_a){this.set_left(_a.left);this.set_width(_a.width);this.set_right(_a.right);this.set_top(_a.top);this.set_height(_a.height);this.set_bottom(_a.bottom);};_pListViewCellInfo.destroy=function(){nexacro.CellInfo.prototype.destroy.call(this);};delete _pListViewCellInfo;nexacro._ListViewCellControl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){nexacro._CellControl.call(this,_a,_b,_c,_d,_e,_f,_g,_l,_m,undefined,undefined,undefined);};var _pListViewCellControl=nexacro._createPrototype(nexacro._CellControl,nexacro._ListViewCellControl);nexacro._ListViewCellControl.prototype=_pListViewCellControl;_pListViewCellControl._type_name="ListViewCellControl";_pListViewCellControl._is_subcontrol=true;_pListViewCellControl._is_use_auto_selected_status=false;_pListViewCellControl.on_created_contents=function(_a){nexacro._CellControl.prototype.on_created_contents.call(this,_a);this._updateAll();this._refinfo._syncPosition(this);};_pListViewCellControl.on_attach_contents_handle=function(_a){nexacro._CellControl.prototype.on_attach_contents_handle.call(this,_a);this._updateAll();this._refinfo._syncPosition(this);};_pListViewCellControl._setAddedCreateInfo=function(_a,_b,_c){this._refinfo=_b._cellinfo;this._varbind=_b._valuebind;this._view=_a._view;this._band=_a._band;this._rowidx=_a._rowidx;this._bandidx=_a._band=="body"?0:1;this._cellidx=_c;};_pListViewCellControl._onGetDlgCode=function(_a,_b,_c,_d){return {want_tab:true,want_return:true,want_escape:true,want_chars:true,want_arrows:true};};_pListViewCellControl._onGetBindableProperties=function(){return "text";};_pListViewCellControl._isReadOnly=function(){return this.readonly==true||this._real_readonly==true;};_pListViewCellControl._isEnable=function(){return this.parent?this.parent._real_enable&&this.enable:this.enable;};_pListViewCellControl._isEditable=function(){var _a=this._view;return _a.readonly!=true&&_a._real_readonly!=true;};_pListViewCellControl._isEditableComponent=function(){return this._hasEditor()&&this._isShowEditor();};_pListViewCellControl._isConditionEditor=function(){var _a=this._view;var _b=_a.getSelect();var _c=_a._getDataRow(this._rowidx);return (_b.row==_c&&_b.band==this._bandidx&&_b.cell==this._cellidx);};_pListViewCellControl._getRemoveLine=function(){return [false,false,false,false];};_pListViewCellControl.on_focus_basic_action=function(_a,_b,_c,_d,_e,_f){nexacro._CellControl.prototype.on_focus_basic_action.call(this,_a,_b,_c,_d,_e,_f);this._actionEditCell(this._getActionCell(_f),"setfocus");};_pListViewCellControl.on_killfocus_basic_action=function(_a,_b){nexacro.Component.prototype.on_killfocus_basic_action.call(this);nexacro._CellControl.prototype.on_killfocus_basic_action.call(this,_a,_b);this._actionEditCell(this._getActionCell(this),"killfocus");};_pListViewCellControl.on_fire_ondropdown=function(_a){return this._view.on_fire_ondropdown(_a);};_pListViewCellControl.on_fire_oncloseup=function(_a,_b,_c,_d,_e){return this._view.on_fire_oncloseup(_a,_b,_c,_d,_e);};_pListViewCellControl.on_fire_onenterdown=function(_a){return this._view.on_fire_onenterdown(_a);};_pListViewCellControl._actionEditCell=function(_a,_b){if(!_a){return;}var _c=this._getAutoEnter();var _d;switch(_b){case "setfocus":if(_c=="select"&&_a.selected){if(_a._hasEditor()&&_a._isEditable()){_a._showEditor();}else{_a._setSubControlFocus(true);}}break;case "killfocus":_a._setSubControlFocus(false);if(_a._isShowEditor()){_a._applyEditor(true);_a._hideEditor();}break;case "lbuttondown":var _e=_a.selected;_a.setFocus(false,true);if(_c!="select"){if(_e){if(_a._hasEditor()&&_a._isEditable()){_a._showEditor();}}else{_a._setSubControlFocus(true);}}break;case "lbuttonup":break;case "tabkey":if(_a._hasEditor()&&_a._isEditable()){_a._showEditor();}else{_a._setSubControlFocus(true);}break;case "enterkey":if(_a._isEnterDownable()){if(_a._editor){_d=nexacro._toBoolean(_a._editor._cellinfo._getAttrValue(_a._editor._cellinfo.textareaacceptsenter));if(_a._refinfo._getEdittype()=="textarea"){if(_d){_a.on_fire_onenterdown(_a._editor);}else{_a._applyEditor(true);_a.on_fire_onenterdown(_a._editor);_a._hideEditor();}}else{_a._applyEditor(true);_a.on_fire_onenterdown(_a._editor);_a._hideEditor();}}else{_a._applyEditor(true);_a.on_fire_onenterdown(_a);}_a._setSubControlFocus(true);}else if(_a._hasEditor()&&_a._isEditable()){if(!this._getWindow()._modal_frame_stack.length){nexacro._OnceCallbackTimer.callonce(this,function(){_a._showEditor();},50);}}else{_a._setSubControlFocus(true);}break;case "ctrlenterkey":if(_a._isEnterDownable()){if(_a._editor){_d=nexacro._toBoolean(_a._editor._cellinfo._getAttrValue(_a._editor._cellinfo.textareaacceptsenter));if(_a._refinfo._getEdittype()=="textarea"){if(!_d){_a.on_fire_onenterdown(_a._editor);}else{_a._applyEditor(true);_a.on_fire_onenterdown(_a._editor);_a._hideEditor();}}else{_a._applyEditor(true);_a.on_fire_onenterdown(_a._editor);_a._hideEditor();}}else{_a._applyEditor(true);_a.on_fire_onenterdown(_a);}}else if(_a._hasEditor()&&_a._isEditable()){if(!this._getWindow()._modal_frame_stack.length){nexacro._OnceCallbackTimer.callonce(this,function(){_a._showEditor();},50);}}else{_a._setSubControlFocus(true);}break;case "charkey":if(_a._hasEditor()&&_a._isEditable()){if(!_a._isShowEditor()){_a._showEditor();_a._editor.set_value("");}}else{_a._setSubControlFocus(true);}break;}};_pListViewCellControl._applyEditor=function(_a){if(this._editor&&this._writable&&this._view&&this._varbind){var _b=this._editor._getValueData();var _c=this._getDataRow();this._view._setBindData(_c,this._varbind,_b);this._view._getBindData(_c);this._updateAll();}};_pListViewCellControl._getChildren=function(){return [this._subComp];};_pListViewCellControl._getActionCell=function(_a){var _b=_a;while(_b&&_b._type_name!=this._type_name){if(_b==this){break;}if(_b._cellobj&&_b._cellobj._is_alive&&_b._cellobj._type_name==this._type_name){_b=_b._cellobj;break;}_b=_b.parent;}if(_b&&_b._type_name==this._type_name){if(_b.parentcell){_b=_b.parentcell;}}return _b;};_pListViewCellControl._getCellEditType=function(){return this._refinfo._getEdittype(this._getDataRow());};_pListViewCellControl._getCellDisplayType=function(){return this._refinfo._getDisplaytype(this._getDataRow());};_pListViewCellControl._getCellText=function(){return this._refinfo._getDisplayText(this._getDataRow());};_pListViewCellControl._getCellValue=function(){return this._refinfo._getValue(this._getDataRow());};_pListViewCellControl._checkProcessedKey=function(_a,_b,_c,_d,_e,_f,_g){return _e&&_f&&_f._isEditableComponent()&&_f._isEnable()&&_e._isEnable();};_pListViewCellControl._getPositionInRootComponent=null;delete _pListViewCellControl;}if(!nexacro._ListViewBandExpandbarControl){nexacro._ListViewBandExpandbarControl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){nexacro.Button.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);if(nexacro._has_listview_expand_status){this._use_selected_status=false;this._use_pushed_status=false;}else{this._use_selected_status=true;this._use_pushed_status=true;}};var _ListViewBandExpandbarControl=nexacro._createPrototype(nexacro.Button,nexacro._ListViewBandExpandbarControl);nexacro._ListViewBandExpandbarControl.prototype=_ListViewBandExpandbarControl;_ListViewBandExpandbarControl._type_name="ListViewBandExpandbarControl";_ListViewBandExpandbarControl._is_subcontrol=true;_ListViewBandExpandbarControl.on_getIDCSSSelector=function(){return "expandbar";};_ListViewBandExpandbarControl.on_changeUserStatus=function(_a,_b,_c,_d,_e){if(nexacro._has_listview_expand_status){return _a;}else{return nexacro.Component.prototype.on_changeUserStatus.call(this,_a,_b,_c,_d,_e);}};delete _ListViewBandExpandbarControl;}if(!nexacro._ListViewBandControl){nexacro._ListViewBandControl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(_a&&_a.match("detail")){this._setControl("ListViewDetailBandControl");}nexacro.ComplexComponent.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);};var _pListViewBandControl=nexacro._createPrototype(nexacro.ComplexComponent,nexacro._ListViewBandControl);nexacro._ListViewBandControl.prototype=_pListViewBandControl;_pListViewBandControl._type_name="ListViewBandControl";_pListViewBandControl._is_subcontrol=true;_pListViewBandControl._not_use_scrollLeft=true;_pListViewBandControl._use_readonly_status=true;_pListViewBandControl._layoutflag=0x0003;_pListViewBandControl._setInnerFlags=function(){this._setUseItems(false,false,false,false,false);this._setUseParts(false,1,1);this._setUseSelect(true);this._setUseScroll(false,false);this._setUseScrollCover(false);this._setUseScrollTrack(false);this._setUseScrollStick(false);this._setUseScrollTimer(300,300,600,300,0);this._setUseExpand(true,true);if(nexacro._has_listview_expand_status){this._setUseExpandStatus(true);}else{this._setUseExpandStatus(false);}this._setUseBind(false,false,false,false,false);this._setUseExpr(false,false);};_pListViewBandControl.onCreateCtxtControl=function(_a,_b,_c){if(_a&&_b){if(_a._setAddedCreateInfo){_a._setAddedCreateInfo(this,_b,_c);}_a._setEventHandler("onclick",this.on_notify_child_onclick,this);_a._setEventHandler("ondblclick",this.on_notify_child_ondblclick,this);_a._setEventHandler("onsetfocus",this.on_notify_child_onfocus,this);_a._setEventHandler("oninput",this.on_notify_child_oninput,this);}return _a;};_pListViewBandControl.onUpdateItem=function(_a,_b){if(this._rowidx!=_a){this._rowidx=_a;}var _c=this._children;if(_c){for(var _d=0,_e=_c.length,_f;_d<_e;_d++ ){_f=_c[_d];if(_f){if(_f._updateAll){_f._updateAll();}}}}};_pListViewBandControl._onResetUserStatus=function(){if(this._is_expandable&&this._use_expand_status){this._onResetUserExpand();}};_pListViewBandControl._onResetUserExpand=function(){if(this.expandbar){if(this._view&&this._view.getBandExpandStatus(this._rowidx)){this.expandbar._changeUserStatus("expand",true);}else{this.expandbar._changeUserStatus("collapse",true);}}};_pListViewBandControl.onInitProperties=function(){this.expanddirtype="horz";this.expandbartype=false;this.expandbarsize=undefined;};_pListViewBandControl.onApplyProperties=function(){this.on_apply_expandbartype();this.on_apply_expandbarsize();};_pListViewBandControl.onClearProperties=function(){};_pListViewBandControl.set_expandbartype=function(_a){var _b=nexacro._toBoolean(_a);if(_b!=this.expandbartype){this.expandbartype=_b;this.on_apply_expandbartype();}};_pListViewBandControl.on_apply_expandbartype=function(){if(!this._is_created){return;}this._recreateChild();};_pListViewBandControl.set_expandbarsize=function(_a){if(_a!=this.expandbarsize){this.expandbarsize=_a;this.on_apply_expandbarsize();}};_pListViewBandControl.on_apply_expandbarsize=function(){if(!this._is_created){return;}this._recreateChild();};_pListViewBandControl.on_notify_child_onclick=function(_a,_b){this.on_fire_onclick(_b.button,_b.altkey,_b.ctrlkey,_b.shiftkey,_b.screenx,_b.screeny,_b.canvasx,_b.canvasy,_b.clientx,_b.clienty,this,_b.fromobject,_b.metakey,_b.clickitem);};_pListViewBandControl.on_notify_child_ondblclick=function(_a,_b){this.on_fire_ondblclick(_b.button,_b.altkey,_b.ctrlkey,_b.shiftkey,_b.screenx,_b.screeny,_b.canvasx,_b.canvasy,_b.clientx,_b.clienty,this,_b.fromobject,_b.metakey,_b.clickitem);};_pListViewBandControl.on_notify_child_onfocus=function(_a,_b){this.on_fire_onsetfocus(_b.oldcomponent,_b.oldreferencecomponent,this,_b.fromobject);};_pListViewBandControl.on_notify_child_oninput=function(_a,_b){this.on_fire_oninput();};_pListViewBandControl.on_fire_onclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(this.onclick&&this.onclick._has_handlers){var _o=this._getRecalcCanvasXY(_l._control_element,_g,_h);_g=_o[0];_h=_o[1];var _p=this._getClientXY(_g,_h);_i=_p[0];_j=_p[1];var _q=new nexacro.ClickEventInfo(this,"onclick",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);_q.clickitem=_n;return this.onclick._fireEvent(this,_q);}return false;};_pListViewBandControl.on_fire_ondblclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){nexacro._fireBeforeDblclick(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);if(this.ondblclick&&this.ondblclick._has_handlers){var _o=this._getRecalcCanvasXY(_l._control_element,_g,_h);_g=_o[0];_h=_o[1];var _p=this._getClientXY(_g,_h);_i=_p[0];_j=_p[1];var _q=new nexacro.ClickEventInfo(this,"ondblclick",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);_q.clickitem=_n;return this.ondblclick._fireEvent(this,_q);}return false;};_pListViewBandControl.on_apply_prop_enable=function(_a){var _b=this._children;if(!_b){return;}var _c=_b.length;if(_c){for(var _d=0;_d<_c;_d++ ){_b[_d]._setEnable(_a);}}};_pListViewBandControl._onGetDlgCode=function(_a,_b,_c,_d){return {want_tab:true,want_return:true,want_escape:true,want_chars:true,want_arrows:true};};_pListViewBandControl._onGetExpandCtrlSet=function(){return "custom";};_pListViewBandControl._createExpandBarCustom=function(_a,_b,_c,_d,_e){if(this.expandbar&&this.expandbar._type_name!="ListViewBandExpandbarControl"){this._destroyExpandBar();}if(this.expandbar==null){return new nexacro._ListViewBandExpandbarControl(_a,_b,_c,_d,_e,null,null,null,null,null,null,this);}else{return this.expandbar;}};_pListViewBandControl.on_getIDCSSSelector=function(){return this._band;};_pListViewBandControl._getItemTypeName=function(){if(this._band=="body"){return "ListViewBandControl";}else if(this._band=="detail"){return "ListViewDetailBandControl";}};_pListViewBandControl._setAddedCreateInfo=function(_a,_b,_c){this._refinfo=_b._bandinfo;this._view=_a;this._band=_b.id;this._rowidx=_c;};_pListViewBandControl._setChildEventHandler=function(_a,_b,_c){var _d=this._children;if(_d){for(var _f=0,_g=_d.length;_f<_g;_f++ ){var _e=_d[_f];if(_e){_e._setEventHandler(_a,_b,_c);}}}};_pListViewBandControl._onCheckSelectable=function(){var _a=this._view;if(_a){return _a._onCheckSelectable();}};delete _pListViewBandControl;}if(!nexacro.ListView){nexacro.ListViewBandStatusEventInfo=function(_a,_b,_c,_d,_e,_f){this.id=this.eventid=_b||"onbandstatuschanged";this.fromobject=_a;this.fromreferenceobject=_d;this.row=_e;this.bandstatus=_f;};var _pListViewBandStatusEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.ListViewBandStatusEventInfo);nexacro.ListViewBandStatusEventInfo.prototype=_pListViewBandStatusEventInfo;_pListViewBandStatusEventInfo._type_name="ListViewBandStatusEventInfo";nexacro.ListViewClickEventInfo=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r,_s){nexacro.ClickEventInfo.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_s);this.fromobject=_a;this.fromreferenceobject=_n;this.bandid=_o;this.cellid=_p;this.clickitem=_r;this.row=_q;};var _pListViewClickEventInfo=nexacro._createPrototype(nexacro.ClickEventInfo,nexacro.ListViewClickEventInfo);nexacro.ListViewClickEventInfo.prototype=_pListViewClickEventInfo;_pListViewClickEventInfo._type_name="ListViewClickEventInfo";nexacro.ListViewDragEventInfo=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r,_s,_t,_u,_v,_w,_x){nexacro.DragEventInfo.call(this,_a,_b,_c,_d,_e,_f,_g,_h,null,null,_k,_l,_m,_n,_o,_p,_q,_r,_s,_t,_x);this.fromobject=_a;this.fromreferenceobject=_j;this.bandid=_u;this.cellid=_v;this.row=_w;};var _pListViewDragEventInfo=nexacro._createPrototype(nexacro.DragEventInfo,nexacro.ListViewDragEventInfo);nexacro.ListViewDragEventInfo.prototype=_pListViewDragEventInfo;_pListViewDragEventInfo._type_name="ListViewDragEventInfo";nexacro.ListViewMouseEventInfo=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r){nexacro.MouseEventInfo.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_r);this.fromobject=_a;this.fromreferenceobject=_n;this.bandid=_o;this.cellid=_p;this.row=_q;};var _pListViewMouseEventInfo=nexacro._createPrototype(nexacro.MouseEventInfo,nexacro.ListViewMouseEventInfo);nexacro.ListViewMouseEventInfo.prototype=_pListViewMouseEventInfo;_pListViewMouseEventInfo._type_name="ListViewMouseEventInfo";nexacro.ListViewContextMenuEventInfo=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r){nexacro.ContextMenuEventInfo.call(this,_a,_b,_m,_n,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_r);this.fromobject=_a;this.fromreferenceobject=_n;this.bandid=_o;this.cellid=_p;this.row=_q;};var _pListViewContextMenuEventInfo=nexacro._createPrototype(nexacro.MouseEventInfo,nexacro.ListViewContextMenuEventInfo);nexacro.ListViewContextMenuEventInfo.prototype=_pListViewContextMenuEventInfo;_pListViewContextMenuEventInfo._type_name="ListViewContextMenuEventInfo";nexacro.ListViewSelectEventInfo=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j){this.id=this.eventid=_b||"onselectchanged";this.fromobject=_a;this.fromreferenceobject=_a;this.oldrow=_c;this.oldbandid=_d;this.oldcellid=_e;this.row=_f;this.bandid=_g;this.cellid=_h;this.selectstartrow=_i;this.selectendrow=_j;};var _pListViewSelectEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.ListViewSelectEventInfo);nexacro.ListViewSelectEventInfo.prototype=_pListViewSelectEventInfo;_pListViewSelectEventInfo._type_name="ListViewSelectEventInfo";nexacro.ListViewEditEventInfo=function(_a,_b,_c,_d,_e,_f,_g){this.id=this.eventid=_b||"onlistviewedit";this.fromobject=_a;this.fromreferenceobject=_g;this.row=_c;this.bandid=_d;this.cellid=_e;this.value=_f;};var _pListViewEditEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.ListViewEditEventInfo);nexacro.ListViewEditEventInfo.prototype=_pListViewEditEventInfo;_pListViewEditEventInfo._type_name="ListViewEditEventInfo";nexacro.ListViewKeyEventInfo=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j){this.id=this.eventid=_b||"onlistviewkeyevent";this.fromobject=_a;this.fromreferenceobject=_j;this.row=_c;this.bandid=_d;this.cellid=_e;this.altkey=_f;this.ctrlkey=_g;this.shiftkey=_h;this.keycode=_i;};var _pListViewKeyEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.ListViewKeyEventInfo);nexacro.ListViewKeyEventInfo.prototype=_pListViewKeyEventInfo;_pListViewKeyEventInfo._type_name="ListViewKeyEventInfo";delete _pListViewBandStatusEventInfo;delete _pListViewClickEventInfo;delete _pListViewDragEventInfo;delete _pListViewMouseEventInfo;delete _pListViewSelectEventInfo;delete _pListViewEditEventInfo;delete _pListViewKeyEventInfo;nexacro.ListView=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){nexacro.ComplexComponent.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);this._is_use_bind_expr_prop={body:null,head:null,tail:null};this._is_use_bind_expr_style={body:null,head:null,tail:null};};var _pListView=nexacro._createPrototype(nexacro.ComplexComponent,nexacro.ListView);nexacro.ListView.prototype=_pListView;_pListView._type_name="ListView";_pListView._is_child=false;_pListView._is_items=true;_pListView._is_nc_layout=false;_pListView._is_nc_head=false;_pListView._is_nc_foot=false;_pListView._is_nc_lead=false;_pListView._is_nc_tail=false;_pListView._use_readonly_status=true;_pListView._is_locale_control=true;_pListView._selectscrollmode=(nexacro._isTouchInteraction)?"scroll":"select";_pListView._setInnerFlags=function(){this._setUseItems(true,false,true,true,false);this._setUseParts(true,1,1);this._setUseSelect(true);this._setUseScroll(true,true);this._setUseScrollCover(false);this._setUseScrollTrack(false);this._setUseScrollStick(true);this._setUseScrollTimer(300,300,600,300,0);this._setUseExpand(false,false);this._setUseExpandStatus(false);this._setUseBind(true,false,false,false,true);this._setUseExpr(true,true);};_pListView._default_scrolleventthrottle="aniframe";_pListView._default_scrolltracktype=["trackmoved"];_pListView._default_scrolltrackalign=["tail tracktop"];_pListView.onCreatedContents=function(_a){this._update_position();this._createdFormats();this._createdItems(_a);this._setEventHandler("onlbuttondown",this._on_listview_onlbuttondown,this);this._setEventHandler("onlbuttonup",this._on_listview_onlbuttonup,this);this._analyzeKeyMatrix();};_pListView.onAttachContentsHandle=function(_a){this.onAttachHandleItems(_a);this._resetNCChild();this._setEventHandler("onlbuttondown",this._on_listview_onlbuttondown,this);this._setEventHandler("onlbuttonup",this._on_listview_onlbuttonup,this);this._analyzeKeyMatrix();};_pListView._recreateContents=function(){this._clearContents();this._initPanelLayout();this._initContents();this._createdItems(this._getWindow());this._recalcLayout(true);};_pListView._recreateItems=function(_a){if(this._is_created){this._recreateContents();this._resetScrollInfo(_a);this._resetSelectInfo(_a);}};_pListView._resetScrollInfo=function(_a){var _b;var _c=0;if(this.rowcount>0){if((_a!==null||_a!==undefined)&&_a> -1){_b=_a;}else{_b=this.getSelect().row;}var _d=this._getPanelSlot(_b);if(_d){_c=_d._getSlotCalcTop();}}this._updateItemVScrollInfo(_c,"trackinit",true);};_pListView._resetSelectInfo=function(_a){var _b=this.getSelect();this._onClearCurrentSelect();if(this.rowcount>0){if((_a!==null||_a!==undefined)&&_a> -1){this._onSetCurrentSelect(this._onGetSelectArgument(_a,_b.band,_b.cell));}else{this._onSetCurrentSelect(this._onGetSelectArgument(_b.row,_b.band,_b.cell));}}};_pListView._onSetContents=function(_a){this.set_formats(_a);if(this._is_created_contents&&!this._is_created){this._clearContents();this._initPanelLayout();this._initContents();}};_pListView._onChangeContainerRect=function(_a,_b){nexacro.ComplexComponent.prototype._onChangeContainerRect.call(this,_a,_b);if(this._is_created){this._analyzeKeyMatrix();}};_pListView.onCreateNCHeadControl=function(_a){};_pListView.onCreateChild=function(){};_pListView._initOverflow=function(){if(this._is_scrollable){this._use_native_scroll=false;this._use_translate_scroll=true;this._use_translate_scroll_force=true;this._use_translate_move=true;this._use_container_move=true;this._use_container_multi=true;}};_pListView.onCreateItemBegin=function(_a,_b,_c){if(!this.showhead&&!this._is_subcontrol){return;}if(this._is_format_layout&&_a){this.headcontrol=this.createItemCtxtControl(_a, -1,_c);return this.headcontrol;}};_pListView.onCreateItem=function(_a,_b,_c,_d){if(this._is_format_layout&&_a){var _e=this.createItemCtxtControl(_a,_c,_d);return _e;}};_pListView.onCreateItemFinal=function(_a,_b,_c){};_pListView.onDestroyItems=function(){this.headcontrol=null;};_pListView._moveItem=function(_a,_b){var _c=this._getItems();var _d=_c.length;if(_c&&_d){var _e=this._head_count&&this._use_headitem?this._head_count:0;var _f=this._body_count?this._body_count:1;var _g=_a* _f+_e;var _h=_b* _f+_e;if(this._use_partitem){if(this._body_count>1){for(var _i=0,_j=_f;_i<_j;_i++ ,_g++ ,_h++ ){_c[_h]=_c[_g];this._onSetItemIndex(_c[_h],_b);if(_c[_h]&&_c[_h].onUpdateItem){_c[_h].onUpdateItem(_b);}_c[_g]=null;}}else{_c[_h]=_c[_g];this._onSetItemIndex(_c[_h],_b);if(_c[_h]&&_c[_h].onUpdateItem){_c[_h].onUpdateItem(_b);}_c[_g]=null;}return true;}else{}}return false;};_pListView._onSetItemIndentSize=function(_a,_b){var _c=this._onGetItemId(_a);if(_c=="body"){_a._itemindentsize=[0,0,0,0,0,0];}else{switch(this._subgroup){case nexacro._PanelConst.GROUPING_SUBSTYLE_NONE:case nexacro._PanelConst.GROUPING_SUBSTYLE_BAND_EXPAND:case nexacro._PanelConst.GROUPING_SUBSTYLE_BAND_COLLAPSE:case nexacro._PanelConst.GROUPING_SUBSTYLE_BAND_ACCORDION:_a._itemindentsize=[_b,0, -_b,0,0,0];break;case nexacro._PanelConst.GROUPING_SUBSTYLE_BAND_POPUP:_a._itemindentsize=[_b,0,0,0,0,0];break;}}};_pListView._onGetIndentSize=function(){return this.bandindentsize?this.bandindentsize:0;};_pListView._actionSelectItem=function(_a,_b,_c,_d){if(!nexacro._isNumber(_a)||_a< -2||_a>this.rowcount){return;}switch(_d){case "bandfocus":case "cellfocus":if(this.selectchangetype=="down"){this.setSelect(_a,_b,_c);}break;case "bandclick":case "cellclick":if(this.selectchangetype=="up"){this.setSelect(_a,_b,_c);}break;case "tabfocus":this.setSelect(_a,_b,_c);this._focusItem(_a);this._focusItemChild(_a,_b,_c);break;}};_pListView._getPanelSlotCount=function(_a){_a=(_a!=undefined)?_a:this.getSelect().row;if(_a>=0&&this._panel&&this._panel._panel_slots.length>0){if(nexacro._isArray(this._panel._panel_slots[_a]._slot_target)){return this._panel._panel_slots[_a]._slot_target.length;}else{return 1;}}return 0;};_pListView._isExistSubSlot=function(_a){_a=(_a!=undefined)?_a:this.getSelect().row;if(_a>=0){if(this._panel&&this._panel._panel_slots.length>0){if(nexacro._isArray(this._panel._panel_slots[_a]._slot_target)){var _b=this._panel._panel_slots[_a]._slot_multi;if(_b==0||_b==1){return true;}}}}return false;};_pListView._moveToCellRight=function(_a){var _b=this._getCurrentCell();if(_b){var _c=_b._refinfo._key_direction.right;if(_c>=0){_b=this._getCurrentCell(null,null,_c);_b._setFocus(false);}else{var _d=this.getSelect();var _e=_d.row;var _f=_d.band;if(_e>=0){var _g,_h=_f;_g=this._findNextSelectIndex(nexacro.Event.KEY_RIGHT);if(_e==_g){return;}if(_f>0){}var _i=this._getCurrentBand(_g,_h);if(_i){_c=this._getKeyActionOtherbandCell(_b,_i,"r");_b=this._getCurrentCell(_g,_h,_c);_b._setFocus(false);if(_a){this.addSelect(_g);}}}}}};_pListView._moveToCellLeft=function(_a){var _b=this._getCurrentCell();if(_b){var _c=_b._refinfo._key_direction.left;if(_c>=0){_b=this._getCurrentCell(null,null,_c);_b._setFocus(false);}else{var _d=this.getSelect();var _e=_d.row;var _f=_d.band;if(_e>=0){var _g,_h=_f;_g=this._findNextSelectIndex(nexacro.Event.KEY_LEFT);if(_e==_g){return;}if(_f>0){}var _i=this._getCurrentBand(_g,_h);if(_i){_c=this._getKeyActionOtherbandCell(_b,_i,"l");_b=this._getCurrentCell(_g,_h,_c);_b._setFocus(false);if(_a){this.addSelect(_g);}}}}}};_pListView._moveToCellUp=function(_a){var _b=this._getCurrentCell();if(_b){var _c=_b._refinfo._key_direction.up;if(_c>=0){_b=this._getCurrentCell(null,null,_c);_b._setFocus(false);}else{var _d=this.getSelect();var _e=_d.row;var _f=_d.band;if(_e>=0){var _g,_h;if(_f>0){_g=_e;_h=_f-1;}else{_g=this._findNextSelectIndex(nexacro.Event.KEY_UP);if(_e==_g){return;}if(this._isExistSubSlot(_g)){_h=this._getPanelSlotCount()-1;}}var _i=this._getCurrentBand(_g,_h);if(_i){_c=this._getKeyActionOtherbandCell(_b,_i,"t");_b=this._getCurrentCell(_g,_h,_c);_b._setFocus(false);if(_a){this.addSelect(_g);}}}}}};_pListView._moveToCellDown=function(_a){var _b=this._getCurrentCell();if(_b){var _c=_b._refinfo._key_direction.down;if(_c>=0){_b=this._getCurrentCell(null,null,_c);_b._setFocus(false);}else{var _d=this.getSelect();var _e=_d.row;var _f=_d.band;if(_e>=0){var _g,_h;if(_f<this._getPanelSlotCount()-1&&this._isExistSubSlot(_e)){_g=_e;_h=_f+1;}else{_g=this._findNextSelectIndex(nexacro.Event.KEY_DOWN);if(_e==_g){return;}_h=0;}var _i=this._getCurrentBand(_g,_h);if(_i){_c=this._getKeyActionOtherbandCell(_b,_i,"b");_b=this._getCurrentCell(_g,_h,_c);_b._setFocus(false);if(_a){this.addSelect(_g);}}}}}};_pListView._moveToCellPagedown=function(){var _a=this._findNextSelectIndex(nexacro.Event.KEY_PAGE_DOWN);var _b=this._getCurrentCell(_a);if(_b){_b._setFocus(false);}};_pListView._moveToCellPageup=function(){var _a=this._findNextSelectIndex(nexacro.Event.KEY_PAGE_UP);var _b=this._getCurrentCell(_a);if(_b){_b._setFocus(false);}};_pListView._moveToCellTab=function(_a){var _b=this._getCurrentBand();var _c=null;if(_b){var _d=this.getSelect();var _e=_d.row;var _f=_d.band;var _g=_d.cell;if(!_a){_c=this._findEditableCell(_b,_g+1,1);if(!_c){if(_f<this._getPanelSlotCount()-1&&this._isExistSubSlot(_e)){_f++ ;}else{_e++ ;_f=0;}if(_b=this._getCurrentBand(_e,_f)){_g=0;_c=this._findEditableCell(_b,_g,1);}}}else{_c=this._findEditableCell(_b,_g-1, -1);if(!_c){if(_f>0){_f-- ;}else{_e-- ;if(this._isExistSubSlot(_e)){_f=this._getPanelSlotCount()-1;}else{_f=0;}}if(_b=this._getCurrentBand(_e,_f)){var _h=this._getBandCells(_b);_g=_h?_h.length-1:0;_c=this._findEditableCell(_b,_g, -1);}}}if(_c){_c._setFocus(false);}}};_pListView._selectItemKeyInfo=function(_a,_b,_c,_d){switch(_a){case nexacro.Event.KEY_DOWN:case nexacro.Event.KEY_UP:case nexacro.Event.KEY_LEFT:case nexacro.Event.KEY_RIGHT:case nexacro.Event.KEY_PAGE_UP:case nexacro.Event.KEY_PAGE_DOWN:var _e=this._findNextSelectIndex(_a,_b,_c,_d);if(_e==null||_e<0){return false;}if(_d){this.addSelect(_e);}this._focusItem(_e);break;case nexacro.Event.KEY_TAB:this._moveToCellTab(_d);var _f=this._getWindow();if(_f&&_f._keydown_element){_f._keydown_element._event_stop=true;}break;}return true;};_pListView._editorCellKeyInfo=function(_a,_b,_c,_d){var _e=this._getCurrentCell();if(!_e){return;}if(_a==nexacro.Event.KEY_ENTER){if(_c){_e._actionEditCell(_e,"ctrlenterkey");return;}_e._actionEditCell(_e,"enterkey");}else{if(this.autoenter=="key"){if(nexacro._Browser=="Runtime"){if(this._isChar(_a)||_a==25){_e._actionEditCell(_e,"charkey");}}}}};_pListView._customItemKeyInfo=function(_a,_b,_c,_d){switch(this._checkCustomActionKeyInfo(_a,_b,_c,_d)){case "select":this._selectItemKeyInfo(_a,_b,_c,_d);break;case "editor":this._editorCellKeyInfo(_a,_b,_c,_d);break;}};_pListView._checkCustomActionKeyInfo=function(_a,_b,_c,_d){var _e="";switch(_a){case nexacro.Event.KEY_DOWN:case nexacro.Event.KEY_UP:case nexacro.Event.KEY_LEFT:case nexacro.Event.KEY_RIGHT:case nexacro.Event.KEY_PAGE_UP:case nexacro.Event.KEY_PAGE_DOWN:var _f=this._getWindow();if(_f){var _g=_f._keydown_element;if(this._isEditorKeyAction(_g,_a,_b,_c,_d)==false){_e="select";}}break;case nexacro.Event.KEY_ENTER:default:_e="editor";break;}return _e;};_pListView._isChar=function(_a){switch(_a){case 9:case 25:case 27:case 144:case 145:return false;break;}if((_a>=16&&_a<=21)||(_a>=33&&_a<=40)||(_a>=91&&_a<=93)||(_a>=112&&_a<=123)){return false;}return true;};_pListView._isEditorKeyAction=function(_a,_b,_c,_d,_e){if(this._is_editor_keyaction==false){this._is_editor_keyaction=true;return true;}var _f=this._getCurrentCell();if(!_f||!_f._isShowEditor()){return false;}if(_a.isInputElement()){var _g=_a.getElementCaretPos();var _h;var _i;if(_a.readonly==true){return false;}if(_b==nexacro.Event.KEY_LEFT){if(_d||_e||_c){return true;}if((_g&&_g!= -1)&&_g.begin!=0){return true;}}else if(_b==nexacro.Event.KEY_RIGHT){if(_d||_e||_c){return true;}var _j=_a.getElementValue();var _k=_j?_j.length:0;if((_g&&_g!= -1)&&_g.begin!=_k){return true;}}else if(_b==nexacro.Event.KEY_UP){if(_d||_e||_c){return true;}if(_a.usemultiline){_h=_a.getElementCaretLine();if(_h!=1){return true;}}}else if(_b==nexacro.Event.KEY_DOWN){if(_d||_e||_c){return true;}if(_a.usemultiline){_i=parseInt(_a.parent.linkedcontrol._getLineCount());_h=_a.getElementCaretLine();if(_h!=_i){return true;}}}}return false;};_pListView._onCreatePopupChild=function(_a){if(_a&&this._formats){var _b=this._formats._getBandSeq("detail");var _c=_a._getSlotTargetBand(_b);var _d=_a._getSlotIndex();if(_c){var _e=_c._getCtxtBaseInfo();var _f=this._getBindData(_d);var _g=null;if(_g=this._createPopupChildControl(this.createCtxtControl(_e,_d))){this._setItemIndex(_g,_c._itemindex);this._setCtxtItemInfo(_g,_e,_d,_c._itemsubidx);this._setBindItemInfo(_g,_f,_d,_b);this._setItemSubLayoutInfo(_g,_f,_d);this._setItemIndentSize(_g,this._onGetIndentSize());return _g;}}}};_pListView._getPopupControl=function(){return this._getCurrentPopup();};_pListView._onGetPopupChildSize=function(_a){var _b=_a._getAttachedComponent();if(_b&&_b._getContextSize){return _b._getContextSize(this._getClientWidth(),this._getClientHeight());}else{return [this.getPixelWidth(),this.getPixelHeight()];}};_pListView._onGetPopupChildPosition=function(_a){var _b=this._getWindow();var _c=_a._getOrigin(true);var _d=_a._getAttachedComponent();if(_c&&_d){var _e=this._onGetItemIndentSize(_d);var _f=nexacro._getMainWindowHeight(_b);var _g=nexacro._getElementPositionInFrame(_c.getElement());var _h=_c.getPixelHeight();var _i=_d._getContextHeight(this._getClientHeight());var _j=0+_e[0];var _k=_c.getPixelHeight();if(_g.y+_h+_i>_f){if(_g.y-_i>=0){_k= -_i;}}return [_j,_k];}else{return [0,0];}};_pListView.on_notify_popup_onpopup=function(_a,_b,_c){var _d=this._popuplist[_a];if(_d){var _e=_d._getOrigin(false);var _f=_d._getAttachedComponent();var _g="";var _h=_e._statusmap;for(_g in _h){_f._changeStatus(_g,_h[_g]);}var _i=_e._userstatusmap;for(_g in _i){_f._changeUserStatus(_g,_i[_g]);}this._setCurrentPopup(_d,_a,_b,_c);}};_pListView.on_notify_popup_onclose=function(_a,_b,_c){var _d=this._getPanel();if(_d){var _e=_d._getPanelSlot(_b);if(_e){var _f=_e._getSlotStatusBand();_d._setPanelSlotStatusBandNoAction(_b,nexacro._PanelSlotConst.STATUS_COLLPASE);if(_f!=(_f=_e._getSlotStatusBand())){this._on_fire_onbandstatuschanged(_b,_f,this,this);}}}};_pListView._is_format_layout=true;_pListView.formats="";_pListView.formatid="";_pListView._onInitFormatsLayout=function(){var _a=this._formats;if(_a){_a._initFormats(nexacro._FormatsConst.FORMATMODE_XML,nexacro._FormatsConst.FORMATTYPE_POSITION,nexacro._FormatsConst.FORMATBIND_BIND,["head"],["body","detail"],[""],["track"],["null"],["track","null"],{"Band":"nexacro._ListViewBandControl","Cell":"nexacro._ListViewCellControl"});}};_pListView._onSetCtxtBaseInfo=function(){var _a=this._getCtxtBaseInfo();var _b=_a?_a._bands:null;if(_b){for(var _c in _b){this._makeBandCellInfo(_b[_c]);}}};_pListView._onClearCtxtBaseInfo=function(){var _a=this._getCtxtBaseInfo();var _b=_a?_a._bands:null;if(_b){for(var _c in _b){this._clearBandCellInfo(_b[_c]);}}};_pListView._resetBandCellInfo=function(_a,_b){if(_a){{this._clearBandInfo(_a);this._clearCellInfo(_a);}if(!_b){this._makeBandInfo(_a);this._makeCellInfo(_a);}}};_pListView._makeBandCellInfo=function(_a){this._resetBandCellInfo(_a,false);};_pListView._clearBandCellInfo=function(_a){this._resetBandCellInfo(_a,true);};_pListView._makeBandInfo=function(_a){};_pListView._makeCellInfo=function(_a){for(var _b=0,_c=_a._items.length;_b<_c;_b++ ){_a._items[_b]._cellinfo=new nexacro.ListViewCellInfo(_a.id+_b,_a._bandinfo,this,_a.id,_b);this._onMakeCellInfo(_a._items[_b]);}};_pListView._changeCellInfo=function(_a,_b,_c,_d){var _e=this._getCtxtBaseInfo();if(_e){var _f=_e._getBandChildFromId(_a,_b);if(_f){return this._onChangeCellInfo(_f,_c,_d);}}return false;};_pListView._getCellinfo=function(_a,_b,_c){var _d=this._getCtxtBaseInfo();if(_d){var _e=_d._getBandChildFromId(_a,_b);if(_e){if(!_c){return _e._cellinfo;}else{return _e._cellinfo[_c];}}}};_pListView._clearBandInfo=function(_a){if(_a._bandinfo){delete _a._bandinfo;_a._bandinfo=null;}};_pListView._clearCellInfo=function(_a){for(var _b=0,_c=_a._items.length;_b<_c;_b++ ){if(_a._items[_b]._cellinfo){delete _a._items[_b]._cellinfo;_a._items[_b]._cellinfo=null;}}};_pListView._onMakeBandInfo=function(_a){};_pListView._onMakeCellInfo=function(_a){var _b=_a?_a._cellinfo:null;var _c=_a?_a._setts:null;if(_b&&_c){for(var _f in _c){var _d=_b["set_"+_f];if(_d){_d.call(_b,_a[_f]);}else if(_b.hasOwnProperty(_f)==false){var _e=_a[_f];switch(_f){case "col":case "row":case "colspan":case "rowspan":break;default:_b[_f]=new nexacro.BindableValue(undefined);_b._addPropertyMap(_b,[[_f,null,true,undefined,false]],true);if(_e!==null&&_e!==undefined){_b["set_"+_f](_e);}break;}}}}};_pListView._onChangeCellInfo=function(_a,_b,_c){var _d=_a?_a._cellinfo:null;if(_d){var _e=_d["set_"+_b];if(_e){_e.call(_d,_c);if(_b=="left"||_b=="top"||_b=="width"||_b=="height"||_b=="right"||_b=="bottom"){_d._syncPosition(_a);}return true;}else if(_d.hasOwnProperty(_b)==false){var _f=_a[_b];switch(_b){case "col":case "row":case "colspan":case "rowspan":break;default:_d[_b]=new nexacro.BindableValue(undefined);_d._addPropertyMap(_d,[[_b,null,true,undefined,false]],true);if(_f!==null&&_f!==undefined){_d["set_"+_b](_f);}break;}return true;}}return false;};_pListView.onCreateCtxtControl=function(_a,_b,_c){if(_a&&_b){_a._setAddedCreateInfo(this,_b,_c);{_a._setEventHandler("onclick",this.on_notify_band_onclick,this);_a._setEventHandler("ondblclick",this.on_notify_band_ondblclick,this);_a._setEventHandler("onsetfocus",this.on_notify_band_onsetfocus,this);_a._setEventHandler("onexpand",this.on_notify_band_onexpand,this);_a._setEventHandler("onexpandclick",this.on_notify_band_onexpandclick,this);_a._setEventHandler("oninput",this.on_notify_band_oninput,this);}}return _a;};_pListView._onGetContextDataNull=function(_a){if(this._formats){var _b;var _c=this._onGetContextDataBand(this._formats._null_bands,_a);if(_c&&_c[0]){_b=_c[0]._items;}else{var _d=new nexacro._Formats();_d._initFormats(nexacro._FormatsConst.FORMATMODE_XML,nexacro._FormatsConst.FORMATTYPE_POSITION,nexacro._FormatsConst.FORMATBIND_BIND,["head"],["body","detail"],[""],[""],["null"],["null"],{"Band":"nexacro._ListViewBandControl","Cell":"nexacro._ListViewCellControl"});_d._loadFormatFromDOM("default","");_d._makeAutoBands();var _e=_d._getItem("default");_c=[_e._getBand("null",false)];_b=_e._getBandChilds("null");}if(_b&&_b[0]){_b[0].text=this.nodatatext;_b[0].background="transparent "+this.nodataimage+" center center no-repeat";}return this._null_ctxts=_c;}};_pListView._analyzeKeyMatrix=function(){var _a=this._getCtxtBaseInfo();var _b=_a?_a._bands:null;if(!_b||!_b["body"]){return;}var _c=this._getPanelSlotCount(0);for(var _d=0;_d<_c;_d++ ){this._analyzeKeyMatrixCellSameBand(this._items[_d]);}};_pListView._getKeyActionOtherbandCell=function(_a,_b,_c){var _d=this._getBandCells(_b);if(!_d){return  -1;}var _e,_f,_g,_h,_i;var _j,_k;var _l;var _m=(_c=="l"||_c=="r")?0:1;var _n=Infinity;var _o=null;var _p= -1;_e=_a._adjust_left+(_a._adjust_width/2);_f=_a._adjust_top+(_a._adjust_height/2);for(_j=0,_k=_d.length;_j<_k;_j++ ){_g=_d[_j];_h=_g._adjust_left+(_g._adjust_width/2);_i=_g._adjust_top+(_g._adjust_height/2);switch(_c){case "l":_h-=_b._adjust_width;break;case "t":_i-=_b._adjust_height;break;case "r":_h+=_a.parent._adjust_width;break;case "b":_i+=_a.parent._adjust_height;break;}var _q=this._calcCellAngleDistance(_e,_f,_h,_i);_q.idx=_j;_q.x=_h;_q.y=_i;_l=_q.direction[_m];if(_l==_c){if(_n>_q.distance){_o=[];_o.push(_q);_n=_q.distance;}else if(_n==_q.distance){if(_o){_o.push(_q);}}}}if(_o){var _r=Infinity;if(_m==0){for(_j=0,_k=_o.length;_j<_k;_j++ ){var _s=Math.abs(_o[_j].y-_f);if(_r>_s){_r=_s;_p=_o[_j].idx;}}}else{for(_j=0,_k=_o.length;_j<_k;_j++ ){var _t=Math.abs(_o[_j].x-_e);if(_r>_t){_r=_t;_p=_o[_j].idx;}}}}return _p;};_pListView._analyzeKeyMatrixCellSameBand=function(_a){if(!_a){return;}var _b=this._getBandCells(_a);if(!_b){return;}var _c,_d,_e,_f,_g;var _h,_i;var _j,_k,_l,_m,_n,_o;for(_c=0,_f=_b.length;_c<_f;_c++ ){var _p={left: -1,up: -1,right: -1,down: -1};var _q={l:Infinity,t:Infinity,r:Infinity,b:Infinity};var _r={l:null,t:null,r:null,b:null};_j=_b[_c];_k=_j._adjust_left+(_j._adjust_width/2);_l=_j._adjust_top+(_j._adjust_height/2);for(_d=0;_d<_f;_d++ ){if(_c==_d){continue;}_m=_b[_d];_n=_m._adjust_left+(_m._adjust_width/2);_o=_m._adjust_top+(_m._adjust_height/2);var _s=this._calcCellAngleDistance(_k,_l,_n,_o);_s.idx=_d;_s.x=_n;_s.y=_o;for(_e=0;_e<2;_e++ ){var _t=_s.direction[_e];if(_t!=undefined){if(_q[_t]>_s.distance){_r[_t]=[];_r[_t].push(_s);_q[_t]=_s.distance;}else if(_q[_t]==_s.distance){_r[_t].push(_s);}}}}var _u;if(_r["l"]){_u=Infinity;for(_d=0,_g=_r["l"].length;_d<_g;_d++ ){_i=Math.abs(_r["l"][_d].y-_l);if(_u>_i){_u=_i;_p.left=_r["l"][_d].idx;}}}if(_r["t"]){_u=Infinity;for(_d=0,_g=_r["t"].length;_d<_g;_d++ ){_h=Math.abs(_r["t"][_d].x-_k);if(_u>_h){_u=_h;_p.up=_r["t"][_d].idx;}}}if(_r["r"]){_u=Infinity;for(_d=0,_g=_r["r"].length;_d<_g;_d++ ){_i=Math.abs(_r["r"][_d].y-_l);if(_u>_i){_u=_i;_p.right=_r["r"][_d].idx;}}}if(_r["b"]){_u=Infinity;for(_d=0,_g=_r["b"].length;_d<_g;_d++ ){_h=Math.abs(_r["b"][_d].x-_k);if(_u>_h){_u=_h;_p.down=_r["b"][_d].idx;}}}_j._refinfo._key_direction=_p;}};_pListView._calcCellAngleDistance=function(_a,_b,_c,_d){var _e=_c-_a;var _f=_d-_b;var _g=Math.sqrt(Math.pow(_e,2)+Math.pow(_f,2));var _h=180* Math.atan2(_e, -_f)/Math.PI;var _i=new Array(2);if(_h< -45&&_h> -135){_i[0]="l";}else if(_h> -45&&_h<45){_i[1]="t";}else if(_h>45&&_h<135){_i[0]="r";}else if(_h== -45){_i[0]="l";_i[1]="t";}else if(_h==45){_i[0]="r";_i[1]="t";}else if(_h==135){_i[0]="r";_i[1]="b";}else if(_h== -135){_i[0]="l";_i[1]="b";}else{_i[1]="b";}return {direction:_i,distance:_g};};_pListView.set_formats=function(_a){if(this.formats!=_a){this.formats=_a;this.on_apply_formats();}};_pListView.on_apply_formats=function(){if(this._is_created){this._setFormats(this.formats);this._updateFormats();this._analyzeKeyMatrix();this._recreateItems();}};_pListView.on_clear_formats=function(){this._clearFormats();};_pListView.set_formatid=function(_a){if(_a&&_a!=this.formatid){this.formatid=_a;this.on_apply_formatid();}};_pListView.on_apply_formatid=function(){if(!this._is_created){return;}this._changeFormatId(this.formatid);this._recreateItems();};_pListView.on_clear_formatid=function(){if(!this._is_created){return;}this._clearFormatId();};_pListView.binddataset=null;_pListView.rowcount=0;_pListView.set_binddataset=function(_a){if(this.binddataset!=_a){this.binddataset=_a;this.on_apply_binddataset();}};_pListView.on_apply_binddataset=function(){this._setBindDataSource();this.rowcount=this._getBindCount();if(!this._is_created){return;}this._recreateItems();};_pListView.on_clear_binddataset=function(){this._clearBindDataSource();this.rowcount=0;};_pListView._callback_onload=function(_a,_b){this.rowcount=this._getBindCount();if(this._is_created){this._resetBindInfo();this._recreateItems();}};_pListView._callback_onrowsetchanged=function(_a,_b){this.rowcount=this._getBindCount();if(this._is_created){this._resetBindInfo();this._recreateItems(_a.rowposition);}};_pListView._callback_onrowposchanged=function(_a,_b){if(!this._is_created){return;}if(this._beginChangeRowPosition()){return;}var _c=this.getSelect();var _d=this._onGetSelectArgument(_a.rowposition,_c.band,_c.cell);this._onSetCurrentSelect(_d);if(this._finalChangeRowPosition()){return;}};_pListView._is_panel_layout=true;_pListView._onInitPanelLayout=function(){var _a=this._getPanel();if(_a){var _b=this._use_partitem?nexacro._PanelConst.SLOT_OVERFLOWTYPE_PARTSLOT:nexacro._PanelConst.SLOT_OVERFLOWTYPE_FULLSLOT;var _c=this._rowfirst?this._rowfirst:nexacro._PanelConst.SLOT_ARRANGETYPE_COLFIRST;var _d=this._arrange?this._arrange:nexacro._PanelConst.SLOT_ARRANGETYPE_HORZGAPD;var _e=this._overflow?this._overflow:nexacro._PanelConst.SLOT_OVERFLOWTYPE_SCROLL;var _f=this._selector?this._selector:nexacro._PanelConst.SLOT_SELECTORTYPE_NONE;_a._setLayoutType(nexacro._PanelConst.LAYOUTSTYLE_POSITION);_a._setSizeInfoRefPanel(null,nexacro._PanelConst.SIZEINFO_REFSTYLE_NOLINK);_a._setGroupingSubPanel(null,this._subgroup,nexacro._PanelConst.GROUPING_SUBPLACE_NONE);_a._setSlotVisibleType(nexacro._PanelConst.SLOT_VISIBLETYPE_HIDESLOT);_a._setSlotArrangeType(_c|_d);_a._setSlotOverFlowType(_e|_b);_a._setSlotSelectorType(_f);_a._setSlotAutoSizeType(nexacro._PanelConst.SLOT_AUTOSIZETYPE_DEFAULT);_a._setSlotSizeMoveType(nexacro._PanelConst.SLOT_SIZEMOVETYPE_NONE);_a._setSlotBandFixType(true,false,false);_a._setPanelLimitHeight(this._getPanelLimitHeight());}};_pListView._onInitSubPanelNCChildLayout=function(_a,_b){};_pListView._onInitSubPanelChildLayout=function(_a,_b){};_pListView._onInitSubPanelItemsLayout=function(_a,_b,_c,_d){};_pListView._onInitPopupSubPanelNCChildLayout=function(_a,_b,_c){};_pListView._onInitPopupSubPanelChildLayout=function(_a,_b,_c){};_pListView._onInitPopupSubPanelItemsLayout=function(_a,_b,_c){};_pListView._calcItemScrollViewStart=function(_a,_b,_c,_d){var _e=this.bandexpandtype;if(_e=="expand"||_e=="accordion"){if(this._use_scrollmanager&&this._scrollmanager){var _f=this._getItemScrollViewStart();if(_f<0){_f=0;}var _g=_d?(_f/_b):(_f/_c);var _h="forward";if(_d){var _i=this._getItemWidth(0);if(_i<=0){return 0;}else{return Math.floor(_a/_i)* (_b?_b:1);}}else{var _j=this._getBindCount();var _k=0;var _l=_f+_c>_j?_j:_f+_c;var _m=0;var _n=0;var _o=0;for(_k=_f;_k<_l;_k++ ){var _p=this._getItem(_k);if(_p){_o=Math.max(_o,this._getItemHeight(_k, -9));if(_k===_f){if(nexacro._isArray(_p)){_m=_p[0].top;}else{_m=_p.top;}}}}if(_o<=0){return _f;}if(_a==_m){return _f;}_n=_m+_o;if(_a<_n){_h="backward";}if(_h=="forward"){while(_a>=_n){_f+=_c;_o=0;for(_k=_f;_k<_f+_c;_k++ ){_o=Math.max(_o,this._getItemHeight(_k, -9));}if(_o>0){_n+=_o;_g++ ;}else{break;}}}else{while(_a<_m){_f-=_c;_o=0;for(_k=_f;_k<_f+_c;_k++ ){_o=Math.max(_o,this._getItemHeight(_k, -9));}if(_o>0){_m-=_o;_g-- ;}else{break;}}}}return _g* (_c?_c:1);}}else{return nexacro.ComplexComponent.prototype._calcItemScrollViewStart.call(this,_a,_b,_c,_d);}};_pListView._calcItemScrollViewCount=function(_a,_b,_c,_d){var _e=this.bandexpandtype;if(_e=="expand"||_e=="accordion"){if(this._use_scrollmanager&&this._scrollmanager){var _f=this._getBindCount();if(_d){var _g=this._getClientWidth();var _h=this._getItemArrWidth(0, -9,_g);if(_g<=0||_h<=0){return 0;}else{return Math.ceil(_g/_h)* (_b?_b:1);}}else{var _i=0;var _j=this._getClientHeight();var _k=0;var _l=_a>0?_a:0;var _m=this._getItemArrHeight(_l, -9,_j);if(_j<=0||_m<=0){return 0;}else{while(_j>=_m){for(var _n=0;_n<_c;_n++ ){_l++ ;if(_l>=_f){_k=Math.max(_k,this._getItemArrHeight(0, -9,_j));}else{_k=Math.max(_k,this._getItemArrHeight(_l, -9,_j));}}if(_k>0){_m+=_k;_i++ ;}else{break;}}_i++ ;return _i* (_c?_c:1);}}}}else{return nexacro.ComplexComponent.prototype._calcItemScrollViewCount.call(this,_a,_b,_c,_d);}};_pListView._calcItemScrollInfo=function(_a,_b){if(this._use_scrollmanager){var _c=this._getItemViewCountRow(_b);var _d=this._getItemViewCountCol(_b);if(!_c||!_d){return undefined;}var _e=this._getBindCount();var _f=this._getItemScrollViewStart();if(_f<0){_f=0;}var _g=this._getItemScrollViewCount();var _h=this._getItemScrollPrevCount();var _i=this._getItemScrollNextCount();var _j;if(_a>=0&&_g>=0){var _k=this._calcItemScrollViewStart(_a,_c,_d,_b);var _l=this.bandexpandtype;if(_l=="expand"||_l=="accordion"){_g=this._calcItemScrollViewCount(_k,_c,_d,_b);}var _m=_k-_f;_f=_k;_h+=_m;_i-=_m;_j=_i<_g||_h<_g?_g:0;if(_j){if(_h<_g){_h=_g;_i=_g;var _n=_f-_h;if(_n<0){_h+=_n;_i-=_n;}if(_h<0){_h=0;}}if(_i<_g){_h=_g;_i=_g;var _o=_e-(_f+_g+_i);if(_o<0){_i+=_o;_h-=_o;}if(_i<0){_i=0;}}}}else{var _p=0;var _q=0;if(_g<0){if(_c<=0){_c=1;}if(_d<=0){_d=1;}_g=this._calcItemScrollViewCount( -1,_c,_d,_b);_i=_g* (this._add_partitem+1);_h=0;}else{_g=_c* _d;_h=_i=_g* this._add_partitem;}_p=_f-_h;_q=_g+_h+_i;if(_p<0){_q+=_p;_h+=_p;if(_h<0){_h=0;}_p=0;}_j=(_p+_q)-_e;if(_j>0){_i-=_j;if(_i<0){_i=0;}}_j=undefined;}this._setItemScrollViewStart(_f);this._setItemScrollViewCount(_g);this._setItemScrollPrevCount(_h);this._setItemScrollNextCount(_i);this._resetItemScrollFullSize(_b);return _j;}return 0;};_pListView._movePanelItemSlot=function(_a,_b,_c,_d,_e){var _f=this._panel;if(_f&&this._use_partitem&&_a){var _g=_a.filter(function(_r,_s,_t){if(_r){return true;}},this).length;if(!_g){return false;}var _h=true;var _i=true;var _j=0;var _k=0;var _l=this._getBindCount();var _m=0;var _n,_o;var _p;var _q=new Array();_j=(!_b||_b<0)?_k:Math.max(_k+_b-_d,0);_m=(!_c||_c<0)?_l:Math.min(_j+_c+_d+_e,_l);for(var _r=0;_r<_l;_r++ ){_n=_f._getPanelSlot(_r);_o=_n?!_n._isNonEmptyTarget(_n._getSlotTarget()):false;if(!_o){if(_r<_j||_r>=_m){_q.push(_r);}}}for(;_j<_m;_j++ ){_n=_f._getPanelSlot(_j);_o=!_n._isNonEmptyTarget(_n._getSlotTarget());if(_o){_p=_q.shift();if(!nexacro._isNull(_p)){_f._getPanelSlot(_p)._clearSlotTarget();_n._placeSlotTarget(this._getItem(_p));_h=this._moveItem(_p,_j);}else{_i=false;}}}return _h&_i;}return false;};_pListView._trackPanelItemSlot=function(_a){var _b=this.showcover;var _c=this._scrollmanager;if(!_c){return;}switch(_a){case "pagemove":if(_b){this._callbackApper();_c._callbackReady(this,this._callbackReady,true);}break;case "trackstart":if(_b){_c._actionTrackCover(_a);_c._actionTrackBands(_a);}break;case "trackmove":if(_b){_c._actionTrackCover(_a);_c._actionTrackBands(_a);}else{this._callbackApper();}break;case "trackend":if(_b){_c._actionTrack(_a,this,this._callbackApper,this._callbackPause,this._callbackClose);}break;default:_c._actionTrack(_a,this,this._callbackApper,this._callbackPause,this._callbackClose);break;}};_pListView._apperPanelItemSlot=function(_a,_b){if(isNaN( +_b)===true){_b=null;}this._callbackApper(_b);};_pListView._readyPanelItemSlot=function(_a){var _b=this.showcover;var _c=this._scrollmanager;if(!_c){return;}if(_a=="trackwheel"){_c._callbackReady(this,this._callbackReady,true);}else{if(_b){_c._actionReady(_a,this,this._callbackReady);}else{_c._callbackReady(this,this._callbackReady,true);}}};_pListView._callbackPause=function(){if(this._use_partitem){if(this._use_scrollmanager&&this._scrollmanager){this._scrollmanager._actionTrackCover("trackpause");}}};_pListView._callbackClose=function(){if(this._use_partitem){if(this._use_scrollmanager&&this._scrollmanager){this._scrollmanager._actionTrackBands("trackend");}}};_pListView._callbackApper=function(_a){if(this._use_partitem){if(_a===undefined){_a=this._isRowFirst()?this._calcItemScrollInfo(this._scrollmanager&&this._scrollmanager.hscrollinfo?this._scrollmanager.hscrollinfo.pos:this._hscroll_pos,true):this._calcItemScrollInfo(this._scrollmanager&&this._scrollmanager.vscrollinfo?this._scrollmanager.vscrollinfo.pos:this._vscroll_pos,false);}if(_a!==0){var _b=this._getItems();var _c=this._getItemScrollViewStart();var _d=this._getItemScrollViewCount();var _e=this._getItemScrollPrevCount();var _f=this._getItemScrollNextCount();if(!this._movePanelItemSlot(_b,_c,_d,_e,_f)){this._showPanelItemSlot(_b,_c,_d,_e,_f,_a,true);}this._resetStatus();}}};_pListView._callbackReady=function(){if(this._use_partitem){var _a=this._getItems();var _b=this._isRowFirst();var _c=this._getItemScrollViewStart();var _d=this._getItemScrollViewCount();var _e=this._getItemScrollPrevCount();var _f=this._getItemScrollNextCount();if(this._use_headitem){this._makePanelItemSlot(_a,_c,_d,_e,_f, -1,_b);}if(this._use_tailitem){this._makePanelItemSlot(_a,_c,_d,_e,_f, -2,_b);}this._makePanelItemSlot(_a,_c,_d,_e,_f,0,_b);this._resetLayoutTrack();this._resetScrollStatus();this._resetStatus();this._analyzeKeyMatrix();}};_pListView._on_beforescroll=function(_a,_b,_c,_d,_e,_f){_d=(_d=(parseInt(_d)|0))<0?0:_d;var _g=_b!=_d;if(_g){if(_f){if(_f.indexOf("mousewheel")> -1){this._updateItemVScrollInfo(_d,"trackwheel",true);this._changeItemVScrollInfo(_d,"trackwheel",false);}}else{this._updateItemVScrollInfo(_d,"none",true);this._changeItemVScrollInfo(_d,"none",false);}}return true;};_pListView._on_basic_onvscroll=function(_a,_b){};_pListView._on_default_onvscroll=function(_a,_b){var _c=this.showcover;switch(_b.type){case "track":case "trackstart":case "trackend":case "trackfirst":case "trackfirstover":case "tracklast":case "tracklastover":if(!_c){this._control_element.setElementVScrollPos(_b.pos);}break;default:{this._control_element.setElementVScrollPos(_b.pos);}break;}};_pListView._on_update_onvscroll=function(_a,_b){var _c=this.showcover;switch(_b.type){case "pagedown":case "pageup":case "linedown":case "lineup":case "first":case "firstover":case "last":case "lastover":if(_c){this._updateItemVScrollInfo(_b.pos,"pagemove",true);}else{this._updateItemVScrollInfo(_b.pos,"trackmove",false);}break;default:{this._updateItemVScrollInfo(_b.pos,"trackmove",false);}break;}};_pListView._on_change_onvscroll=function(_a,_b){this._changeItemVScrollInfo(_b.pos,"trackchange",false);};_pListView._on_finish_onvscroll=function(_a,_b){switch(_b.type){case "track":case "trackstart":case "trackend":case "trackfirst":case "trackfirstover":case "tracklast":case "tracklastover":{this._control_element.setElementVScrollPos(_b.pos);this._updateItemVScrollInfo(_b.pos,"trackend",true);}break;default:{this._updateItemVScrollInfo(_b.pos,"trackend",true);}break;}};_pListView.set_showcover=function(_a){_a=nexacro._toBoolean(_a);if(this.showcover!=_a){this.showcover=_a;this.on_apply_showcover();}};_pListView.on_apply_showcover=function(){if(!this._is_created){return;}this._resetScroll(true);if(this._scrollmanager){this._scrollmanager._recalcLayout();}};_pListView._onGetScrollCoverType=function(){if(this.showcover){return "blur";}else{return "none";}};_pListView._setVScrollDefaultAction=function(_a){return nexacro.SimpleComponent.prototype._setVScrollDefaultAction.call(this,_a);};_pListView.set_showtrack=function(_a){var _b=nexacro._toBoolean(_a);if(this.showtrack!=_b){this.showtrack=_b;this._setUseScrollCover(this.showcover);this._setUseScrollTrack(this.showtrack);this.on_apply_showtrack();}};_pListView.on_apply_showtrack=function(){if(!this._is_created){return;}if(this._use_scrollmanager&&this._scrollmanager){this._scrollmanager._recalcLayout();}};_pListView.set_tracktype=function(_a){if(this.showtrack!=_a){this.tracktype=_a;this._default_scrolltracktype=[this.tracktype];this.on_apply_tracktype();}};_pListView.on_apply_tracktype=function(){if(!this._is_created){return;}if(this._use_scrollmanager&&this._scrollmanager){this._scrollmanager._recalcLayout();}};_pListView.set_trackalign=function(_a){if(this.showtrack!=_a){this.trackalign=_a;this._default_scrolltrackalign=[this.trackalign];this.on_apply_trackalign();}};_pListView.on_apply_trackalign=function(){if(!this._is_created){return;}if(this._use_scrollmanager&&this._scrollmanager){this._scrollmanager._recalcLayout();}};_pListView._use_selector=false;_pListView._use_multiselector=false;_pListView._use_partsselector=false;_pListView.multiselect=false;_pListView.rangeselect=false;_pListView._onInitSelect=function(_a,_b,_c,_d,_e){if(this._selectinfo){if(!_a){_a=nexacro._SelectConst.SELECTTYPE_ITEM;}if(!_b){_b=1;}if(!_c){_c=this.rangeselect?2:1;}if(!_d){_d=this.multiselect? -1:1;}this._selectinfo._initSelect(_a,_b,_c,_d,_e);}};_pListView.set_multiselect=function(_a){var _b=nexacro._toBoolean(_a);if(_b!=this.multiselect){this.multiselect=_b;this.on_apply_multiselect();}};_pListView.on_apply_multiselect=function(){if(!this._is_created){return;}this._onInitSelect();};_pListView.set_rangeselect=function(_a){var _b=nexacro._toBoolean(_a);if(_b!=this.rangeselect){this.rangeselect=_b;this.on_apply_rangeselect();}};_pListView.on_apply_rangeselect=function(){if(!this._is_created){return;}this._onInitSelect();};_pListView.getSelect=function(){return this._onGetCurrentSelect()||{row:this._DEFAULT_ROWINDEX,band:this._DEFAULT_SUBINDEX,cell:this._DEFAULT_CELLINDEX};};_pListView.getSelectIndex=function(){var _a=this._onGetCurrentSelect();if(_a){return _a.row;}else{return this._DEFAULT_ROWINDEX;}};_pListView.setSelect=function(_a,_b,_c){var _d=this._onGetSelectArgument(_a,_b,_c);if(this._on_rowposition_change(_a)){this._onSetCurrentSelect(_d);}};_pListView._beginChangeRowPosition=function(){return !(this.__changeRowposition?false:this.__changeRowposition=true);};_pListView._finalChangeRowPosition=function(){return !(this.__changeRowposition=false);};_pListView._on_rowposition_change=function(_a,_b,_c){if(this._beginChangeRowPosition()){return;}var _d=false;var _e=this._getBindDataSet();if(_e){_d=_a==_e._setRowPosition(_a,51);}if(this._finalChangeRowPosition()){return _d;}};_pListView._on_basic_onselect=function(_a,_b){if(this._is_created){if(_a){this._setItemSelect(_a.row,false);this._setItemChildSelect(_a.row,_a.band,_a.cell,false);}if(_b){this._setItemSelect(_b.row,true);this._setItemChildSelect(_b.row,_b.band,_b.cell,true);}}};_pListView._on_basic_onselectedchange=function(_a,_b){var _c;var _d;var _e=this._getBindCount();for(var _f=0;_f<_e;_f++ ){_c=this._getItem(_f);if(_c){_d=this._getBindData(_f);this._setBindItemInfo(_c,_d,_f);}}};_pListView._on_fire_onselectedchange=function(_a,_b){if(this.onselectchanged&&this.onselectchanged._has_handlers){var _c,_d;var _e,_f,_g;var _h,_i,_j;var _k,_l;if(_a){_c=this._getCurrentBand(_a.row,_a.band);_d=this._getCurrentCell(_a.row,_a.band,_a.cell);_e=_a.row;_f=_c?_c._band:"";_g=_d?_d.id:"";}if(_b){_c=this._getCurrentBand(_b.row,_b.band);_d=this._getCurrentCell(_b.row,_b.band,_b.cell);_h=_b.row;_i=_c?_c._band:"";_j=_d?_d.id:"";_k=_b.row;_l=_b.row;}var _m=new nexacro.ListViewSelectEventInfo(this,"onselectchanged",_e,_f,_g,_h,_i,_j,_k,_l);return this.onselectchanged._fireUserEvent(this,_m);}return false;};_pListView._on_fire_onselectorresize=function(_a,_b){if(this.onselectorresize&&this.onselectorresize._has_handlers){this.onselectorresize._fireEvent(this,_b);}return true;};_pListView._onChangeSelect=function(_a,_b,_c,_d){this._on_basic_onselect(_c,_d);this._on_fire_onselect(_c,_d);this._on_default_onselect(_c,_d);this._on_basic_onselectedchange(_c,_d);this._on_fire_onselectedchange(_c,_d);};_pListView._onCheckSelectChange=function(_a,_b){if(typeof _b=="object"&&(typeof _a!=typeof _b)){return true;}for(var _c in _b){if(_a[_c]!=_b[_c]){return true;}}return false;};_pListView._onCheckSelectable=function(){return this.useselcolor;};_pListView._onGetSelectArgument=function(_a,_b,_c){var _d=this.getSelect();_a=nexacro._isNull(_a)?_d.row:_a;_b=nexacro._isNull(_b)?_d.band:_b;_c=nexacro._isNull(_c)?_d.cell:_c;return {row:_a,band:_b,cell:_c};};_pListView._setItemSelect=function(_a,_b,_c){if(_a==null){return;}var _d=this._getBindCount();if(_a>=_d){return;}if(_a.length){}if(_a==this._DEFAULT_ROWINDEX){}else{var _e=this._getItem(_a);if(!_e){var _f=this._getPanel();if(_f){var _g=_f._getPanelSlot(_a);var _h=_g?_g._getSlotCachedPos()[1]:0;var _i=_h-this._adjust_height;this.scrollTo(0,_i);}}this._setItemArraySelect(this._getItem(_a),_b);if(_c!=false){this._showItem(_a,_b);}}};_pListView._setItemChildSelect=function(_a,_b,_c,_d){var _e=this._getItemChildByIndex(_a,_b,_c);if(_e){_e.selected=_d;}var _f=this._getItemChildInPopup(_a,_b,_c);if(_f){_f.selected=_d;}};_pListView._getDataRow=function(_a){if(_a>=this.rowcount){return this._DEFAULT_ROWINDEX;}return _a;};_pListView._isFakeCell=function(_a){if(this.rowcount<=_a||_a< -2){return true;}return false;};_pListView._getAvailableRect=function(_a){var _b={left:0,top:0,right:0,bottom:0,width:0,height:0};_b.left=_a._getClientLeft();_b.top=_a._getClientTop();_b.right=_a._getClientLeft()+_a._getClientWidth();_b.bottom=_a._getClientTop()+_a._getClientHeight();_b.width=_a._getClientWidth();_b.height=_a._getClientHeight();return _b;};_pListView._clearBindTypeFlag=function(){this._is_use_bind_expr_prop.body=null;this._is_use_bind_expr_prop.head=null;this._is_use_bind_expr_prop.tail=null;};_pListView.on_apply_prop_enable=function(_a){this._enable=_a;var _b=this._getItems();if(!_b){return;}var _c=_b.length;if(_c){for(var _d=0;_d<_c;_d++ ){if(_b[_d]){_b[_d]._setEnable(_a);}}}if(this._is_scrollable){if(this.vscrollbar){this.vscrollbar._setEnable(_a);}if(this.hscrollbar){this.hscrollbar._setEnable(_a);}}};_pListView._enable=true;_pListView._isEnable=function(){this._enable=nexacro.ComplexComponent.prototype._isEnable.call(this);return this._enable;};_pListView._onGetDlgCode=function(_a,_b,_c,_d){return {want_tab:this._acceptstab,want_return:true,want_escape:true,want_chars:true,want_arrows:true};};_pListView._onGetDragData=function(){return this.getSelectedText();};_pListView._onGetTabstop=function(){if(nexacro._enableaccessibility){var _a=this.accessibility;if(_a&&_a.enable&&_a.role=="link"){return true;}}return false;};_pListView._onGetFocusAcceptable=function(){return nexacro._enableaccessibility;};_pListView._onHotkey=function(_a,_b,_c,_d){this.click();};_pListView._onGetAccessibilityLabel=function(){var _a=this.text?this.text:this.value;return _a;};_pListView._onGetAccessibilityAdditionalRole=function(){return " addrole";};_pListView._onResetSysStatus=function(){this._onResetSysEnable();if(this._use_readonly_status){this._onResetSysReadOnly();}};_pListView._onResetUserStatus=function(){if(this._use_select&&this._use_selected_status){this._onResetUserSelected();}};_pListView._onResetUserSelected=function(){var _a,_b;var _c;var _d=this._getItems();var _e=_d.length;var _f=this.getSelect();if(_f.row==this._DEFAULT_ROWINDEX){var _g=this._getBindCurrentPos();if(_g> -1){var _h,_i;var _j= -1;var _k= -1;_c=this._getItem(_g);if(nexacro._isArray(_c)){for(_a=0;_a<_c.length;_a++ ){_h=this._getCurrentBand(_g,_a);if(_h){_i=this._findEditableCell(_h,0,1);if(_i){_j=_h._itemsubidx;_k=_i._cellidx;break;}}}if(_j== -1){_j=0;}}else{_h=this._getCurrentBand(_g,0);if(_h){_j=_h._itemsubidx;_i=this._findEditableCell(_h,0,1);if(_i){_k=_i._cellidx;}}}this._onSetCurrentSelect({row:_g,band:_j,cell:_k});}return;}for(_a=0;_a<_e;_a++ ){_c=_d[_a];if(_c){if(_c._rowidx==_f.row){_c._changeUserStatus("selected",this._onCheckSelectable()?true:false);}else{_c._changeUserStatus("selected",false);}var _l=_c._getChildren();var _m=_l.length;for(_b=0;_b<_m;_b++ ){var _n=_l[_b];if(_n){if(_c._rowidx==_f.row&&_c._itemsubidx==_f.band&&_n._cellidx==_f.cell){_n.selected=true;}else{_n.selected=false;}}}}}};_pListView.on_update_position=function(_a,_b,_c){nexacro.Component.prototype.on_update_position.call(this,_a,_b,_c);if(this._is_created){if(_a||_b||_c){var _d=this._getViewStartScrollPos();this._updateItemVScrollInfo(_d,"trackinit",true);this._changeItemVScrollInfo(_d,"trackinit",true);var _e=this._getCurrentCell();if(_e&&_e._editor&&_e._editor._isPopupVisible()){_e._editor.on_update_position(_a,_b,_c);}}}};_pListView.onInitProperties=function(){this._DEFAULT_ROWINDEX= -9;this._DEFAULT_SUBINDEX= -1;this._DEFAULT_CELLINDEX= -1;this._acceptstab=true;this.bandexpandtype="expand";this.bandinitstatus="expand";this.bandindentsize=undefined;this.showhead=false;this.rowfirst=false;this.arrange="default";this.selector="none";this.autoenter="none";this.autoupdatetype="none";this.cellclickbound="control";this.nodatatext="";this.nodataimage="";this.selectchangetype="down";this.selectscrollmode="default";this.selecttype="datarow";this.useselcolor=true;this.usesoftkeyboard=true;this.cellcheckboxsize=undefined;this.cellcalendarbuttonsize=undefined;this.cellcombobuttonsize=undefined;this.locale="";this.showcover=false;this._is_popup_changed=false;this._subgroup=nexacro._PanelConst.GROUPING_SUBSTYLE_BAND_EXPAND;};_pListView.onApplyProperties=function(){this.on_apply_binddataset();this.on_apply_formats();this.on_apply_formatid();this.on_apply_nodatatext();this.on_apply_bandexpandtype();this.on_apply_bandinitstatus();this.on_apply_bandindentsize();};_pListView.onClearProperties=function(){this.on_clear_binddataset();this.on_clear_formats();this.on_clear_formatid();};_pListView.set_enableredraw=function(_a){if(_a!=null&&this.enableredraw!=_a){_a=nexacro._toBoolean(_a);this.enableredraw=_a;if(_a){this.on_apply_enableredraw();}}return _a;};_pListView.on_apply_enableredraw=function(){nexacro.ComplexComponent.prototype.on_apply_enableredraw.call(this);if(!this._is_created){return;}this._recreateItems();};_pListView.set_autoenter=function(_a){if(this.autoenter!=_a){switch(_a){case "select":case "key":case "none":this.autoenter=_a;break;}}};_pListView.set_autoupdatetype=function(_a){if(this.autoupdatetype!=_a){switch(_a){case "none":case "comboselect":case "dateselect":case "itemselect":this.autoupdatetype=_a;break;}}};_pListView.set_bandexpandtype=function(_a){if(this.bandexpandtype!=_a){switch(_a){case "expand":case "accordion":case "popup":case "none":this.bandexpandtype=_a;this._setSubgroup(_a,this.bandinitstatus);break;}this.on_apply_bandexpandtype();}};_pListView.on_apply_bandexpandtype=function(){if(this._is_created){this._recreateItems();}};_pListView.set_bandinitstatus=function(_a){if(this.bandinitstatus!=_a){switch(_a){case "expand":case "collapse":this.bandinitstatus=_a;this._setSubgroup(this.bandexpandtype,_a);break;}this.on_apply_bandinitstatus();}};_pListView.on_apply_bandinitstatus=function(){if(this._is_created){this._recreateItems();}};_pListView.set_bandindentsize=function(_a){if(_a!==undefined&&isNaN(_a= +_a)){return;}if(this.bandindentsize!=_a){this.bandindentsize=_a;this.on_apply_bandindentsize();}};_pListView.on_apply_bandindentsize=function(){if(this._is_created){this._recreateItems();}};_pListView.set_cellclickbound=function(_a){if(this.cellclickbound!=_a){switch(_a){case "control":case "cell":this.cellclickbound=_a;break;}}};_pListView.set_nodatatext=function(_a){if(this.nodatatext!=_a){this.nodatatext=_a;this.on_apply_nodatatext();}};_pListView.on_apply_nodatatext=function(){if(!this._is_created){return;}if(!this._formats||!this._formats._getCurrentItem()){var _a=this._getItemChildById(0,"nullband","nullctrl");var _b=this._getCtxtData( -4);if(_a&&_b){var _c;if(nexacro._isArray(_b)){for(var _d=0;_d<=_b.length;_d++ ){if(_b[_d]){_c=_b[_d]._items[0];if(_c){_c["text"]=this.nodatatext;if(_c._setts["text"]){_c._setts["text"].call(_a,this.nodatatext);}}}}}else{_c=_b._items[0];if(_c){_c["text"]=this.nodatatext;if(_c._setts["text"]){_c._setts["text"].call(_a,this.nodatatext);}}}}}else{this.setCellProperty("null","nullctrl","text",this.nodatatext);}};_pListView.set_nodataimage=function(_a){if(this.nodataimage!=_a){this.nodataimage=_a;this.on_apply_nodataimage();}};_pListView.on_apply_nodataimage=function(){if(!this._is_created){return;}if(!this._formats||!this._formats._getCurrentItem()){var _a=this._getItemChildById(0,"nullband","nullctrl");var _b=this._getCtxtData( -4);if(_a&&_b){var _c;if(nexacro._isArray(_b)){for(var _d in _b){if(!_b.hasOwnProperty(_d)){continue;}_c=_b[_d]._items[0];if(_c){_c["background"]="transparent "+this.nodataimage+" center center no-repeat";if(_c._setts["background"]){_c._setts["background"].call(_a,_c["background"]);}}}}else{_c=_b._items[0];if(_c){_c["background"]="transparent "+this.nodataimage+" center center no-repeat";if(_c._setts["background"]){_c._setts["background"].call(_a,_c["background"]);}}}}}else{this.setCellProperty("null","nullctrl","background","transparent "+this.nodataimage+" center center no-repeat");}};_pListView.set_selectchangetype=function(_a){if(this.selectchangetype!=_a){switch(_a){case "down":case "up":this.selectchangetype=_a;break;}}};_pListView.set_selectscrollmode=function(_a){switch(_a){case "select":case "scroll":this._selectscrollmode=this.selectscrollmode=_a;break;case "default":this.selectscrollmode=_a;this._selectscrollmode=(nexacro._isTouchInteraction)?"scroll":"select";break;}};_pListView.set_selecttype=function(_a){var _b=["datarow"];if(_b.indexOf(_a)== -1){return;}if(this.selecttype!=_a){this.selecttype=_a;}};_pListView.set_useselcolor=function(_a){_a=nexacro._toBoolean(_a);if(this.useselcolor!=_a){this.useselcolor=_a;this.on_apply_useselcolor();}};_pListView.on_apply_useselcolor=function(){if(!this._is_created){return;}this._onResetUserSelected();};_pListView.set_usesoftkeyboard=function(_a){_a=nexacro._toBoolean(_a);if(this.usesoftkeyboard!=_a){this.usesoftkeyboard=_a;}};_pListView.set_cellcheckboxsize=function(_a){if(_a!=this.cellcheckboxsize){this.cellcheckboxsize=_a;this.on_apply_cellcheckboxsize();}};_pListView.on_apply_cellcheckboxsize=function(){if(!this._is_created){return;}this._recreateItems();};_pListView.set_cellcalendarbuttonsize=function(_a){if(_a!=this.cellcalendarbuttonsize){this.cellcalendarbuttonsize=_a;this.on_apply_cellcalendarbuttonsize();}};_pListView.on_apply_cellcalendarbuttonsize=function(){if(!this._is_created){return;}this._recreateItems();};_pListView.set_cellcombobuttonsize=function(_a){if(_a!=this.cellcombobuttonsize){this.cellcombobuttonsize=_a;this.on_apply_cellcombobuttonsize();}};_pListView.on_apply_cellcombobuttonsize=function(){if(!this._is_created){return;}this._recreateItems();};_pListView.set_locale=function(_a){if(_a!=this.locale){this.locale=_a;this._locale=_a;this.on_apply_locale(_a);}};_pListView.on_apply_locale=function(_a){if(!this._is_created){return;}this._recreateItems();};_pListView.set_cellcalendarpopuptype=function(_a){if(_a!=this.cellcalendarpopuptype){this.cellcalendarpopuptype=_a;this.on_apply_cellcalendarpopuptype();}};_pListView.on_apply_cellcalendarpopuptype=function(){this._recreateItems();};_pListView.set_cellcombopopuptype=function(_a){if(_a!=this.cellcombopopuptype){this.cellcombopopuptype=_a;this.on_apply_cellcombopopuptype();}};_pListView.on_apply_cellcombopopuptype=function(){this._recreateItems();};_pListView.set_cellcalendarpopupsize=function(_a){if(_a!=this.cellcalendarpopupsize){this.cellcalendarpopupsize=_a;this.on_apply_cellcalendarpopupsize();}};_pListView.on_apply_cellcalendarpopupsize=function(){this._recreateItems();};_pListView.set_cellcombopopupsize=function(_a){if(_a!=this.cellcombopopupsize){this.cellcombopopupsize=_a;this.on_apply_cellcombopopupsize();}};_pListView.on_apply_cellcombopopupsize=function(){this._recreateItems();};_pListView.set_showhead=function(_a){_a=nexacro._toBoolean(_a);if(this.showhead!=_a){this.showhead=_a;this.on_apply_showhead();}};_pListView.on_apply_showhead=function(){if(!this._is_created){return;}this._recreateItems();};_pListView.set_rowfirst=function(_a){_a=nexacro._toBoolean(_a);if(this.rowfirst!=_a){this.rowfirst=_a;if(_a){this._rowfirst=nexacro._PanelConst.SLOT_ARRANGETYPE_ROWFIRST;}else{this._rowfirst=nexacro._PanelConst.SLOT_ARRANGETYPE_COLFIRST;}this.on_apply_rowfirst();}};_pListView.on_apply_rowfirst=function(){if(!this._is_created){return;}this._recreateItems();};_pListView.set_arrange=function(_a){if(_a&&_a!=this.arrange){this.arrange=_a;var _b=this.arrange?this.arrange.split(","):[];for(var _c=0,_d=_b.length;_c<_d;_c++ ){switch(_b[_c]){case "horzlead":this._arrange|=nexacro._PanelConst.SLOT_ARRANGETYPE_HORZLEAD;break;case "horztail":this._arrange|=nexacro._PanelConst.SLOT_ARRANGETYPE_HORZTAIL;break;case "horzmiddle":this._arrange|=nexacro._PanelConst.SLOT_ARRANGETYPE_HORZAMID;break;case "horzinvert":this._arrange|=nexacro._PanelConst.SLOT_ARRANGETYPE_HORZINVT;break;case "horzaround":this._arrange|=nexacro._PanelConst.SLOT_ARRANGETYPE_HORZARND;break;case "horzgapped":this._arrange|=nexacro._PanelConst.SLOT_ARRANGETYPE_HORZGAPD;break;case "vertlead":this._arrange|=nexacro._PanelConst.SLOT_ARRANGETYPE_VERTLEAD;break;case "verttail":this._arrange|=nexacro._PanelConst.SLOT_ARRANGETYPE_VERTTAIL;break;case "vertmiddle":this._arrange|=nexacro._PanelConst.SLOT_ARRANGETYPE_VERTAMID;break;case "vertinvert":this._arrange|=nexacro._PanelConst.SLOT_ARRANGETYPE_VERTINVT;break;case "vertaround":this._arrange|=nexacro._PanelConst.SLOT_ARRANGETYPE_VERTARND;break;case "vertgapped":this._arrange|=nexacro._PanelConst.SLOT_ARRANGETYPE_VERTGAPD;break;}}this.on_apply_arrange();}};_pListView.on_apply_arrange=function(){if(!this._is_created){return;}this._recreateItems();};_pListView.set_selector=function(_a){if(_a&&_a!=this.selector){this.selector=_a;var _b=this.selector?this.selector.split(","):[];for(var _c=0,_d=_b.length;_c<_d;_c++ ){switch(_b[_c]){case "line":this._selector|=nexacro._PanelSelectConst.TYPE_LINE;break;case "area":this._selector|=nexacro._PanelSelectConst.TYPE_AREA;break;case "resizer":this._selector|=nexacro._PanelSelectConst.ACT_RESIZER;break;case "pointer":this._selector|=nexacro._PanelSelectConst.ACT_POINTER;break;case "carrier":this._selector|=nexacro._PanelSelectConst.ACT_CARRIER;break;case "horz":this._selector|=nexacro._PanelSelectConst.DIR_HORZ;break;case "vert":this._selector|=nexacro._PanelSelectConst.DIR_VERT;break;case "inner":this._selector|=nexacro._PanelSelectConst.ALIGN_INNER;break;case "outer":this._selector|=nexacro._PanelSelectConst.ALIGN_OUTER;break;case "middle":this._selector|=nexacro._PanelSelectConst.ALIGN_MIDDL;break;case "parts":this._use_selector=true;this._use_partsselector=true;break;case "multi":this._use_selector=true;this._use_multiselector=true;break;case "none":this._use_selector=false;break;}}this.on_apply_selector();}};_pListView.on_apply_selector=function(){if(!this._is_created){return;}var _a=this._getPanel();if(_a){_a._setSlotSelectorType(this._selector);}this._recreateSelector();};_pListView.getBindDataset=function(){return this._getBindDataSet();};_pListView.setBindDataset=function(_a){return this.set_binddataset(_a);};_pListView.createFormat=function(){return this.set_formats(this.makeFormatString());};_pListView.getCurFormatString=function(_a){if(this._formats){if(_a){return this._formats._getFormatsStringFromXml(this.formats,this.formatid);}else{return this._formats._getFormatsStringFromContext(this.formatid);}}return "";};_pListView.getFormatString=function(){return this.formats;};_pListView.setFormat=function(_a){this.set_formatid(_a);return this._formats?!this._formats._isInvalid():false;};_pListView.makeFormatString=function(){var _a=function(_x,_y,_t,_z,_j,_k,_aa,_ab,_ac,_ad){var _ae="<"+_x+" id=\""+_y+"\"";if(_j!=null){_ae+=" left=\""+_j+"\"";}if(_ac!=null){_ae+=" right=\""+_ac+"\"";}if(_k!=null){_ae+=" top=\""+_k+"\"";}if(_ad!=null){_ae+=" bottom=\""+_ad+"\"";}if(_aa!=null){_ae+=" width=\""+_aa+"\"";}if(_ab!=null){_ae+=" height=\""+_ab+"\"";}if(_z){_ae+=" text=\"bind:"+_t.id+"\"";}else{_ae+=" text=\""+_t.id+"\"";}_ae+="/>";return _ae;};var _b="";var _c=this._formats;var _d=this._databind;if(_c&&_d){_b+="<Formats>";_b+="<Format id=\""+_c._default_id+"\">";var _e="";var _f="";var _g=_d._getBindDataSetColInfos();if(_g){var _h="Band";var _i="Cell";var _j=0;var _k=5;var _l=24;var _m=10;var _n=5;var _o=5;var _p=120;var _q=_p* 1.5;var _r=_m+_p+_n+_q;var _s=this._adjust_width;var _t,_u,_v;var _w=0;for(var _x=0;_x<_g.length;_x++ ){_t=_g[_x];_v=_w<10?_i+"0"+_w:_i+_w;_w++ ;_u=_w<10?_i+"0"+_w:_i+_w;_w++ ;if(_x>0){if(_j+_r>=_s){_j=_m;_k+=_l+_o;}else{_j+=_m;}}else{_j+=_m;}_f+=_a(_i,_v,_t,false,_j,_k,_p,_l,null,null);_j+=_p+_n;_f+=_a(_i,_u,_t,true,_j,_k,_q,_l,null,null);_j+=_q;}_e="<"+_h+" id=\"body\" width=\"100%\" height=\""+(_k+_l+_o)+"\">";_b+=_e;_b+=_f;_b+="</"+_h+">";}_b+="</Format>";_b+="</Formats>";}return _b;};_pListView.getFormatIdList=function(){if(!this._formats||!this._formats._format_items){return [];}var _a=[];for(var _b in this._formats._format_items){_a.push(_b);}return _a;};_pListView.getHeadValue=nexacro._emptyFn;_pListView.getBandProperty=function(_a,_b){return this._formats?this._formats._getBandProperty(_a,_b):undefined;};_pListView.setBandProperty=function(_a,_b,_c){if(!this._formats||!this._formats._setBandProperty(_a,_b,_c)){return false;}this._resetBindInfo();this._recreateItems();return true;};_pListView.getCellCount=function(_a){return this._formats?this._formats._getBandChildCount(_a):0;};_pListView.getCellProperty=function(_a,_b,_c){if(!this._formats){return;}return this._getCellinfo(_a,_b,_c);};_pListView.setCellProperty=function(_a,_b,_c,_d){if(_c=="id"){return false;}if(!this._formats||!this._formats._setBandChildProperty(_a,_b,_c,_d)){return false;}this._resetBindInfo();if(!this._changeCellInfo(_a,_b,_c,_d)){return false;}this._recreateItems();return true;};_pListView.getCellRect=function(_a,_b,_c){_a=parseInt(_a);var _d={left:0,top:0,right:0,bottom:0,width:0,height:0};var _e=this._getItemChildById(_a,_b,_c);if(_e){var _f=_e._bandidx;var _g=this._onGetItemRect(_a,_f,null,true);_d.left=_e.getOffsetLeft()+_g.left;_d.top=_e.getOffsetTop()+_g.top;_d.right=_e.getOffsetRight()+_g.left;_d.bottom=_e.getOffsetBottom()+_g.top;_d.width=_d.right-_d.left;_d.height=_d.bottom-_d.top;}return _d;};_pListView.getCellText=function(_a,_b,_c){var _d=this._getItemChildById(_a,_b,_c);if(_d){if(_d._getCellText){return _d._getCellText();}else{return _d.text;}}};_pListView.getCellValue=function(_a,_b,_c){var _d=this._getItemChildById(_a,_b,_c);if(_d){if(_d._getCellValue){return _d._getCellValue();}else{return _d.value;}}};_pListView.getCurEditType=function(){var _a=this.getSelect();var _b=this._getItemChildByIndex(_a.row,_a.band,_a.cell);if(_b){if(_b._getCellEditType){return _b._getCellEditType();}}};_pListView.showEditor=function(_a){if(this.readonly){return false;}var _b=this.getSelect();var _c=this._getItemChildByIndex(_b.row,_b.band,_b.cell);if(_c){if(_c._hasEditor()){if(_a===undefined){_a=true;}else{_a=nexacro._toBoolean(_a);}if(_c._isShowEditor()==_a){return false;}if(_a){if(_c._showEditor){_c._showEditor();}}else{if(_c._hideEditor){_c._hideEditor();}}return true;}else{var _d=_c._refinfo._getEdittype(_b.row);if(_d=="checkbox"){return true;}}}return false;};_pListView.moveToNextCell=function(){var _a=this.getSelect();this._selectItemKeyInfo(nexacro.Event.KEY_TAB,false,false,false);var _b=this.getSelect();if(_a.row!=_b.row||_a.band!=_b.band||_a.cell!=_b.cell){return true;}return false;};_pListView.moveToPrevCell=function(){var _a=this.getSelect();this._selectItemKeyInfo(nexacro.Event.KEY_TAB,false,false,true);var _b=this.getSelect();if(_a.row!=_b.row||_a.band!=_b.band||_a.cell!=_b.cell){return true;}return false;};_pListView.setCellPos=function(_a,_b){var _c=this.getSelect();var _d=this._getItemChildById(_c.row,_a,_b);if(_d&&_d._isEnable()&&_d.setFocus()){return true;}return false;};_pListView.hideDetailBand=function(_a){var _b=this._getPanel();var _c=_b?_b._getPanelSlot(_a):null;if(_c){var _d=_c._getSlotStatusBand();this._setPanelBandCollapse(_a);if(_d!=(_d=_c._getSlotStatusBand())){this._on_fire_onbandstatuschanged(_a,_d,this,this);}var _e=this._getItem(_a);if(_e){if(nexacro._isArray(_e)){for(var _f=0;_f<_e.length;_f++ ){_e[_f]._resetStatus();}}else{_e._resetStatus();}}}};_pListView.showDetailBand=function(_a){var _b=this._getPanel();var _c=_b?_b._getPanelSlot(_a):null;if(_c){var _d=_c._getSlotStatusBand();if(this.bandexpandtype=="popup"){this._setPanelBandPopup(_a);}if(this.bandexpandtype=="expand"||this.bandexpandtype=="accordion"){this._setPanelBandExpand(_a);}if(_d!=(_d=_c._getSlotStatusBand())){this._on_fire_onbandstatuschanged(_a,_d,this,this);}var _e=this._getItem(_a);if(_e){if(nexacro._isArray(_e)){for(var _f=0;_f<_e.length;_f++ ){_e[_f]._resetStatus();}}else{_e._resetStatus();}}}};_pListView.getBandExpandStatus=function(_a){var _b=this._getPanel();var _c=_b?_b._getPanelSlot(_a):null;if(_c){var _d=_c._getSlotStatusBand();if(_d==nexacro._PanelSlotConst.STATUS_NONE||_d==nexacro._PanelSlotConst.STATUS_EXPAND||_d==nexacro._PanelSlotConst.STATUS_POPUP){return true;}}return false;};_pListView.dropdownCalendar=function(){var _a=this._getCurrentCell();if(_a==null){return false;}var _b=_a._editor;if(_b&&_b.visible==true&&_b._type_name=="CalendarControl"){_b.dropdown();return true;}return false;};_pListView.dropdownCombo=function(){var _a=this._getCurrentCell();if(_a==null){return false;}var _b=_a._editor;if(_b&&_b.visible==true&&_b._type_name=="ComboControl"){_b.dropdown();return true;}return false;};_pListView.isDropdownCalendar=function(){var _a=this._getCurrentCell();if(_a==null){return false;}var _b=_a._editor;if(_b&&_b.visible==true&&_b._type_name=="CalendarControl"){return _b.isDropdown();}return false;};_pListView.isDropdownCombo=function(){var _a=this._getCurrentCell();if(_a==null){return false;}var _b=_a._editor;if(_b&&_b.visible==true&&_b._type_name=="ComboControl"){return _b.isDropdown();}return false;};_pListView.setEditSelect=function(_a,_b){var _c=this._getCurrentCell();if(_c==null){return false;}var _d=_c._editor;if(!_d){return false;}if(_a== -1){_d.setSelect(0,0);return true;}else{if(_d.setSelect){return _d.setSelect(_a,_b);}}return false;};_pListView.getEditCaret=function(){var _a=this._getCurrentCell();if(_a==null){return  -1;}if(_a._editor){var _b=_a._editor;if(_b&&_b.getCaretPos){return _b.getCaretPos();}}return  -1;};_pListView.getEditSelect=function(){var _a=this._getCurrentCell();if(_a==null){return;}var _b=_a._editor;if(_b&&_b.getSelect){return _b.getSelect();}return;};_pListView.getEditSelectedText=function(){var _a=this._getCurrentCell();if(_a==null){return "";}var _b=_a._editor;if(_b&&_b.getSelectedText){return _b.getSelectedText();}return "";};_pListView.getEditText=function(){var _a=this._getCurrentCell();if(_a==null){return;}if(_a._editor){var _b=_a._editor;if(_b){return _b.text;}}return;};_pListView.getEditingText=function(){var _a=this._getCurrentCell();if(_a==null){return;}if(_a._editor){var _b=_a._editor;if(_b){return _b._getEditingText();}}};_pListView.getEditValue=function(){var _a=this._getCurrentCell();if(_a==null){return;}if(_a._editor){var _b=_a._editor;if(_b){return _b.value;}}};_pListView.getEditingValue=function(){var _a=this._getCurrentCell();if(_a==null){return;}if(_a._editor){var _b=_a._editor;if(_b){return _b._getEditingValue();}}};_pListView.setEditValue=function(_a){var _b=this._getCurrentCell();if(_b==null){return;}if(_b._editor){var _c=_b._editor;if(_c){return _c.set_value(_a);}}};_pListView.setEditingValue=function(_a){var _b=this._getCurrentCell();if(_b==null){return;}if(_b._editor){var _c=_b._editor;if(_c){return _c._setEditingValue(_a);}}};_pListView.getDatasetRow=function(_a){if(_a>=0){if(this.rowcount>_a){return _a;}}return  -1;};_pListView.getSelectedRows=function(){var _a=this.getSelect();var _b=_a.row;var _c=[];if(_b> -1){_c.push(_b);}return _c;};_pListView.getBindCellId=function(_a,_b){var _c=this._formats;var _d=_c?_c._getItem():null;if(!_d||!_b){return "";}_a=_a.toLowerCase();var _e=_d._getBinds();if(_e){var _f,_g;var _h=_e.length;for(_f=0;_f<_h;_f++ ){_g=_e[_f];if(_g.baseid==_a&&_g.bindid==_b){return _g.target[0];}}}return "";};_pListView.clearSelect=function(){var _a=this._onGetSelectArgument(this._DEFAULT_ROWINDEX,this._DEFAULT_SUBINDEX,this._DEFAULT_CELLINDEX);this._onSetCurrentSelect(_a);};_pListView.selectRow=function(_a,_b){_a=parseInt(_a);if(isNaN(_a)||_a<0||_a>this.rowcount){return false;}var _c=this.getSelect();_b=(_b===undefined)?true:_b;if(_b){if(_c.row==_a){return false;}this.setSelect(_a,_c.band,_c.cell);_c=this.getSelect();if(_c.row==_a){return true;}}else{if(_c.row!=_a){return false;}this.clearSelect();_c=this.getSelect();if(_c.row!=_a){return true;}}return false;};_pListView._initEvents=function(){nexacro.ComplexComponent.prototype._initEvents.call(this);this._event_list["onheadclick"]=1;this._event_list["onbandclick"]=1;this._event_list["onnodataareaclick"]=1;this._event_list["onheaddblclick"]=1;this._event_list["onbanddblclick"]=1;this._event_list["onnodataareadblclick"]=1;this._event_list["oncellclick"]=1;this._event_list["oncelldblclick"]=1;this._event_list["oncellexpandclick"]=1;this._event_list["onbandexpandclick"]=1;this._event_list["oncellexpand"]=1;this._event_list["onbandexpand"]=1;this._event_list["onselectchanged"]=1;this._event_list["onbandstatuschanged"]=1;this._event_list["onselectorresize"]=1;this._event_list["ondropdown"]=1;this._event_list["oncloseup"]=1;this._event_list["onenterdown"]=1;this._event_list["oncellimeaction"]=1;};_pListView.on_notify_band_onclick=function(_a,_b){var _c=this._getActionItem(_b);var _d=this._getItemIndex(_c);var _e=this._getItemSubIndex(_c);var _f=this._getItemId(_c);var _g=this._getActionItemCell(_b);var _h=_c?_c._getChildId(_g):"";var _i=_c?_c._findChildIndex(_g):this._DEFAULT_CELLINDEX;var _j=false;if(!(_g instanceof nexacro._ListViewCellControl)){_a=_g;while(_a&&!(_a instanceof nexacro._ListViewBandControl)){if(_a.parent instanceof nexacro._ListViewCellControl){if(_a._displaymode==false&&!_a._clickevt_able){_j=true;}_g=_a.parent;_h=_c?_c._getChildId(_g):"";_i=_c?_c._findChildIndex(_g):this._DEFAULT_CELLINDEX;break;}_a=_a.parent;}}this._actionSelectItem(_d,_e,_i,"bandclick");if(!_j){this.on_fire_onclick(_b.button,_b.altkey,_b.ctrlkey,_b.shiftkey,_b.screenx,_b.screeny,_b.canvasx,_b.canvasy,_b.clientx,_b.clienty,_b.fromobject,_b.fromreferenceobject,_b.metakey,_d,_f,_h,_g,_b.clickitem||"");}};_pListView.on_notify_band_ondblclick=function(_a,_b){var _c=this._getActionItem(_b);var _d=this._getItemIndex(_c);var _e=this._getItemId(_c);var _f=this._getActionItemCell(_b);var _g=_c?_c._getChildId(_f):"";var _h=false;if(!(_f instanceof nexacro._ListViewCellControl)){_a=_f;while(_a&&!(_a instanceof nexacro._ListViewBandControl)){if(_a.parent instanceof nexacro._ListViewCellControl){if(_a._displaymode==false&&!_a._clickevt_able){_h=true;}_f=_a.parent;_g=_c?_c._getChildId(_f):"";break;}_a=_a.parent;}}if(_h==false){this.on_fire_ondblclick(_b.button,_b.altkey,_b.ctrlkey,_b.shiftkey,_b.screenx,_b.screeny,_b.canvasx,_b.canvasy,_b.clientx,_b.clienty,_b.fromobject,_b.fromobject,_b.metakey,_d,_e,_g,_f,_b.clickitem||"");}};_pListView.on_notify_band_onsetfocus=function(_a,_b){var _c=this._getActionItem(_b);var _d=this._getItemIndex(_c);var _e=this._getItemSubIndex(_c);var _f=this._getActionItemCell(_b);var _g=_c?_c._findChildIndex(_f):this._DEFAULT_CELLINDEX;this._actionSelectItem(_d,_e,_g,_g>=0?"cellfocus":"bandfocus");};_pListView.on_notify_band_oninput=function(_a,_b){this.on_fire_oninput();};_pListView.on_notify_band_onexpand=function(_a,_b){this._on_basic_onexpand(_a,_b);this._on_fire_onexpand(_a,_b);this._on_default_onexpand(_a,_b);};_pListView.on_notify_band_onexpandclick=function(_a,_b){var _c=this._getActionItem(_b);var _d=this._getItemIndex(_c);var _e=this._getItemId(_c);var _f=this._getActionItemCell(_b);var _g=_c?_c._getChildId(_f):"";this.on_fire_onclick(_b.button,_b.altkey,_b.ctrlkey,_b.shiftkey,_b.screenx,_b.screeny,_b.canvasx,_b.canvasy,_b.clientx,_b.clienty,_b.fromobject,_b.fromobject,_b.metakey,_d,_e,_g,_f,"");};_pListView._on_listview_onlbuttondown=function(_a,_b){if(this.onlbuttonup){this.onlbuttonup.defaultprevented=false;}var _c=this._getPopupControl();if(_c&&_c._isPopup()&&_b.bandid!="detail"){if(!_c._attached_comp){return false;}var _d=_c._attached_comp._itemindex;this._setPanelBandToggle(_d);this._is_popup_changed=true;}};_pListView._on_listview_onlbuttonup=function(_a,_b){var _c=this._getPopupControl();if(_c&&this._is_popup_changed){_b.preventDefault();this._is_popup_changed=false;}};_pListView._on_basic_onclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){};_pListView._on_basic_onexpand=function(_a,_b){};_pListView.on_focus_basic_action=function(_a,_b){this._apply_setfocus(_b,_a);if(_a){switch(_b){case "tabkey":var _c=this._getFirstEditableCell();if(_c.row>=0){this._actionSelectItem(_c.row,_c.band,_c.cell,"tabfocus");}this._acceptstab=this._remainEditableCell(1);break;case "shifttabkey":var _d=this._getLastEditableCell();if(_d.row>=0){this._actionSelectItem(_d.row,_d.band,_d.cell,"tabfocus");}this._acceptstab=this._remainEditableCell( -1);break;}}};_pListView.on_lbuttondown_basic_action=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k){nexacro.ComplexComponent.prototype.on_lbuttondown_basic_action.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k);var _l=nexacro._ListViewCellControl.prototype._getActionCell(_j);if(_l){_l._autoenter_selected=_l.selected;}};_pListView.on_lbuttonup_basic_action=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k){nexacro.ComplexComponent.prototype.on_lbuttonup_basic_action.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k);var _l=nexacro._ListViewCellControl.prototype._getActionCell(_j);if(_l){_l._actionEditCell(_l,"lbuttonup");}};_pListView.on_touchstart_basic_action=function(_a,_b,_c,_d){nexacro.ComplexComponent.prototype.on_touchstart_basic_action.call(this,_a,_b,_c,_d);var _e=nexacro._ListViewCellControl.prototype._getActionCell(_d);if(_e){_e._autoenter_selected=_e.selected;}};_pListView._on_default_onclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){};_pListView._on_default_onexpand=function(_a,_b){var _c=this._getActionItem(_b);var _d=this._getItemIndex(_c);var _e=this._getPanel();var _f=_e?_e._getPanelSlot(_d):null;if(_f){var _g=_f._getSlotStatusBand();this._setPanelBandToggle(_d);if(_g!=(_g=_f._getSlotStatusBand())){this._on_fire_onbandstatuschanged(_d,_g,this,_b.fromreferenceobject);}_c._resetStatus();}};_pListView.on_fire_onclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r){var _s;var _t=this._getRecalcCanvasXY(_l._control_element,_g,_h);_g=_t[0];_h=_t[1];var _u=this._getClientXY(_g,_h);_i=_u[0];_j=_u[1];if(_r=="expandbutton"){if(this.oncellexpandclick&&this.oncellexpandclick._has_handlers){_s=new nexacro.ListViewClickEventInfo(this,"oncellexpandclick",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_o||"none",_p||"",_n,_r,_m);return this.oncellexpandclick._fireEvent(this,_s);}}if(_q instanceof nexacro._ListViewCellControl){if(!this.readonly){if(this.cellclickbound=="control"){if(_l instanceof nexacro._CellCheckboxControl){_l._toggleCheck();}}else if(this.cellclickbound=="cell"){_q._needToggle();}}if(this.oncellclick&&this.oncellclick._has_handlers){_s=new nexacro.ListViewClickEventInfo(this,"oncellclick",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_o||"none",_p||"",_n,_r,_m);return this.oncellclick._fireEvent(this,_s);}return true;}if(_q instanceof nexacro.Button&&_p=="expandbar"){if(this.onbandexpandclick&&this.onbandexpandclick._has_handlers){_s=new nexacro.ListViewClickEventInfo(this,"onbandexpandclick",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_o||"none",_p,_n,_r,_m);return this.onbandexpandclick._fireEvent(this,_s);}return true;}if(_n>=0){if(this.onbandclick&&this.onbandclick._has_handlers){_s=new nexacro.ListViewClickEventInfo(this,"onbandclick",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_o||"none","",_n,_r,_m);return this.onbandclick._fireEvent(this,_s);}}else if(_n== -1){if(this.onheadclick&&this.onheadclick._has_handlers){_s=new nexacro.ListViewClickEventInfo(this,"onheadclick",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_o||"none","", -1,_r,_m);return this.onheadclick._fireEvent(this,_s);}}else if(_n==null||_n== -4){var _v=this._getClientWidth();var _w=this._getClientHeight();if(_i<0||_j<0||_i>_v||_j>_w){if(this.onclick&&this.onclick._has_handlers){_s=new nexacro.ListViewClickEventInfo(this,"onclick",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,"none","",this._DEFAULT_ROWINDEX,_r,_m);return this.onclick._fireEvent(this,_s);}}else{if(this.onnodataareaclick&&this.onnodataareaclick._has_handlers){_s=new nexacro.ListViewClickEventInfo(this,"onnodataareaclick",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,"none","",this._DEFAULT_ROWINDEX,_r,_m);return this.onnodataareaclick._fireEvent(this,_s);}}}return true;};_pListView.on_fire_ondblclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r){var _s;var _t=this._getRecalcCanvasXY(_l._control_element,_g,_h);_g=_t[0];_h=_t[1];var _u=this._getClientXY(_g,_h);_i=_u[0];_j=_u[1];if(_q instanceof nexacro._ListViewCellControl){if(this.oncelldblclick&&this.oncelldblclick._has_handlers){_s=new nexacro.ListViewClickEventInfo(this,"oncelldblclick",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_o||"none",_p||"",_n,_r,_m);return this.oncelldblclick._fireEvent(this,_s);}}if(_n>=0){if(this.onbanddblclick&&this.onbanddblclick._has_handlers){_s=new nexacro.ListViewClickEventInfo(this,"onbanddblclick",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_o||"none","",_n,_r,_m);return this.onbanddblclick._fireEvent(this,_s);}}if(_n== -1){if(this.onheaddblclick&&this.onheaddblclick._has_handlers){_s=new nexacro.ListViewClickEventInfo(this,"onheaddblclick",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,"none","",this._DEFAULT_ROWINDEX,_r,_m);return this.onheaddblclick._fireEvent(this,_s);}}if(_n==null){if(this.onnodataareadblclick&&this.onnodataareadblclick._has_handlers){_s=new nexacro.ListViewClickEventInfo(this,"onnodataareadblclick",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_o||"none",_p||"", -1,_r,_m);return this.onnodataareadblclick._fireEvent(this,_s);}}return true;};_pListView.on_fire_user_onkeydown=function(_a,_b,_c,_d,_e,_f,_g){var _h=nexacro.SimpleComponent.prototype.on_fire_user_onkeydown.call(this,_a,_b,_c,_d,_e,_f,_g);if(_a==nexacro.Event.KEY_TAB){if(!_d){this._acceptstab=this._remainEditableCell(1);}else{this._acceptstab=this._remainEditableCell( -1);}}return _h;};_pListView.on_tap_basic_action_before=function(_a,_b,_c,_d,_e,_f){var _g=nexacro._ListViewCellControl.prototype._getActionCell(_f);if(_g){var _h=_g._getAutoEnter();if(_h!="select"){if(_g._autoenter_selected==true){_g._actionEditCell(_g,"lbuttondown");}}else{_g._actionEditCell(_g,"lbuttondown");}}};_pListView.on_fire_sys_onlbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){var _n=nexacro._ListViewCellControl.prototype._getActionCell(_l);if(_n){var _o=_n._getAutoEnter();if(_o!="select"){if(_n._autoenter_selected==true){_n._actionEditCell(_n,"lbuttondown");}}else{_n._actionEditCell(_n,"lbuttondown");}}if(this.onlbuttondown&&this.onlbuttondown._has_handlers){var _p=this._makeEventInfo(_l);var _q=new nexacro.ListViewMouseEventInfo(this,"onlbuttondown",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_p.bandid,_p.cellid,_p.rowidx,_m);return this.onlbuttondown._fireSysEvent(this,_q);}return false;};_pListView.on_fire_user_onlbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.onlbuttondown&&this.onlbuttondown._has_handlers){var _n=this._makeEventInfo(_l);var _o=new nexacro.ListViewMouseEventInfo(this,"onlbuttondown",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_n.bandid,_n.cellid,_n.rowidx,_m);return this.onlbuttondown._fireUserEvent(this,_o);}return false;};_pListView.on_fire_sys_onlbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(this.onlbuttonup&&this.onlbuttonup._has_handlers){var _o=this._makeEventInfo(_l);var _p=new nexacro.ListViewMouseEventInfo(this,"onlbuttonup",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_o.bandid,_o.cellid,_o.rowidx,_n);return this.onlbuttonup._fireSysEvent(this,_p);}return false;};_pListView.on_fire_user_onlbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(this.onlbuttonup&&this.onlbuttonup._has_handlers){var _o=this._makeEventInfo(_l);var _p=new nexacro.ListViewMouseEventInfo(this,"onlbuttonup",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_o.bandid,_o.cellid,_o.rowidx,_n);return this.onlbuttonup._fireUserEvent(this,_p);}return false;};_pListView.on_fire_sys_onrbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.onrbuttondown&&this.onrbuttondown._has_handlers){var _n=this._makeEventInfo(_l);var _o=new nexacro.ListViewMouseEventInfo(this,"onrbuttondown",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_n.bandid,_n.cellid,_n.rowidx,_m);return this.onrbuttondown._fireSysEvent(this,_o);}return false;};_pListView.on_fire_user_onrbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.onrbuttondown&&this.onrbuttondown._has_handlers){var _n=this._makeEventInfo(_l);var _o=new nexacro.ListViewMouseEventInfo(this,"onrbuttondown",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_n.bandid,_n.cellid,_n.rowidx,_m);return this.onrbuttondown._fireUserEvent(this,_o);}return false;};_pListView.on_fire_sys_onrbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(this.onrbuttonup&&this.onrbuttonup._has_handlers){var _o=this._makeEventInfo(_l);var _p=new nexacro.ListViewMouseEventInfo(this,"onrbuttonup",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_o.bandid,_o.cellid,_o.rowidx,_n);return this.onrbuttonup._fireSysEvent(this,_p);}return false;};_pListView.on_fire_user_onrbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(this.onrbuttonup&&this.onrbuttonup._has_handlers){var _o=this._makeEventInfo(_l);var _p=new nexacro.ListViewMouseEventInfo(this,"onrbuttonup",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_o.bandid,_o.cellid,_o.rowidx,_n);return this.onrbuttonup._fireUserEvent(this,_p);}return false;};_pListView.on_fire_oncontextmenu=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.oncontextmenu&&this.oncontextmenu._has_handlers){var _n=this._makeEventInfo(_b);var _o=new nexacro.ListViewContextMenuEventInfo(this,"oncontextmenu",_c,_h,_i,_j,_k,_l,_d,_e,_f,_g,_a,_b,_n.bandid,_n.cellid,_n.rowidx,_m);return this.oncontextmenu._fireEvent(this,_o);}return false;};_pListView.on_fire_sys_onmouseenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.onmouseenter&&this.onmouseenter._has_handlers){var _n=this._makeEventInfo(_l);var _o=new nexacro.ListViewMouseEventInfo(this,"onmouseenter",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_n.bandid,_n.cellid,_n.rowidx,_m);return this.onmouseenter._fireSysEvent(this,_o);}return false;};_pListView.on_fire_user_onmouseenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.onmouseenter&&this.onmouseenter._has_handlers){var _n=this._makeEventInfo(_l);var _o=new nexacro.ListViewMouseEventInfo(this,"onmouseenter",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_n.bandid,_n.cellid,_n.rowidx,_m);return this.onmouseenter._fireUserEvent(this,_o);}return false;};_pListView.on_fire_sys_onmouseleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.onmouseleave&&this.onmouseleave._has_handlers){var _n=this._makeEventInfo(_l);var _o=new nexacro.ListViewMouseEventInfo(this,"onmouseleave",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_n.bandid,_n.cellid,_n.rowidx,_m);return this.onmouseleave._fireSysEvent(this,_o);}return false;};_pListView.on_fire_user_onmouseleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.onmouseleave&&this.onmouseleave._has_handlers){var _n=this._makeEventInfo(_l);var _o=new nexacro.ListViewMouseEventInfo(this,"onmouseleave",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_n.bandid,_n.cellid,_n.rowidx,_m);return this.onmouseleave._fireUserEvent(this,_o);}return false;};_pListView.on_fire_sys_onmousedown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.onmousedown&&this.onmousedown._has_handlers){var _n=this._makeEventInfo(_l);var _o=new nexacro.ListViewMouseEventInfo(this,"onmousedown",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_n.bandid,_n.cellid,_n.rowidx,_m);return this.onmousedown._fireSysEvent(this,_o);}return false;};_pListView.on_fire_user_onmousedown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.onmousedown&&this.onmousedown._has_handlers){var _n=this._makeEventInfo(_l);var _o=new nexacro.ListViewMouseEventInfo(this,"onmousedown",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_n.bandid,_n.cellid,_n.rowidx,_m);return this.onmousedown._fireUserEvent(this,_o);}return false;};_pListView.on_fire_sys_onmouseup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.onmouseup&&this.onmouseup._has_handlers){var _n=this._makeEventInfo(_l);var _o=new nexacro.ListViewMouseEventInfo(this,"onmouseup",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_n.bandid,_n.cellid,_n.rowidx,_m);return this.onmouseup._fireSysEvent(this,_o);}return false;};_pListView.on_fire_user_onmouseup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.onmouseup&&this.onmouseup._has_handlers){var _n=this._makeEventInfo(_l);var _o=new nexacro.ListViewMouseEventInfo(this,"onmouseup",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_n.bandid,_n.cellid,_n.rowidx,_m);return this.onmouseup._fireUserEvent(this,_o);}return false;};_pListView.on_fire_sys_onmousemove=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.onmousemove&&this.onmousemove._has_handlers){var _n=this._makeEventInfo(_l);var _o=new nexacro.ListViewMouseEventInfo(this,"onmousemove",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_n.bandid,_n.cellid,_n.rowidx,_m);return this.onmousemove._fireSysEvent(this,_o);}return false;};_pListView.on_fire_user_onmousemove=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.onmousemove&&this.onmousemove._has_handlers){var _n=this._makeEventInfo(_l);var _o=new nexacro.ListViewMouseEventInfo(this,"onmousemove",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_n.bandid,_n.cellid,_n.rowidx,_m);return this.onmousemove._fireUserEvent(this,_o);}return false;};_pListView.on_fire_sys_ondrag=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(this.ondrag&&this.ondrag._has_handlers){var _o=this._getDragData();var _p=this._makeEventInfo(_m);var _q=new nexacro.ListViewDragEventInfo(this,"ondrag",_o,null,"text",null,this,_m,_k,_l,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_p.bandid,_p.cellid,_p.rowidx,_n);return [this.ondrag._fireSysEvent(this,_q),this,_m,_o,_q.userdata];}return [false];};_pListView._noFireDragFlag=false;_pListView.on_fire_user_ondrag=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){this._noFireDragFlag=false;var _o=null;var _p=null;var _q=this._getDragData();var _r=[false];var _s=null;if(this.ondrag&&this.ondrag._has_handlers){_s=this._makeEventInfo(_m);_o=new nexacro.ListViewDragEventInfo(this,"ondrag",_q,null,"text",null,this,_m,_k,_l,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_s.bandid,_s.cellid,_s.rowidx,_n);}if(this._selectscrollmode!=="scroll"){if(_o){if(this.ondrag._fireUserEvent(this,_o)==true){return [true,this,_m,_q,_o.userdata];}else if(this.ondrag.defaultprevented==true){return [false,this,_m,_q,_o.userdata];}}}else{this._noFireDragFlag=true;}if(this._noFireDragFlag==true){var _t=nexacro._cur_drag_info;if(_t){_t.isSelfAction=true;}}_r=[this._noFireDragFlag,this,_m,_q,_p];return _r;};_pListView.on_fire_sys_ondragenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r,_s){if(this.ondragenter&&this.ondragenter._has_handlers){var _t=this._makeEventInfo(_r);var _u=new nexacro.ListViewDragEventInfo(this,"ondragenter",_c,_d,_e,_f,_a,_b,_q,_r,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_t.bandid,_t.cellid,_t.rowidx,_s);return this.ondragenter._fireSysEvent(this,_u);}return false;};_pListView.on_fire_user_ondragenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r,_s){if(this._noFireDragFlag==true||(_a&&_a._selectscrollmode&&(_a._selectscrollmode=="scroll"))){return true;}if(this.ondragenter&&this.ondragenter._has_handlers){var _t=this._makeEventInfo(_r);var _u=new nexacro.ListViewDragEventInfo(this,"ondragenter",_c,_d,_e,_f,_a,_b,_q,_r,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_t.bandid,_t.cellid,_t.rowidx,_s);return this.ondragenter._fireUserEvent(this,_u);}return false;};_pListView.on_fire_sys_ondragleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r,_s){if(this.ondragleave&&this.ondragleave._has_handlers){var _t=this._makeEventInfo(_r);var _u=new nexacro.ListViewDragEventInfo(this,"ondragleave",_c,_d,_e,_f,_a,_b,_q,_r,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_t.bandid,_t.cellid,_t.rowidx,_s);return this.ondragleave._fireSysEvent(this,_u);}return false;};_pListView.on_fire_user_ondragleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r,_s){if(this._noFireDragFlag==true||(_a&&_a._selectscrollmode&&(_a._selectscrollmode=="scroll"))){return true;}if(this.ondragleave&&this.ondragleave._has_handlers){var _t=this._makeEventInfo(_r);var _u=new nexacro.ListViewDragEventInfo(this,"ondragleave",_c,_d,_e,_f,_a,_b,_q,_r,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_t.bandid,_t.cellid,_t.rowidx,_s);return this.ondragleave._fireUserEvent(this,_u);}return false;};_pListView.on_fire_sys_ondrop=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r,_s){if(this.ondrop&&this.ondrop._has_handlers){var _t=this._makeEventInfo(_r);var _u=new nexacro.ListViewDragEventInfo(this,"ondrop",_c,_d,_e,_f,_a,_b,_q,_r,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_t.bandid,_t.cellid,_t.rowidx,_s);return this.ondrop._fireSysEvent(this,_u);}return false;};_pListView.on_fire_user_ondrop=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r,_s){if(this._noFireDragFlag==true||(_a&&_a._selectscrollmode&&(_a._selectscrollmode=="scroll"))){if(_a&&_a._noFireDragFlag){_a._noFireDragFlag=false;}this._noFireDragFlag=false;return true;}if(this.ondrop&&this.ondrop._has_handlers){var _t=this._makeEventInfo(_r);var _u=new nexacro.ListViewDragEventInfo(this,"ondrop",_c,_d,_e,_f,_a,_b,_q,_r,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_t.bandid,_t.cellid,_t.rowidx,_s);return this.ondrop._fireUserEvent(this,_u);}return false;};_pListView.on_fire_sys_ondragmove=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r,_s,_t,_u){return nexacro.Component.prototype.on_fire_sys_ondragmove.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r,_s,_t,_u);};_pListView.on_fire_user_ondragmove=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r,_s){if(!_a||!_a._selectscrollmode||_a._selectscrollmode&&(_a._selectscrollmode!=="scroll")){if(this.ondragmove&&this.ondragmove._has_handlers){var _t=this._makeEventInfo(_r);var _u=new nexacro.ListViewDragEventInfo(this,"ondragmove",_c,_d,_e,_f,_a,_b,_q,_r,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_t.bandid,_t.cellid,_t.rowidx,_s);return this.ondragmove._fireUserEvent(this,_u);}}else{return true;}return false;};_pListView._on_fire_onexpand=function(_a,_b){if(_b.fromreferenceobject._type_name=="_ListViewCellControl"){if(this.oncellexpand&&this.oncellexpand._has_handlers){_b.fromobject=this;this.oncellexpand._fireEvent(this,_b);}}if(_b.fromreferenceobject._type_name=="_ListViewBandControl"){if(this.onbandexpand&&this.onbandexpand._has_handlers){_b.fromobject=this;this.onbandexpand._fireEvent(this,_b);}}if(this.onexpand&&this.onexpand._has_handlers){_b.fromobject=this;this.onexpand._fireEvent(this,_b);}return true;};_pListView._on_fire_onbandstatuschanged=function(_a,_b,_c,_d){if(this.onbandstatuschanged&&this.onbandstatuschanged._has_handlers){switch(_b){case  -1:_b="collapse";break;case 1:case 2:_b="expand";break;default:_b="";break;}var _e=new nexacro.ListViewBandStatusEventInfo(this,"onbandstatuschanged",_c,_d,_a,_b);this.onbandstatuschanged._fireEvent(this,_e);}};_pListView.on_fire_ondropdown=function(_a){if(this.ondropdown&&this.ondropdown._has_handlers){var _b=this._makeEventInfo(_a);var _c;if(_a._getCellValue){_c=_a._getCellValue();}else{_c=_a.value;}var _d=new nexacro.ListViewEditEventInfo(this,"ondropdown",_b.rowidx,_b.bandid,_b.cellid,_c,_a);return this.ondropdown._fireCheckEvent(this,_d);}return true;};_pListView.on_fire_oncloseup=function(_a,_b,_c,_d,_e){if(this.oncloseup&&this.oncloseup._has_handlers){var _f=this._makeEventInfo(_a,_e);var _g;if(_a._getCellValue){_g=_a._getCellValue();}else{_g=_a.value;}var _h=new nexacro.ListViewEditEventInfo(this,"oncloseup",_f.rowidx,_f.bandid,_f.cellid,_g,_a);return this.oncloseup._fireEvent(this,_h);}return true;};_pListView.on_fire_onenterdown=function(_a){if(this.readonly){return true;}if(this.onenterdown&&this.onenterdown._has_handlers){var _b=this._makeEventInfo(_a);var _c;if(_a._getCellValue){_c=_a._getCellValue();}else{_c=_a.value;}var _d=new nexacro.ListViewEditEventInfo(this,"onenterdown",_b.rowidx,_b.bandid,_b.cellid,_c,_a);return this.onenterdown._fireEvent(this,_d);}return true;};_pListView.on_fire_onimeaction=function(_a,_b,_c,_d,_e,_f,_g){if(!this.enable){return true;}if(this.oncellimeaction&&this.oncellimeaction._has_handlers){var _h=this._makeEventInfo(_a);var _i=new nexacro.ListViewKeyEventInfo(this,"oncellimeaction",_h.rowidx,_h.bandid,_h.cellid,_c,_d,_e,_b,_a,_g);return this.oncellimeaction._fireEvent(this,_i);}return false;};_pListView._setSubgroup=function(_a,_b){switch(_a){case "expand":if(_b=="expand"){this._subgroup=nexacro._PanelConst.GROUPING_SUBSTYLE_BAND_EXPAND;}else if(_b=="collapse"){this._subgroup=nexacro._PanelConst.GROUPING_SUBSTYLE_BAND_COLLAPSE;}break;case "accordion":this._subgroup=nexacro._PanelConst.GROUPING_SUBSTYLE_BAND_ACCORDION;break;case "popup":this._subgroup=nexacro._PanelConst.GROUPING_SUBSTYLE_BAND_POPUP;break;case "none":this._subgroup=nexacro._PanelConst.GROUPING_SUBSTYLE_NONE;break;}};_pListView._makeEventInfo=function(_a){var _b={cellid:"",cellidx:this._DEFAULT_CELLINDEX,rowidx:this._DEFAULT_ROWINDEX,bandid:"",bandidx:this._DEFAULT_SUBINDEX};var _c=this._findObj(_a);if(_c.bandobj){if(_c.cellobj){_b.cellid=_c.cellobj.id;_b.cellidx=_c.cellobj._cellidx;}_b.rowidx=_c.bandobj._itemindex;_b.bandid=_c.bandobj.id;_b.bandidx=_c.bandobj._itemsubidx;}return _b;};_pListView._findObj=function(_a){var _b={cellobj:null,bandobj:null};var _c=_a;while(_c&&!(_c instanceof nexacro._ListViewBandControl)){if(_c instanceof nexacro.ListView){if(_c==this){break;}}_c=_c.parent;}if(_c!=this){_b.bandobj=_c;}_c=_a;while(_c&&!(_c instanceof nexacro._ListViewCellControl)){if(_c==this){break;}else{_c=_c.parent;}}if(_c!=this){_b.cellobj=_c;}return _b;};_pListView._findEditableCell=function(_a,_b,_c){var _d,_e;var _f=null;if(nexacro._isArray(_a)){for(_d=0,_e=_a.length;_d<_e;_d++ ){if(_d>0){_b=(_c==1)?0:_a._getLastChild()?_a._getLastChild()._cellidx:0;}if(_f=this._findEditableCell(_a[_d],_b,_c)){break;}}}else{var _g=this._getBandCells(_a);if(_g){switch(_c){case  -1:for(_d=_b;_d>=0;_d-- ){if(_g[_d]._hasEditor()||_g[_d]._refinfo._getEdittype(_g[_d]._getDataRow())=="checkbox"){_f=_g[_d];break;}}break;case 1:for(_d=_b,_e=_g.length;_d<_e;_d++ ){if(_g[_d]._hasEditor()||_g[_d]._refinfo._getEdittype(_g[_d]._getDataRow())=="checkbox"){_f=_g[_d];break;}}break;}}}return _f;};_pListView._remainEditableCell=function(_a){var _b=this.getSelect();var _c=this._getBindCount();var _d;var _e=this._getItem(_b.row);if(_e){var _f;var _g=_b.cell<0?0:_b.cell;switch(_a){case  -1:_g-=1;if(nexacro._isArray(_e)){var _h=_b.band>=0?_b.band:0;var _i=true;for(;_h>=0;_h-- ){_d=_e[_h];if(!_i){_g=_d._getLastChild()._cellidx;}if(_f=this._findEditableCell(_d,_g, -1)){break;}_i=false;}}else{_f=this._findEditableCell(_e,_g, -1);}if(!_f&&(_b.row-1>=0)){_e=this._getItem(_b.row-1);if(_e){if(nexacro._isArray(_e)){_d=_e[_e.length-1];}else{_d=_e;}_f=this._findEditableCell(_e,_d._getLastChild()._cellidx,_a);}}break;case 1:if(nexacro._isArray(_e)){_e=_e[_b.band>=0?_b.band:0];}_g+=1;_f=this._findEditableCell(_e,_g,_a);if(!_f&&(_b.row+1<_c)){_e=this._getItem(_b.row+1);if(_e){_g=0;_f=this._findEditableCell(_e,_g,_a);}}break;}if(_f){return true;}}return false;};_pListView._getBandCells=function(_a){var _b=_a._children;if(_b&&_b.length){if(_b[0] instanceof nexacro._ListViewCellControl){return _b;}}return null;};_pListView._getCurrentBand=function(_a,_b){var _c=this._getCtxtBaseInfo();var _d=_c?_c._bands:null;if(!_d){return null;}var _e=this.getSelect();var _f=(_a!=null)?_a:_e.row;var _g=(_b!=null)?_b:_e.band;var _h=null;var _i="body";var _j=this._getPanelSlotCount();switch(_f){case  -1:_i="head";break;case  -2:_i="tail";break;}var _k=_d[_i];if(!_k&&_i=="body"){var _l="detail";if(_d[_l]){_i=_l;_k=_d[_i];}}if(!_k){return null;}if(_i=="body"||_i=="detail"){if(this._items.length>_f){_h=this._items[_f* _j+_g];}}return _h;};_pListView._getCurrentCell=function(_a,_b,_c){var _d=this.getSelect();var _e=(_c!=null)?_c:_d.cell;var _f=this._getCurrentBand(_a,_b);var _g=null;if(_f){var _h=this._getBandCells(_f);if(_h){if(typeof (_e)=="string"){for(var _i=0,_j=_h.length;_i<_j;_i++ ){if(_h[_i].id==_e){_g=_h[_i];break;}}}else{_g=_h[_e];}}}return _g;};_pListView._getFirstEditableCell=function(){var _a={row:this._DEFAULT_ROWINDEX,band:this._DEFAULT_SUBINDEX,cell:this._DEFAULT_CELLINDEX};var _b=this._getBindCount();if(_b>0){var _c=this._getItem(0);if(_c){var _d=this._findEditableCell(_c,0,1);if(_d){_a.row=_d._rowidx;_a.band=_d._bandidx;_a.cell=_d._cellidx;}}}return _a;};_pListView._getLastEditableCell=function(){var _a={row:this._DEFAULT_ROWINDEX,band:this._DEFAULT_SUBINDEX,cell:this._DEFAULT_CELLINDEX};var _b=this._getBindCount();if(_b>0){var _c;var _d=this._getItem(_b-1);if(_d){var _e,_f;if(nexacro._isArray(_d)){for(var _g=_d.length-1;_g>=0;_g-- ){_c=_d[_g];if(_f=_c._getLastChild()){if(_e=this._findEditableCell(_c,_f._cellidx, -1)){break;}}}}else{if(_f=_d._getLastChild()){_e=this._findEditableCell(_d,_f._cellidx, -1);}}if(_e){_a.row=_e._rowidx;_a.band=_e._bandidx;_a.cell=_e._cellidx;}}}return _a;};_pListView._getActionItem=function(_a){return _a?_a.fromobject:null;};_pListView._getActionItemCell=function(_a){return _a?_a.fromreferenceobject:null;};_pListView._getSelectScrollMode=function(){var _a=this.selectscrollmode;if(_a=="default"){if(nexacro._isTouchInteraction){_a="scroll";}else{_a="select";}}return _a;};_pListView._getViewStartScrollPos=function(){var _a=this._getItemScrollViewStart();if(_a<0){_a=0;}var _b=this._getPanelSlot(_a);var _c;if(_b){_c=_b._getSlotCalcTop();}return _c;};delete _pListView;}